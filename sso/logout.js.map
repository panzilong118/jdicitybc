{"version":3,"sources":["../src/sso/logout.js"],"names":["req","res","host","get","replace","test","clearCookie","path","domain","httpOnly","send"],"mappings":";;;;;;kBAAe,UAASA,GAAT,EAAaC,GAAb,EAAkB;AAC/B,OAAIC,OAAOF,IAAIG,GAAJ,CAAQ,MAAR,EAAgBC,OAAhB,CAAwB,uBAAxB,EAAgD,EAAhD,CAAX;AACC,OAAG,WAAWC,IAAX,CAAgBH,IAAhB,CAAH,EAA0B;AACvBD,UAAIK,WAAJ,CAAgB,WAAhB,EAA6B,EAACC,MAAM,GAAP,EAAWC,QAAON,IAAlB,EAAuB,UAAS,CAAhC,EAAkCO,UAAU,IAA5C,EAA7B;AACAR,UAAIK,WAAJ,CAAgB,mBAAhB,EAAqC,EAACC,MAAM,GAAP,EAAWC,QAAON,IAAlB,EAAuB,UAAS,CAAhC,EAAkCO,UAAU,IAA5C,EAArC;AACF,IAHD,MAGK;AACFR,UAAIK,WAAJ,CAAgB,WAAhB,EAA6B,EAACC,MAAM,GAAP,EAAWC,QAAON,IAAlB,EAAuBO,UAAU,IAAjC,EAA7B;AACAR,UAAIK,WAAJ,CAAgB,WAAhB,EAA6B,EAACC,MAAM,GAAP,EAAWC,QAAO,SAAON,IAAzB,EAA8BO,UAAU,IAAxC,EAA7B;AACAR,UAAIK,WAAJ,CAAgB,mBAAhB,EAAqC,EAACC,MAAM,GAAP,EAAWC,QAAON,IAAlB,EAAuBO,UAAU,IAAjC,EAArC;AACF;AACDR,OAAIS,IAAJ,CAAS,kBAAT;AACF,C","file":"logout.js","sourcesContent":["export default function(req,res) {\r\n\t var host = req.get(\"host\").replace(/buyer\\.|shop\\.|mall\\./,\"\");\r\n   if(/passport/.test(host)) {\r\n      res.clearCookie('_ecc_b2b_', {path: '/',domain:host,\"maxAge\":0,httpOnly: true});\r\n      res.clearCookie('_ecc_b2b_platform', {path: '/',domain:host,\"maxAge\":0,httpOnly: true});\r\n   }else{\r\n      res.clearCookie('_ecc_b2b_', {path: '/',domain:host,httpOnly: true});\r\n      res.clearCookie('_ecc_b2b_', {path: '/',domain:\"www.\"+host,httpOnly: true});\r\n      res.clearCookie('_ecc_b2b_platform', {path: '/',domain:host,httpOnly: true});\r\n   }\r\n   res.send(\"clear cookie, ok\");\r\n}"]}