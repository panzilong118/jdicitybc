{"version":3,"sources":["../../../../../src/components/Release/BasicCategoryCascade/v1.0.0/view/CategoryCascade.js"],"names":["Option","listTip","allowClear","CategoryCascade","props","context","handleFourCategoryChange","cid","option","isInit","setState","fourValue","detailIndex","getCidRedux","four","data","handleChangeCategoryValue","fourLeaf","handleThirdCategoryChange","firstOn","secondOn","thirdOn","fourOn","thirdValue","fourCategoryOptions","third","getFourCid","type","then","result","length","state","thirdLeaf","clearData","handleSecondCategoryChange","secondValue","thirdCategoryOptions","second","getThirdCid","secondLeaf","handleFirstCategoryChange","firstValue","secondCategoryOptions","first","getSecondCid","firstLeaf","firstCategoryOptions","currentIndex","cids","parentCid","getFirstCid","nextProps","itemTmplPublishVo","split","ifHasLeaf","itemName","publishUserId","operatorId","id","undefined","console","log","ifValid","resetParamsRedux","itemPerfectVo","updateItemTmplAction","category","index","hasLeaf","map","item","firstResult","categoryName","secondResult","thirdResult","fourResult","firstloaded","dataSource","secondloaded","thirdloaded","fourloaded","styles","labelWrap","labelTitle","color","labelCont","Component"],"mappings":"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","file":"CategoryCascade.js","sourcesContent":["/**\r\n * 平台分类组件：四级类目级联选择框\r\n */\r\nimport React, { Component }  from 'react';\r\nimport { Select ,Tooltip } from 'jdcloudui';\r\nimport styles from './style/category.less';\r\nimport './style/style.css';\r\n\r\nconst Option = Select.Option;\r\nconst listTip = '请选择类目';\r\nconst allowClear = true;\r\n\r\nexport default class CategoryCascade extends Component {\r\n  constructor(props,context) {\r\n    super(props,context);\r\n    this.state={\r\n      firstLeaf: false, //一级类目是否是叶子节点\r\n      secondLeaf: false, //二级类目是否是叶子节点\r\n      thirdLeaf: false, //三级类目是否是叶子节点\r\n      fourLeaf: false, //四级类目是否是叶子节点\r\n      firstValue: null,\r\n      secondValue: null,\r\n      thirdValue: null,\r\n      fourValue: null,\r\n    };\r\n\r\n    this.firstCategoryOptions = null\r\n    this.secondCategoryOptions = null\r\n    this.thirdCategoryOptions = null\r\n    this.fourCategoryOptions = null\r\n\r\n    this.firstLeaf = false;\r\n    this.secondLeaf = false;\r\n    this.thirdLeaf = false;\r\n    this.fourLeaf = false;\r\n\r\n    this.currentIndex = 0;\r\n    this.firstOn = true;\r\n    this.secondOn = false;\r\n    this.thirdOn = false;\r\n    this.fourOn = false;\r\n    this.cids = ''; //用于保存类目回显数据\r\n    this.cid = null; //保存终极类目，用来判断修改后的类目是否与原类目相同\r\n  }\r\n\r\n  componentWillMount() {\r\n    //请求一级类目\r\n    let parentCid = -1;\r\n    this.props.getFirstCid(parentCid,this.props.type);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    if(nextProps.itemTmplPublishVo){\r\n      if(nextProps.itemTmplPublishVo.cids && nextProps.itemTmplPublishVo.cids != this.cids){\r\n        this.cids = nextProps.itemTmplPublishVo.cids;\r\n        this.cid = nextProps.itemTmplPublishVo.cid;\r\n        //数据回显\r\n        let cids = this.cids.split('-');\r\n\r\n        switch(cids.length){\r\n          case 1:\r\n            this.setState({ firstLeaf:true });\r\n            this.firstLeaf = true;\r\n            this.handleFirstCategoryChange(cids[0],'',true);//第三个参数表示是否是初始化数据过程\r\n            return;\r\n          case 2:\r\n            this.setState({ secondLeaf:true });\r\n            this.secondLeaf = true;\r\n            this.handleFirstCategoryChange(cids[0],'',true);\r\n            this.handleSecondCategoryChange(cids[1],'',true);\r\n            return;\r\n          case 3:\r\n            this.setState({ thirdLeaf:true });\r\n            this.thirdLeaf = true;\r\n            this.handleFirstCategoryChange(cids[0],'',true);\r\n            this.handleSecondCategoryChange(cids[1],'',true);\r\n            this.handleThirdCategoryChange(cids[2],'',true);\r\n            return;\r\n          case 4:\r\n            this.setState({ fourLeaf:true });\r\n            this.fourLeaf = true;\r\n            this.handleFirstCategoryChange(cids[0],'',true);\r\n            this.handleSecondCategoryChange(cids[1],'',true);\r\n            this.handleThirdCategoryChange(cids[2],'',true);\r\n            this.handleFourCategoryChange(cids[3],'',true);\r\n            return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //保存终极类目cid\r\n  handleChangeCategoryValue(cid, ifHasLeaf) {\r\n    let itemName = this.props.itemTmplPublishVo.itemName;\r\n    // 保留管理员信息组件数据\r\n    let publishUserId = this.props.itemTmplPublishVo.publishUserId;\r\n    let operatorId = this.props.itemTmplPublishVo.operatorId;\r\n\r\n    // 保留商品id（主要用在编辑时）\r\n    let id = this.props.itemTmplPublishVo.id;\r\n\r\n    if(cid == undefined){\r\n      cid = null\r\n    }\r\n\r\n    if(ifHasLeaf && cid){\r\n      console.log('是终极类目，且cid存在')\r\n      let itemTmplPublishVo = this.props.itemTmplPublishVo;\r\n      if(cid != this.cid){\r\n        console.log('cid不同，重设数据')\r\n        this.cid = cid;\r\n        //不是已发布商品，类目改变后清空之前操作数据\r\n        if(!this.props.ifValid) {\r\n          itemTmplPublishVo = this.props.resetParamsRedux;\r\n          itemTmplPublishVo.itemName = itemName;\r\n          itemTmplPublishVo.publishUserId = publishUserId;\r\n          itemTmplPublishVo.operatorId = operatorId;\r\n          itemTmplPublishVo.id = id;\r\n          if(this.props.type == 1){\r\n            itemTmplPublishVo.itemPerfectVo = null;\r\n          }\r\n        }\r\n        // else {\r\n        //     itemTmplPublishVo.industryLabel = '';\r\n        // }\r\n      }\r\n      itemTmplPublishVo.cid = cid;\r\n      this.props.updateItemTmplAction(itemTmplPublishVo)\r\n    } else {\r\n      console.log('非终极类目，或cid不存在')\r\n      let itemTmplPublishVo = this.props.itemTmplPublishVo;\r\n      itemTmplPublishVo.cid = null;\r\n      this.props.updateItemTmplAction(itemTmplPublishVo)\r\n    }\r\n  }\r\n\r\n  //判断当前是否是根节点\r\n  detailIndex(cid, category , index){\r\n    this.setState({\r\n      secondLeaf: false,\r\n      thirdLeaf: false,\r\n      fourLeaf: false,\r\n    })\r\n    let hasLeaf = false;\r\n    if(category && category.length > 0){\r\n      category.map((item, index) => {\r\n        if(item.cid == cid){\r\n          this.currentIndex = index;\r\n          if(category[this.currentIndex].hasLeaf == 1){\r\n            hasLeaf = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    switch (index){\r\n      case 1:\r\n        this.setState({firstLeaf: hasLeaf});\r\n        this.firstLeaf = hasLeaf;\r\n        return;\r\n      case 2:\r\n        this.setState({secondLeaf: hasLeaf});\r\n        this.secondLeaf = hasLeaf;\r\n        return;\r\n      case 3:\r\n        this.setState({thirdLeaf: hasLeaf});\r\n        this.thirdLeaf = hasLeaf;\r\n        return;\r\n      case 4:\r\n        this.setState({fourLeaf: hasLeaf});\r\n        this.fourLeaf = hasLeaf;\r\n        return;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取四级类目cid，返回组件对外提供的方法上面，供父组件使用\r\n   * @param cid\r\n   */\r\n  handleFourCategoryChange=(cid,option,isInit)=> {\r\n    this.setState({\r\n      fourValue: cid\r\n    });\r\n    if(!isInit){\r\n      this.detailIndex(cid, this.props.getCidRedux.four.data.data, 4);\r\n      this.handleChangeCategoryValue(cid, this.fourLeaf);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 查询四级类目\r\n   * @param cid\r\n   */\r\n  handleThirdCategoryChange=(cid,option,isInit)=> {\r\n    this.firstOn = true;\r\n    this.secondOn = true;\r\n    this.thirdOn = true;\r\n    this.fourOn = true;\r\n    this.setState({\r\n      thirdValue: cid,\r\n      fourValue: null,\r\n    });\r\n    this.fourCategoryOptions = [];\r\n    if (cid){\r\n      if(!isInit){\r\n        this.detailIndex(cid, this.props.getCidRedux.third.data.data, 3);\r\n      }\r\n      this.props.getFourCid(cid,this.props.type).then(\r\n         (result) => {\r\n          if(result.data && result.data.length < 1){\r\n              if(!this.state.thirdLeaf){\r\n                this.fourCategoryOptions = [];\r\n                this.firstOn = true;\r\n                this.secondOn = true;\r\n                this.thirdOn = true;\r\n                this.fourOn = false;\r\n              }else{\r\n                this.setState({\r\n                    fourValue: null,\r\n                  });\r\n                this.fourCategoryOptions = null;\r\n              }\r\n            }\r\n           }\r\n        );\r\n    } else {\r\n      this.fourCategoryOptions = null;\r\n      this.props.clearData(3);\r\n    }\r\n    if(!isInit){\r\n      this.handleChangeCategoryValue(cid, this.thirdLeaf);\r\n    }\r\n  }\r\n  /**\r\n   * 查询三级类目\r\n   * @param cid\r\n   */\r\n  handleSecondCategoryChange=(cid,option,isInit)=> {\r\n    this.setState({\r\n      secondValue: cid,\r\n      thirdValue: null,\r\n      fourValue: null,\r\n    });\r\n    this.firstOn = true;\r\n    this.secondOn = true;\r\n    this.thirdOn = true;\r\n    this.fourOn = false;\r\n    this.thirdCategoryOptions = null;\r\n    this.fourCategoryOptions = null;\r\n    if (cid){\r\n      if(!isInit){\r\n        this.detailIndex(cid, this.props.getCidRedux.second.data.data, 2);\r\n      }\r\n      this.props.getThirdCid(cid,this.props.type).then(\r\n        (result) => {\r\n          if(result.data && result.data.length < 1){\r\n              if(!this.state.secondLeaf){\r\n                this.thirdCategoryOptions = [];\r\n                this.fourCategoryOptions = [];\r\n                this.firstOn = true;\r\n                this.secondOn = true;\r\n                this.thirdOn = false;\r\n                this.fourOn = false;\r\n              }else{\r\n                this.setState({\r\n                    thirdValue: null,\r\n                    fourValue: null,\r\n                });\r\n                this.thirdCategoryOptions = null;\r\n                this.fourCategoryOptions = null;\r\n              }\r\n          }\r\n        }\r\n      )\r\n    }else{\r\n      this.thirdCategoryOptions = null;\r\n      this.fourCategoryOptions = null;\r\n      this.props.clearData(2);\r\n    }\r\n    if(!isInit){\r\n      this.handleChangeCategoryValue(cid, this.secondLeaf);\r\n    }\r\n  }\r\n  /**\r\n   * 查询二级类目\r\n   * @param cid\r\n   */\r\n  handleFirstCategoryChange=(cid,option,isInit)=> {\r\n    this.setState({\r\n      firstValue: cid,\r\n      secondValue: null,\r\n      thirdValue: null,\r\n      fourValue: null,\r\n    });\r\n    this.firstOn = true;\r\n    this.secondOn = true;\r\n    this.thirdOn = false;\r\n    this.fourOn = false;\r\n    this.secondCategoryOptions = null;\r\n    this.thirdCategoryOptions = null;\r\n    this.fourCategoryOptions = null;\r\n    if (cid) {\r\n      if(!isInit){\r\n        this.detailIndex(cid, this.props.getCidRedux.first.data.data, 1);\r\n      }\r\n      this.props.getSecondCid(cid,this.props.type).then(\r\n        (result) => {\r\n          if(result.data && result.data.length < 1){\r\n            if(!this.state.firstLeaf){\r\n              this.secondCategoryOptions = [];\r\n              this.thirdCategoryOptions = [];\r\n              this.fourCategoryOptions = [];\r\n              this.secondOn = false;\r\n              this.thirdOn = false;\r\n              this.fourOn = false;\r\n            }else{\r\n               this.setState({\r\n                  secondValue: null,\r\n                  thirdValue: null,\r\n                  fourValue: null,\r\n                });\r\n              this.secondCategoryOptions = null;\r\n              this.thirdCategoryOptions = null;\r\n              this.fourCategoryOptions = null;\r\n            }\r\n          }\r\n        }\r\n      );\r\n    } else{\r\n      this.secondCategoryOptions = null;\r\n      this.thirdCategoryOptions = null;\r\n      this.fourCategoryOptions = null;\r\n      this.props.clearData(1);\r\n    }\r\n    if(!isInit){\r\n      this.handleChangeCategoryValue(cid, this.firstLeaf);\r\n    }\r\n  }\r\n\r\n  dataSource() {\r\n    return {\r\n      first:()=>{\r\n        if (this.props.getCidRedux.first.data){\r\n          let firstResult = this.props.getCidRedux.first.data.data;\r\n          if (firstResult && firstResult.length > 0){\r\n            this.firstCategoryOptions = firstResult.map(first => <Option  title = {first.categoryName}  key={first.cid}>\r\n                  {first.categoryName}\r\n            </Option>);\r\n          }\r\n        }\r\n      },\r\n      second:()=>{\r\n        if (this.props.getCidRedux.second.data){\r\n          let secondResult = this.props.getCidRedux.second.data.data;\r\n          if (secondResult && secondResult.length > 0){\r\n            this.secondCategoryOptions = secondResult.map(second => <Option title = {second.categoryName}  key={second.cid}>{second.categoryName}</Option>);\r\n          }\r\n        }\r\n      },\r\n      third:()=>{\r\n        if (this.props.getCidRedux.third.data){\r\n          let thirdResult = this.props.getCidRedux.third.data.data;\r\n          if (thirdResult && thirdResult.length > 0){\r\n            this.thirdCategoryOptions = thirdResult.map(third => <Option title = {third.categoryName}  key={third.cid}>{third.categoryName}</Option>);\r\n          }\r\n        }\r\n      },\r\n      four:()=>{\r\n        if (this.props.getCidRedux.four.data){\r\n          let fourResult = this.props.getCidRedux.four.data.data;\r\n          if (fourResult && fourResult.length > 0){\r\n            this.fourCategoryOptions = fourResult.map(four => <Option title = {four.categoryName}  key={four.cid}>{four.categoryName}</Option>);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.firstOn && this.props.getCidRedux.first.firstloaded && this.dataSource().first();\r\n    this.secondOn && this.props.getCidRedux.second.secondloaded && this.dataSource().second();\r\n    this.thirdOn && this.props.getCidRedux.third.thirdloaded && this.dataSource().third();\r\n    this.fourOn && this.props.getCidRedux.four.fourloaded && this.dataSource().four();\r\n\r\n    return (\r\n      <div className={styles.labelWrap}>\r\n        <label className={styles.labelTitle}><span style={{color:'red'}}>*</span>平台分类：</label>\r\n        <div className={styles.labelCont}>\r\n        {/*一级类目变化*/}\r\n          <Select\r\n              placeholder='请选择'\r\n              value = {this.state.firstValue}\r\n              notFoundContent={listTip}\r\n              allowClear={allowClear}\r\n              size=\"large\"\r\n              className=\"select\"\r\n              onChange={this.handleFirstCategoryChange}>\r\n                  {this.firstCategoryOptions}\r\n          </Select>\r\n        {/*二级类目变化*/}\r\n          <Select\r\n              disabled = {this.state.firstLeaf }\r\n              placeholder='请选择'\r\n              notFoundContent={listTip}\r\n              allowClear={allowClear}\r\n              size=\"large\"\r\n              className=\"select\"\r\n              onChange={this.handleSecondCategoryChange}\r\n              value = {this.state.secondValue} >\r\n                  {this.secondCategoryOptions}\r\n          </Select>\r\n        {/*三级类目变化*/}\r\n          <Select\r\n              disabled = {this.state.secondLeaf || this.state.firstLeaf }\r\n              placeholder='请选择'\r\n              notFoundContent={listTip}\r\n              allowClear={allowClear}\r\n              size=\"large\"\r\n              className=\"select\"\r\n              onChange={this.handleThirdCategoryChange}\r\n              value = {this.state.thirdValue} >\r\n                  {this.thirdCategoryOptions}\r\n          </Select>\r\n        {/*四级类目变化*/}\r\n          <Select\r\n              disabled = {this.state.firstLeaf || this.state.secondLeaf || this.state.thirdLeaf }\r\n              placeholder='请选择'\r\n              notFoundContent={listTip}\r\n              allowClear={allowClear}\r\n              size=\"large\"\r\n              className=\"select\"\r\n              value = {this.state.fourValue}\r\n              onChange={this.handleFourCategoryChange}>\r\n                  {this.fourCategoryOptions}\r\n          </Select>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}