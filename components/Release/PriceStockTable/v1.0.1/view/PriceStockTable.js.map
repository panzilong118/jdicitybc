{"version":3,"sources":["../../../../../src/components/Release/PriceStockTable/v1.0.1/view/PriceStockTable.js"],"names":["Content","CheckboxGroup","Group","RadioGroup","FormItem","Item","uuid","PriceStockTable","create","props","changeECount","index","value","itemTmplPublishVo","JSON","parse","num","parseInt","itemPerfectVo","preSkuPriceVoList","inventory","supplyStatus","state","setState","updateItemTmplAction","changeESprice","areaPriceList","supplyPrice","changeBESprice","e","target","Number","toFixed","radioChange","changeCount","number","indexOf","length","count","allcount","changeAllCount","map","item","changeBPrice","allPrice","changeAllPrice","setClassName","record","rules","itemTmplSkuVoList","statusItem","skuStatus","statusItemArr","skuItemArr","attributes","aidItem","aidIndex","push","aid","vid","preaidItem","preaidIndex","styles","red","handleModal","action","type","console","log","visible","handleOk","PriceData","key","isPrice","PriceArr","filter","_item","labelPrice","labelPriceList","changeActionPrice","data","labelId","countContent","width","marginLeft","priceContent","columns","title","dataIndex","render","text","float","marginRight","marginTop","disabled","edit","regionalArr","columnsSku","context","forEach","vName","proposalPrice","color","cursor","ifProposalPrice","splice","initdata","totalPrice","ifchecked","addressDATA","checkedList","afterChecked","optionsList","regionalList","visiblePop","visibleView","column","modalKey","priceList","lastKey","getRegionalPriceStock","initColumns","skuItem","skuIndex","param","queryShopInfo","then","result","code","html","html2","nextProps","priceStockData","loaded","regionalDATA","i","form","getFieldDecorator","getFieldValue","initialValue","formItemLayout","labelCol","span","wrapperCol","undefined","background","Component"],"mappings":"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","file":"PriceStockTable.js","sourcesContent":["/**\r\n * @file 发布商品-价格及库存Table组件\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form,Button,Layout,Modal,Checkbox,Table,Col,Row,\r\n         Popover,Radio,InputNumber,message,Input,Icon } from 'jdcloudui';\r\n\r\nimport RegionPriceEdit from '../../../RegionPriceEditRelease/v1.0.0/view';\r\nimport PriceModal from './PriceModal';\r\nimport styles from './style.less';\r\n\r\nconst { Content } = Layout;\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst RadioGroup = Radio.Group;\r\nconst FormItem = Form.Item\r\n\r\nlet uuid = 0;\r\n@Form.create()\r\n\r\nexport default class PriceStockTable extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.countContent = (\r\n      <span>\r\n        <span>设置库存:</span>\r\n        <InputNumber min={0}\r\n          onChange = {this.changeCount}\r\n          style = {{width: '100px', marginLeft: '8px'}}>\r\n        </InputNumber>\r\n        <Button type=\"primary\" ghost \r\n                onClick={this.changeAllCount}\r\n                style = {{marginLeft: '8px'}}>设置</Button>\r\n      </span>\r\n    );\r\n    this.priceContent = (\r\n      <span>\r\n        <span>设置价格:</span>\r\n        <InputNumber min={0}\r\n          // onChange = {this.changePrice}\r\n          onBlur = {(e)=>this.changeBPrice(e)}\r\n          style = {{width: '100px', marginLeft: '8px'}}>\r\n        </InputNumber>\r\n        <Button type=\"primary\" ghost\r\n                onClick={this.changeAllPrice}\r\n                style = {{marginLeft: '8px'}}>设置</Button>\r\n      </span>\r\n    );\r\n    this.columns = [\r\n    { title: <span>设置价格</span>,\r\n      dataIndex: 'sprice',\r\n      key: 'sprice',\r\n      render:(text,record, index) =>(\r\n        <div>\r\n         <span style = {{float: 'left',marginRight: '5px', marginTop: '4px'}}>全国价</span>\r\n              <InputNumber min={0.01}\r\n                          disabled = {record.disabled}\r\n                          onChange = {(e)=>this.changeESprice(e,index)}\r\n                          onBlur = {(e)=>this.changeBESprice(e,index)}\r\n                          value = {this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index] && \r\n                            this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList ?\r\n                              this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList[0].supplyPrice:null}\r\n                          style = {{width: '100px', float: 'left'}}></InputNumber>\r\n          <span className=\"outSprice\">\r\n           <span style = {{float: 'left',marginRight: '5px', marginTop: '4px'}}>\r\n              <RegionPriceEdit\r\n                              edit={this.props.edit}\r\n                              index={index}\r\n                              itemTmplPublishVo={this.props.itemTmplPublishVo}\r\n                              updateItemTmplAction = {this.props.updateItemTmplAction}\r\n                              type={this.props.type}\r\n                              regionalArr={this.regionalArr}\r\n                                >\r\n                              </RegionPriceEdit>\r\n                </span>\r\n         </span>\r\n        </div>\r\n        )\r\n    },\r\n    { title:<span>设置库存</span>,\r\n      dataIndex: 'inventory',\r\n      key: 'inventory',\r\n      render:(text,record, index) =>(\r\n        <div>\r\n          <span style = {{float: 'left',marginRight: '5px', marginTop: '4px'}}>库存</span>\r\n            <InputNumber disabled = {record.disabled} \r\n                        onChange = {(e) => {this.changeECount(index, e)}}\r\n                        value = {this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index] ? \r\n                          this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].inventory : ''}\r\n                         style = {{width: '100px', float: 'left'}}></InputNumber>\r\n        </div>\r\n    )\r\n  }\r\n  ];\r\n    let columnsSku = [\r\n      {\r\n        title: 'SKU信息',\r\n        dataIndex: 'attributes',\r\n        key: 'attributes',\r\n        width: 200,\r\n        render: (data) => {\r\n          var context = '';\r\n          (data || []).forEach((item) => {\r\n            context += item.vName + ' ';\r\n          });\r\n          return (<span>{context}</span>);\r\n        }\r\n      }, {\r\n        title: '建议售价',\r\n        dataIndex: 'proposalPrice',\r\n        key: 'proposalPrice',\r\n        width: 100,\r\n        render: (text, record, index) => {\r\n          const proposalPrice = record.proposalPrice ? '¥' + record.proposalPrice : '--';\r\n          return (<strong>{proposalPrice}</strong>);\r\n        }\r\n      }, {\r\n        title: (<span>\r\n        <span>设置价格</span>\r\n          <Popover content={this.priceContent} >\r\n              <span style = {{marginLeft: '8px', color: '#49a9ee', cursor: 'pointer'}}>设置全部</span>\r\n          </Popover>\r\n        </span>),\r\n        dataIndex: 'sprice',\r\n        key: 'sprice',\r\n        render:(text,record, index) =>(\r\n          <div>\r\n            <span style = {{float: 'left',marginRight: '5px', marginTop: '4px'}}>全国价</span>\r\n                <InputNumber min={0.01}\r\n                            disabled = {record.disabled}\r\n                            onChange = {(e)=>this.changeESprice(e,index)}\r\n                            onBlur = {(e)=>this.changeBESprice(e,index)}\r\n                            value = {this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index] && \r\n                              this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList ?\r\n                                this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList[0].supplyPrice:null}\r\n                            style = {{width: '100px', float: 'left'}}></InputNumber>\r\n  \r\n            <span className=\"outSprice\">\r\n               <span style = {{float: 'left',marginRight: '5px', marginTop: '4px'}}>\r\n                <RegionPriceEdit\r\n                                edit={this.props.edit}\r\n                                index={index}\r\n                                itemTmplPublishVo={this.props.itemTmplPublishVo}\r\n                                updateItemTmplAction = {this.props.updateItemTmplAction}\r\n                                type={this.props.type}\r\n                                regionalArr={this.regionalArr}\r\n                                  >\r\n                                </RegionPriceEdit>\r\n                  </span>\r\n           </span>\r\n          </div>\r\n          )\r\n      },\r\n      {\r\n        title:(<span>\r\n        <span>设置库存</span>\r\n          <Popover content={this.countContent} >\r\n              <span style = {{marginLeft: '8px', color: '#49a9ee', cursor: 'pointer'}}>设置全部</span>\r\n          </Popover>\r\n        </span>\r\n        ),\r\n        dataIndex: 'inventory',\r\n        key: 'inventory',\r\n        render:(text,record, index) =>(\r\n          <div>\r\n            <span style = {{float: 'left',marginRight: '5px', marginTop: '4px'}}>库存</span>\r\n              <InputNumber disabled = {record.disabled} \r\n                          onChange = {(e) => {this.changeECount(index, e)}}\r\n                          value = {this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index] ? \r\n                            this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].inventory : ''}\r\n                           style = {{width: '100px', float: 'left'}}></InputNumber>\r\n          </div>\r\n        )\r\n      },\r\n  ];\r\n    // 配置 价格及库存信息列表[建议售价]条目 是否显示\r\n    !this.props.ifProposalPrice && columnsSku.splice(1, 1);\r\n    this.columnsSku = columnsSku;\r\n    this.initdata=[{\r\n  key: 0,\r\n  count: 0,\r\n  totalPrice: null,//供货价\r\n  inventory: null,//销量\r\n  attributes: [],\r\n  ifchecked: 1\r\n}];\r\n    this.state={\r\n  addressDATA:[],\r\n  checkedList:[],\r\n  afterChecked: [],\r\n  optionsList:[],\r\n  regionalList:[],\r\n  initdata:this.initdata,\r\n  inventory:{},\r\n  supplyPrice:{},\r\n  visible:false,\r\n  visiblePop:{},\r\n  visibleView:{},\r\n  column:this.columns,\r\n  modalKey:null,\r\n  priceList: [],//分组价\r\n  PriceData:[],\r\n};\r\n    this.lastKey = 0;\r\n    this.record = {};\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.getRegionalPriceStock()\r\n    this.initColumns(this.props.itemTmplPublishVo);\r\n\r\n    //初始化保存分组价数据\r\n    let PriceData = [];\r\n    let preSkuPriceVoList = this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList;\r\n    preSkuPriceVoList.map((skuItem,skuIndex)=>{\r\n      PriceData.push(skuItem.labelPriceList)\r\n      this.setState({PriceData})\r\n    })\r\n\r\n    if(this.props.type == 3){\r\n      //店铺分销功能——查询分组价是否显示接口\r\n      let param = {};\r\n      this.props.queryShopInfo(param).then(\r\n        result => {\r\n          if(result.code == 0 && result.data && result.data.length > 0) {\r\n            const html =  {\r\n              title: '设置分组价',\r\n              key: 'actionPrice',\r\n              width: 100,\r\n              render:(record, index) => {\r\n                return(\r\n                  <div>\r\n                    {record.disabled ?\r\n                      (<span style={{color: '#bbb', float: 'left',marginRight: '5px', marginTop: '4px'}}>\r\n                        {record.isPrice?'查看':'添加'}\r\n                        </span>)\r\n                      : (\r\n                        <a href=\"javascript:void(0);\" onClick={() => this.handleModal(true, record)} style={{float: 'left',marginRight: '5px', marginTop: '4px'}}>\r\n                          {record.isPrice?'查看':'添加'}\r\n                        </a>\r\n                    )}\r\n                  </div>\r\n                );\r\n              }\r\n            };\r\n  \r\n            const html2 =  {\r\n              title: (\r\n                <a href=\"javascript:void(0);\" onClick={() => this.handleModal(true, {}, true)}>设置分组价</a>\r\n              ),\r\n              key: 'actionPrice',\r\n              width: 100,\r\n              render:(record, index) => {\r\n                return(\r\n                  <div>\r\n                    {record.disabled ?\r\n                      (<span style={{color: '#bbb', float: 'left',marginRight: '5px', marginTop: '4px'}}>\r\n                        {record.isPrice?'查看':'添加'}\r\n                        </span>)\r\n                      : (\r\n                        <a href=\"javascript:void(0);\" onClick={() => this.handleModal(true, record)} style={{float: 'left',marginRight: '5px', marginTop: '4px'}}>\r\n                          {record.isPrice?'查看':'添加'}\r\n                        </a>\r\n                      )}\r\n                  </div>\r\n                );\r\n              }\r\n            };\r\n            this.columns.splice(-1, 0, html);\r\n            this.columnsSku.splice(-1, 0, html2);\r\n            this.setState({\r\n              priceList: result.data\r\n            });\r\n          }\r\n        }\r\n      )\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps){\r\n    this.initColumns(nextProps.itemTmplPublishVo)\r\n    if(nextProps.priceStockData.loaded){\r\n      if(nextProps.priceStockData.data.code==0){\r\n        let regionalDATA = []\r\n        for (var i in nextProps.priceStockData.data.data){\r\n          if(nextProps.priceStockData.data.data[i]){\r\n            regionalDATA = nextProps.priceStockData.data.data[i]\r\n          }\r\n        }\r\n        this.regionalArr = regionalDATA\r\n      }\r\n    }\r\n  }\r\n\r\n  initColumns(itemTmplPublishVo) {\r\n    const preSkuPriceVoList = itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList;\r\n    preSkuPriceVoList.map((item,index)=>{\r\n      item.key = index\r\n    })\r\n    let column = this.columnsSku;\r\n    // 没有选择销售规格\r\n    // console.log(preSkuPriceVoList.length)\r\n    // console.log(preSkuPriceVoList[0].attributes)\r\n    if(preSkuPriceVoList.length == 1 && preSkuPriceVoList[0].attributes == null || preSkuPriceVoList[0].attributes.length == 0){\r\n      // console.log('attri')\r\n      column = this.columns;\r\n    }\r\n    // console.log(preSkuPriceVoList)\r\n    this.setState({\r\n      column: column,\r\n      initdata: preSkuPriceVoList\r\n    });\r\n  }\r\n\r\n    changeECount=(index,value)=>{\r\n      let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n      // console.log('changed', value);\r\n      // console.log('index', index);\r\n      let num;\r\n      if (value || value == 0) {\r\n        num = value;\r\n      }  \r\n      num = parseInt(num);\r\n      if (num != 0 && !num) {\r\n        num = null;\r\n      }\r\n      if(itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index]){\r\n        itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].inventory = num;\r\n      } else {\r\n        itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index] = {};\r\n        itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].inventory = num;\r\n        itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].supplyStatus = 1;\r\n      }    \r\n      this.state.inventory[index]=num;\r\n      this.setState({\r\n        inventory:this.state.inventory\r\n      });\r\n      this.props.updateItemTmplAction(itemTmplPublishVo);\r\n    }\r\n  \r\n    changeESprice=(value,index)=>{\r\n      let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n      let num;\r\n        num = value;\r\n        if(itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index]){\r\n          //itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList=[{}],\r\n          itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList[0].supplyPrice = num;\r\n        } else {\r\n          // itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList[0].supplyPrice = num;\r\n          // itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].supplyStatus = 1;\r\n        }    \r\n      //  this.state.supplyPrice[index]=num;\r\n        // this.setState({\r\n        //   supplyPrice: itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].supplyPrice\r\n        // });\r\n        this.props.updateItemTmplAction(itemTmplPublishVo);\r\n    }\r\n  \r\n    changeBESprice=(e,index)=>{\r\n      let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n      let num = 0;\r\n      num = e.target.value;\r\n      if(num){\r\n        num = new Number(num);\r\n        num = +num.toFixed(2);\r\n      } else {\r\n        num = null;\r\n      }\r\n      itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].areaPriceList[0].supplyPrice = num;\r\n     // this.state.supplyPrice[index]=num;\r\n      // this.setState({\r\n      //   supplyPrice: itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].supplyPrice\r\n      // });\r\n      this.props.updateItemTmplAction(itemTmplPublishVo);\r\n    }\r\n  \r\n    radioChange=(index,e)=>{\r\n      // console.log('ind',index,e)\r\n      let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n      if(itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index]){\r\n        itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].supplyStatus = e.target.value;\r\n      } else {\r\n        itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index] = {};\r\n        itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].supplyStatus = e.target.value;\r\n      } \r\n      this.props.updateItemTmplAction(itemTmplPublishVo);\r\n    }\r\n\r\n    changeCount=(e)=>{\r\n      let number = e;\r\n      if(typeof number != 'number' && e.indexOf('.') == e.length - 1 && count <= 1){\r\n        number = e;\r\n      }else{\r\n        number = parseInt(e);\r\n      }\r\n      if(!number){\r\n        number = 0;\r\n      }\r\n      // console.log(number, '更改全部供货价常规备货');\r\n      this.setState({\r\n        allcount: number\r\n      });\r\n    }\r\n  \r\n    changeAllCount=()=>{\r\n      // console.log('2222')\r\n      let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n  \r\n      itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList.map(item=>{\r\n        item.inventory = this.state.allcount;\r\n      })\r\n      this.props.updateItemTmplAction(itemTmplPublishVo);\r\n    }\r\n  \r\n    // changePrice=(e)=>{\r\n  \r\n    // }\r\n    changeBPrice=(e)=>{\r\n      let num = 0;\r\n      num = e.target.value;\r\n      if (num) {\r\n        num = new Number(num);\r\n        num = +num.toFixed(2);\r\n      }\r\n      this.setState({\r\n        allPrice:num\r\n      })\r\n    }\r\n  \r\n    changeAllPrice=()=>{\r\n      let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n  \r\n      itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList.map(item=>{\r\n        item.areaPriceList[0].supplyPrice = this.state.allPrice\r\n      })\r\n      \r\n      this.props.updateItemTmplAction(itemTmplPublishVo);\r\n    }\r\n\r\n    setClassName=(record,index)=>{\r\n      // console.log(this.props.itemTmplPublishVo)\r\n      let rules = null\r\n      this.props.itemTmplPublishVo.itemTmplSkuVoList.map(statusItem=>{\r\n      //this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList.map((skuItem,skuIndex)=>{         \r\n        if(statusItem.skuStatus == 0){\r\n          let statusItemArr = [];\r\n          let skuItemArr = [];\r\n          statusItem.attributes.map((aidItem,aidIndex)=>{\r\n            statusItemArr.push(aidItem.aid,aidItem.vid)\r\n          })\r\n          this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].attributes.map((preaidItem,preaidIndex)=>{\r\n            skuItemArr.push(preaidItem.aid,preaidItem.vid)\r\n          })\r\n          if(JSON.stringify(statusItemArr) == JSON.stringify(skuItemArr)){\r\n            rules = styles.red\r\n          }\r\n            // this.props.itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList[index].attributes.map(preaidItem=>{\r\n            //   console.log(aidItem.aid == preaidItem.aid && aidItem.vid == preaidItem.vid)\r\n            //   if(aidItem.aid == preaidItem.aid && aidItem.vid == preaidItem.vid){\r\n            //     rules = styles.red\r\n            //     return;\r\n            //     console.log(rules)\r\n            //   }\r\n            // })\r\n  \r\n        }\r\n      })\r\n     // })\r\n      // console.log(rules)\r\n        return rules\r\n    }\r\n\r\n    //分组价弹窗\r\n    /** \r\n     * action: 打开/关闭弹窗\r\n     * type: 设置分组价\r\n     * record: 某一条的数据\r\n     * */\r\n    handleModal = (action, record, type) => {\r\n          this.record = record;\r\n          console.log(this.record)\r\n          // const {PriceData} = this.state;\r\n          // if(record.isPrice){\r\n          //   console.log('设置过分组价')\r\n          //   console.log(PriceData)\r\n          // } else {\r\n          //   console.log('未设置过分组价')\r\n          //   console.log(PriceData)\r\n          // }\r\n          this.setState({\r\n            visible: action\r\n          });\r\n    };\r\n\r\n    //保存分组价\r\n    handleOk = (type) => {\r\n      console.log('-----------保存分组价-----------')\r\n      let {PriceData} = this.state;\r\n      console.log(PriceData)\r\n      let key = this.record.key;\r\n      let num = this.record.isPrice;\r\n      console.log(key)\r\n      console.log(num)\r\n      let itemTmplPublishVo = this.props.itemTmplPublishVo;\r\n      let preSkuPriceVoList = itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList;\r\n  \r\n      let PriceArr = [];\r\n      if(type) {\r\n        console.log('批量设置分组价')\r\n        PriceArr = PriceData['999a'] && PriceData['999a'].filter(_item => _item && _item.labelPrice) || [];\r\n        console.log(PriceArr)\r\n        PriceData = [];\r\n        PriceData['999a'] = PriceArr;\r\n        this.setState({PriceData})\r\n        preSkuPriceVoList.map((item, index) => {\r\n          item.labelPriceList = PriceArr;\r\n          item.isPrice = 1;\r\n        });\r\n      } else {\r\n        PriceArr = PriceData[key] && PriceData[key].filter(item => item && item.labelPrice) || [];\r\n        preSkuPriceVoList[key].labelPriceList = PriceArr;\r\n        preSkuPriceVoList[key].isPrice = 1;\r\n      }\r\n      // console.log(PriceData)\r\n      // console.log(preSkuPriceVoList);\r\n      itemTmplPublishVo.itemPerfectVo.preSkuPriceVoList = preSkuPriceVoList;\r\n      console.log(itemTmplPublishVo)\r\n      this.props.updateItemTmplAction(itemTmplPublishVo);\r\n      this.handleModal(false, {});\r\n    };\r\n\r\n    //修改分组价\r\n    /**\r\n     * index: 某个sku分组价中的分销商tabs的下标\r\n     * data: 该分销商tabs对应的数据 (data = {labelId,labelPrice,labelName})\r\n     * record: 该sku的数据\r\n     */\r\n    changeActionPrice = (index, data, record) => {\r\n      console.log('修改分组价')\r\n      let {PriceData} = this.state;\r\n      PriceData[(record.key || record.key === 0) ? record.key : '999a'] = PriceData[(record.key || record.key === 0) ? record.key : '999a'] || [];\r\n      if(PriceData[(record.key || record.key === 0) ? record.key : '999a'].length > 0) {\r\n        let type = false;\r\n        PriceData[(record.key || record.key === 0) ? record.key : '999a'].map(item => {\r\n          if(item.labelId === data.labelId) {\r\n            type = true;\r\n            item.labelPrice = data.labelPrice;\r\n          }\r\n        });\r\n        if(!type) {\r\n          PriceData[(record.key || record.key === 0) ? record.key : '999a'].push(data);\r\n        }\r\n      } else {\r\n        PriceData[(record.key || record.key === 0) ? record.key : '999a'].push(data);\r\n      }\r\n      // if(record.key !== 0 && !record.key) {\r\n      //   this.data.map(item => {\r\n      //     PriceData[item.key] = PriceData['999a'];\r\n      //   });\r\n      // }\r\n      console.log(PriceData);\r\n      this.setState({\r\n        PriceData\r\n      });\r\n    };\r\n\r\n  render() {\r\n    console.log(this.props.itemTmplPublishVo)\r\n    const { getFieldDecorator, getFieldValue } = this.props.form;\r\n\r\n    getFieldDecorator('keys', {initialValue: []});\r\n    const formItemLayout = {\r\n      labelCol: {span: 3},\r\n      wrapperCol: {span: 21},\r\n    };\r\n    //分组价查看回显数据\r\n    let data = [];\r\n    if(this.record.key == undefined || this.state.PriceData[this.record.key] == undefined){\r\n      if(this.state.PriceData['999a']){\r\n        data = this.state.PriceData['999a']\r\n      }\r\n    } else {\r\n      data = this.state.PriceData[this.record.key]\r\n    }\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div className=\"rHeaderTtle rMarginBottom\"><h2 >价格及库存</h2></div>\r\n          <div className=\"ui-ct\">\r\n            <Table \r\n              columns={this.state.column}\r\n              dataSource={this.state.initdata}\r\n              pagination = {false}\r\n              className=\"rTable\"\r\n              rowClassName={this.setClassName}\r\n              style = {{background: 'white'}}/>\r\n              {\r\n                this.state.visible ? (\r\n                  <PriceModal\r\n                    data={data}\r\n                    visible={this.state.visible}\r\n                    record={this.record}\r\n                    priceList={this.state.priceList}\r\n                    handleOk={this.handleOk}\r\n                    changePrice={this.changeActionPrice}\r\n                    handleModal={this.handleModal}\r\n                  />\r\n                ) : null\r\n              }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}