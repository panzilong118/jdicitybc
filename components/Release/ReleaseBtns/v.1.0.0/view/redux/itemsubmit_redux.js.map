{"version":3,"sources":["../../../../../../src/components/Release/ReleaseBtns/v.1.0.0/view/redux/itemsubmit_redux.js"],"names":["state","loaded","action","type","ITEM_SUBMIT_LOAD","loading","ITEM_SUBMIT_LOAD_SUCCESS","data","result","ITEM_SUBMIT_LOAD_FAIL","error","querySubmitItem","params","edit","url","types","promise","client","post"],"mappings":";;;;;;;;;;kBAWe,YAAkD;AAAA,QAAxCA,KAAwC,uEAAhC,EAAEC,QAAQ,KAAV,EAAgC;AAAA,QAAbC,MAAa,uEAAJ,EAAI;;AAC7D,YAAQA,OAAOC,IAAf;AACI,aAAKC,gBAAL;AACI,8CACOJ,KADP;AAEIK,yBAAS;AAFb;AAIJ,aAAKC,wBAAL;AACI,8CACON,KADP;AAEIO,sBAAML,OAAOM,MAFjB;AAGIH,yBAAS,KAHb;AAIIJ,wBAAQ;AAJZ;AAMJ,aAAKQ,qBAAL;AACI,8CACOT,KADP;AAEIK,yBAAS,KAFb;AAGIJ,wBAAQ,KAHZ;AAIIS,uBAAOR,OAAOQ;AAJlB;AAMJ;AACI,mBAAOV,KAAP;AArBR;AAuBH,C;;QAEeW,e,GAAAA,e;;;;AArChB;;;;;;;AAOA,IAAMP,mBAAmB,kBAAzB;AACA,IAAME,2BAA2B,0BAAjC;AACA,IAAMG,wBAAwB,uBAA9B;;AA4BO,SAASE,eAAT,CAAyBC,MAAzB,EAAiCT,IAAjC,EAAuCU,IAAvC,EAA6C;AAChD,QAAIC,MAAM,IAAV;AACA,QAAGX,QAAQ,CAAX,EAAa;AAAC;AACV,YAAGU,IAAH,EAAQ;AACJC,kBAAM,kDAAN;AACH,SAFD,MAEO;AACHA,kBAAM,4CAAN;AACH;AACJ,KAND,MAMO,IAAGX,QAAQ,CAAX,EAAa;AAAC;AACjB,YAAGU,IAAH,EAAQ;AACJC,kBAAM,gDAAN;AACH,SAFD,MAEO;AACHA,kBAAM,0CAAN;AACH;AACJ,KANM,MAMA,IAAGX,QAAQ,CAAX,EAAa;AAAC;AACjB,YAAGU,IAAH,EAAQ;AACJC,kBAAM,8CAAN;AACH,SAFD,MAEO;AACHA,kBAAI,wCAAJ;AACH;AACJ,KANM,MAMA;AAAE;AACLA,cAAM,mDAAN;AACH;AACD,WAAO;AACHC,eAAO,CAACX,gBAAD,EAAmBE,wBAAnB,EAA6CG,qBAA7C,CADJ;AAEHO,iBAAS,iBAACC,MAAD;AAAA,mBAAYA,OAAOC,IAAP,CAAYJ,GAAZ,EAAiB,EAAEP,MAAMK,MAAR,EAAjB,CAAZ;AAAA;AAFN,KAAP;AAIH","file":"itemsubmit_redux.js","sourcesContent":["/**\r\n * 商品发布调用redux \r\n * \r\n * 发布和编辑发布用两个接口\r\n * 都要根据不同的页面进行判断\r\n * */\r\n\r\nconst ITEM_SUBMIT_LOAD = 'ITEM_SUBMIT_LOAD';\r\nconst ITEM_SUBMIT_LOAD_SUCCESS = 'ITEM_SUBMIT_LOAD_SUCCESS';\r\nconst ITEM_SUBMIT_LOAD_FAIL = 'ITEM_SUBMIT_LOAD_FAIL';\r\n\r\nexport default function (state = { loaded: false }, action = {}) {\r\n    switch (action.type) {\r\n        case ITEM_SUBMIT_LOAD:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case ITEM_SUBMIT_LOAD_SUCCESS:\r\n            return {\r\n                ...state,\r\n                data: action.result,\r\n                loading: false,\r\n                loaded: true\r\n            };\r\n        case ITEM_SUBMIT_LOAD_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                loaded: false,\r\n                error: action.error\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function querySubmitItem(params, type, edit) {\r\n    let url = null;\r\n    if(type == 1){//运营平台\r\n        if(edit){\r\n            url = '/item/platform/itemTmplPublish/publishItemByEdit';\r\n        } else {\r\n            url = '/item/platform/itemTmplPublish/publishItem';\r\n        }\r\n    } else if(type == 2){//供应商\r\n        if(edit){\r\n            url = '/item/seller/itemTmplPublish/publishItemByEdit'\r\n        } else {\r\n            url = '/item/seller/itemTmplPublish/publishItem';\r\n        }\r\n    } else if(type == 3){//店铺\r\n        if(edit){\r\n            url = '/item/shop/itemTmplPublish/publishItemByEdit';\r\n        } else {\r\n            url='/item/shop/itemTmplPublish/publishItem';\r\n        }\r\n    } else { //从供货申请审核页编辑发布的接口\r\n        url = '/item/platform/itemTmplPublish/publishItemByAudit'\r\n    }\r\n    return {\r\n        types: [ITEM_SUBMIT_LOAD, ITEM_SUBMIT_LOAD_SUCCESS, ITEM_SUBMIT_LOAD_FAIL],\r\n        promise: (client) => client.post(url, { data: params })\r\n    };\r\n}\r\n\r\n"]}