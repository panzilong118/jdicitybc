{"version":3,"sources":["../../../../../../src/components/Release/ReleaseBtns/v.1.0.0/view/redux/itemsave_redux.js"],"names":["state","loaded","action","type","ITEM_SAVE_LOAD","loading","ITEM_SAVE_LOAD_SUCCESS","data","result","ITEM_SAVE_LOAD_FAIL","error","querySaveItem","params","edit","url","types","promise","client","post"],"mappings":";;;;;;;;;;kBAWe,YAAkD;AAAA,QAAxCA,KAAwC,uEAAhC,EAAEC,QAAQ,KAAV,EAAgC;AAAA,QAAbC,MAAa,uEAAJ,EAAI;;AAC7D,YAAQA,OAAOC,IAAf;AACI,aAAKC,cAAL;AACI,8CACOJ,KADP;AAEIK,yBAAS;AAFb;AAIJ,aAAKC,sBAAL;AACI,8CACON,KADP;AAEIO,sBAAML,OAAOM,MAFjB;AAGIH,yBAAS,KAHb;AAIIJ,wBAAQ;AAJZ;AAMJ,aAAKQ,mBAAL;AACI,8CACOT,KADP;AAEIK,yBAAS,KAFb;AAGIJ,wBAAQ,KAHZ;AAIIS,uBAAOR,OAAOQ;AAJlB;AAMJ;AACI,mBAAOV,KAAP;AArBR;AAuBH,C;;QAEeW,a,GAAAA,a;;;;AArChB;;;;;;;AAOA,IAAMP,iBAAiB,gBAAvB;AACA,IAAME,yBAAyB,wBAA/B;AACA,IAAMG,sBAAsB,qBAA5B;;AA4BO,SAASE,aAAT,CAAuBC,MAAvB,EAA+BT,IAA/B,EAAqCU,IAArC,EAA2C;AAC9C,QAAIC,MAAM,IAAV;AACA,QAAGX,QAAQ,CAAX,EAAa;AAAC;AACV,YAAGU,IAAH,EAAQ;AACJC,kBAAM,+CAAN;AACH,SAFD,MAEO;AACHA,kBAAM,gDAAN;AACH;AACJ,KAND,MAMO,IAAGX,QAAQ,CAAX,EAAc;AAAC;AAClB,YAAGU,IAAH,EAAQ;AACJC,kBAAM,2CAAN;AACH,SAFD,MAEO;AACHA,kBAAI,4CAAJ;AACH;AACJ;AACD,WAAO;AACHC,eAAO,CAACX,cAAD,EAAiBE,sBAAjB,EAAyCG,mBAAzC,CADJ;AAEHO,iBAAS,iBAACC,MAAD;AAAA,mBAAYA,OAAOC,IAAP,CAAYJ,GAAZ,EAAiB,EAAEP,MAAMK,MAAR,EAAjB,CAAZ;AAAA;AAFN,KAAP;AAIH","file":"itemsave_redux.js","sourcesContent":["/**\r\n * 商品保存调用redux \r\n * \r\n * 保存和编辑保存用两个接口\r\n * 都要根据不同的页面进行判断\r\n * */\r\n\r\nconst ITEM_SAVE_LOAD = 'ITEM_SAVE_LOAD';\r\nconst ITEM_SAVE_LOAD_SUCCESS = 'ITEM_SAVE_LOAD_SUCCESS';\r\nconst ITEM_SAVE_LOAD_FAIL = 'ITEM_SAVE_LOAD_FAIL';\r\n\r\nexport default function (state = { loaded: false }, action = {}) {\r\n    switch (action.type) {\r\n        case ITEM_SAVE_LOAD:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case ITEM_SAVE_LOAD_SUCCESS:\r\n            return {\r\n                ...state,\r\n                data: action.result,\r\n                loading: false,\r\n                loaded: true\r\n            };\r\n        case ITEM_SAVE_LOAD_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                loaded: false,\r\n                error: action.error\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function querySaveItem(params, type, edit) {\r\n    let url = null;\r\n    if(type == 1){//运营平台\r\n        if(edit){\r\n            url = '/item/platform/itemTmplPublish/saveItemByEdit';\r\n        } else {\r\n            url = '/item/platform/itemTmplPublish/saveItemPublish';\r\n        }\r\n    } else if(type == 3) {//店铺\r\n        if(edit){\r\n            url = '/item/shop/itemTmplPublish/saveItemByEdit';\r\n        } else {\r\n            url='/item/shop/itemTmplPublish/saveItemPublish';\r\n        }\r\n    }\r\n    return {\r\n        types: [ITEM_SAVE_LOAD, ITEM_SAVE_LOAD_SUCCESS, ITEM_SAVE_LOAD_FAIL],\r\n        promise: (client) => client.post(url, { data: params })\r\n    };\r\n}\r\n\r\n"]}