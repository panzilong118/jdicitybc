{"version":3,"sources":["../../../../src/components/Release/SelectGoods/SelectGoodsSearch/SelectGoodsSearch.js"],"names":["Option","FormItem","Item","SelectGoodsSearch","state","selectGoodsSearch","saveFormData","dispatch","create","props","context","form","validateFields","err","values","console","log","then","result","error","value","setFieldsValue","cid","getFieldDecorator","getFieldValue","initialValue","platformId","pageSize","handleCategoryChange","width","handleSubmit","propTypes","object","isRequired","func"],"mappings":"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","file":"SelectGoodsSearch.js","sourcesContent":["/**\r\n * Created by huangxiao3 on 2017/2/20.\r\n */\r\n\r\nimport React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {  Row, Col, Input, Form, Select, Button } from 'jdcloudui';\r\nimport CategoryCascade from '../../Common/Category/CategoryCascade';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport { selectGoodsSearch,saveFormData } from './redux';\r\nimport  BaseComponent  from '../../Common/BaseComponent';\r\nimport CategoryAllSearch from '../../Common/CategoryAllSearch/CategoryAllSearch'\r\n\r\nconst Option = Select.Option;\r\nconst FormItem = Form.Item;\r\n\r\n@connect(\r\n  state => ({SelectGoodsSearch:state.selectGoodsSearch}),\r\n  dispatch => bindActionCreators({selectGoodsSearch,saveFormData}, dispatch)\r\n)\r\n@Form.create()\r\nexport default class SelectGoodsSearch extends BaseComponent {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  static propTypes = {\r\n    SelectGoodsSearch: PropTypes.object.isRequired,\r\n    selectGoodsSearch: PropTypes.func.isRequired,\r\n    saveFormData: PropTypes.func.isRequired\r\n  };\r\n\r\n  //form submit function\r\n  handleSubmit(){\r\n    debugger;\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        console.log('Received values of form: ', values);\r\n        this.props.saveFormData(values);\r\n        this.props.selectGoodsSearch(values).then(\r\n          (result)=>{console.log('SearchData success')},\r\n          (error)=>{console.log('SearchData fail')}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 获取最终选择的平台类目id\r\n   * @param value\r\n   */\r\n  handleCategoryChange (value) {\r\n    this.props.form.setFieldsValue({\r\n      cid: value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator, getFieldValue } = this.props.form;\r\n    getFieldDecorator('platformId', { initialValue: this.platformId });\r\n    getFieldDecorator('supplySellerId', { initialValue: 1 });\r\n    getFieldDecorator('cid', { initialValue: ''});\r\n    getFieldDecorator('modelCode', { initialValue: '' });\r\n    getFieldDecorator('productCode', { initialValue: '' });\r\n    getFieldDecorator('itemName', { initialValue: '' });\r\n\r\n    getFieldDecorator('pageNum', { initialValue: 1 });\r\n    getFieldDecorator('pageSize', { initialValue: this.props.pageSize });\r\n\r\n    return(\r\n      <div className=\"ui-search\">\r\n          <Row>\r\n            <Col span={24} className=\"l-content\">\r\n              <Form layout='inline'>\r\n              <FormItem label=\"平台分类:\">\r\n                <CategoryAllSearch sign={false} signStatus={true} handleCategoryChange={(value)=>this.handleCategoryChange(value)}/>\r\n              </FormItem>\r\n              <FormItem label=\"商品型号:\">\r\n                {getFieldDecorator(`modelCode`, {\r\n                  initialValue: '',\r\n                })(\r\n                  <Input placeholder=\"\" style={{ width: 120}}/>\r\n                )}\r\n              </FormItem>\r\n              <FormItem label=\"商品货号:\">\r\n                {getFieldDecorator(`productCode`, {\r\n                  initialValue: '',\r\n                })(\r\n                  <Input style={{ width: 120}} placeholder=\"\"/>\r\n                )}\r\n              </FormItem>\r\n              <FormItem label=\"商品名称:\">\r\n                {getFieldDecorator(`itemName`, {\r\n                  initialValue: '',\r\n                })(\r\n                  <Input style={{ width: 120}} placeholder=\"\"/>\r\n                )}\r\n              </FormItem>\r\n              </Form>\r\n            </Col>\r\n            <Col>\r\n              <div className=\"r-action\">\r\n                <Button type=\"primary\" size=\"large\" onClick={()=>this.handleSubmit()}>查 询</Button>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n"]}