{"version":3,"sources":["../../../../../src/components/Release/BasicSecondCategory/v1.0.0/view/SecondCategory.js"],"names":["Option","listTip","allowClear","SecondCategory","props","context","handleFourCategoryChange","cid","option","isInit","setState","fourValue","detailIndex","getSecondCidRedux","four","data","handleChangeCategoryValue","fourLeaf","handleThirdCategoryChange","firstOn","secondOn","thirdOn","fourOn","thirdValue","fourCategoryOptions","third","getFourCid","type","then","result","length","state","thirdLeaf","clearData","handleSecondCategoryChange","secondValue","thirdCategoryOptions","second","getThirdCid","secondLeaf","handleFirstCategoryChange","firstValue","secondCategoryOptions","first","getSecondCid","firstLeaf","secondLeft","firstCategoryOptions","currentIndex","secondCids","parentCid","getFirstCid","nextProps","itemTmplPublishVo","split","ifHasLeaf","undefined","secondCid","updateItemTmplAction","category","index","hasLeaf","map","item","firstResult","categoryName","secondResult","thirdResult","fourResult","firstloaded","dataSource","secondloaded","thirdloaded","fourloaded","styles","labelWrap","labelTitle","labelCont","Component"],"mappings":"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","file":"SecondCategory.js","sourcesContent":["/**\r\n * 平台分类组件：四级类目级联选择框\r\n */\r\nimport React, { Component }  from 'react';\r\nimport { Select ,Tooltip } from 'jdcloudui';\r\nimport styles from './style/category.less';\r\nimport './style/style.css';\r\n\r\nconst Option = Select.Option;\r\nconst listTip = '请选择类目';\r\nconst allowClear = true;\r\n\r\nexport default class SecondCategory extends Component {\r\n  constructor(props,context) {\r\n    super(props,context);\r\n    this.state={\r\n      firstLeaf: false, //一级类目是否是叶子节点\r\n      secondLeft: false, //二级类目是否是叶子节点\r\n      thirdLeaf: false, //三级类目是否是叶子节点\r\n      fourLeaf: false, //四级类目是否是叶子节点\r\n      firstValue: null,\r\n      secondValue: null,\r\n      thirdValue: null,\r\n      fourValue: null,\r\n    };\r\n\r\n    this.firstCategoryOptions = null;\r\n    this.secondCategoryOptions = null;\r\n    this.thirdCategoryOptions = null;\r\n    this.fourCategoryOptions = null;\r\n\r\n    this.firstLeaf = false;\r\n    this.secondLeaf = false;\r\n    this.thirdLeaf = false;\r\n    this.fourLeaf = false;\r\n\r\n    this.currentIndex = 0;\r\n    this.firstOn = true;\r\n    this.secondOn = false;\r\n    this.thirdOn = false;\r\n    this.fourOn = false;\r\n    this.secondCids = ''; //用于保存类目回显数据\r\n  }\r\n\r\n  componentWillMount() {\r\n    //请求一级类目\r\n    let parentCid = -1;\r\n    this.props.getFirstCid(parentCid,this.props.type);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    if(nextProps.itemTmplPublishVo){\r\n      if(nextProps.itemTmplPublishVo.secondCids && nextProps.itemTmplPublishVo.secondCids != this.secondCids){\r\n        this.secondCids = nextProps.itemTmplPublishVo.secondCids;\r\n        //数据回显\r\n        let secondCids = this.secondCids.split('-');\r\n\r\n        switch(secondCids.length){\r\n          case 1: \r\n            this.setState({ firstLeaf:true });\r\n            this.firstLeaf = true;\r\n            this.handleFirstCategoryChange(secondCids[0],'',true);\r\n            return;\r\n          case 2: \r\n            this.setState({ secondLeaf:true });\r\n            this.secondLeaf = true;\r\n            this.handleFirstCategoryChange(secondCids[0],'',true);\r\n            this.handleSecondCategoryChange(secondCids[1],'',true);\r\n            return;\r\n          case 3: \r\n            this.setState({ thirdLeaf:true });\r\n            this.thirdLeaf = true;\r\n            this.handleFirstCategoryChange(secondCids[0],'',true);\r\n            this.handleSecondCategoryChange(secondCids[1],'',true);\r\n            this.handleThirdCategoryChange(secondCids[2],'',true);\r\n            return;\r\n          case 4: \r\n            this.setState({ fourLeaf:true });\r\n            this.fourLeaf = true;\r\n            this.handleFirstCategoryChange(secondCids[0],'',true);\r\n            this.handleSecondCategoryChange(secondCids[1],'',true);\r\n            this.handleThirdCategoryChange(secondCids[2],'',true);\r\n            this.handleFourCategoryChange(secondCids[3],'',true);\r\n            return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //保存终极类目cid\r\n  handleChangeCategoryValue(cid, ifHasLeaf) {\r\n    let itemTmplPublishVo = this.props.itemTmplPublishVo;\r\n      if(cid == undefined){\r\n        cid = null\r\n      }\r\n      itemTmplPublishVo.secondCid = cid\r\n      this.props.updateItemTmplAction(itemTmplPublishVo)\r\n  }\r\n\r\n  detailIndex(cid, category , index){//判断当前是否是根节点\r\n    this.setState({\r\n      secondLeaf: false,\r\n      thirdLeaf: false,\r\n      fourLeaf: false,\r\n    })\r\n    let hasLeaf = false;\r\n    if(category && category.length > 0){\r\n      category.map((item, index) => {\r\n        if(item.cid == cid){\r\n          this.currentIndex = index;\r\n          if(category[this.currentIndex].hasLeaf == 1){\r\n            hasLeaf = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    switch (index){\r\n      case 1:\r\n        this.setState({firstLeaf: hasLeaf});\r\n        this.firstLeaf = hasLeaf;\r\n        return;\r\n      case 2: \r\n        this.setState({secondLeaf: hasLeaf});\r\n        this.secondLeaf = hasLeaf;\r\n        return;\r\n      case 3: \r\n        this.setState({thirdLeaf: hasLeaf});\r\n        this.thirdLeaf = hasLeaf;\r\n        return;\r\n      case 4: \r\n        this.setState({fourLeaf: hasLeaf});\r\n        this.fourLeaf = hasLeaf;\r\n        return;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取四级类目cid，返回组件对外提供的方法上面，供父组件使用\r\n   * @param cid\r\n   */\r\n  handleFourCategoryChange=(cid,option,isInit)=> {\r\n    this.setState({\r\n      fourValue: cid\r\n    });\r\n    if(!isInit){\r\n      this.detailIndex(cid, this.props.getSecondCidRedux.four.data.data, 4);\r\n    }\r\n    this.handleChangeCategoryValue(cid, this.fourLeaf);    \r\n  }\r\n\r\n  /**\r\n   * 查询四级类目\r\n   * @param cid\r\n   */\r\n  handleThirdCategoryChange=(cid,option,isInit)=> {\r\n    \r\n    this.firstOn = true;\r\n    this.secondOn = true;\r\n    this.thirdOn = true;\r\n    this.fourOn = true;\r\n    this.setState({\r\n      thirdValue: cid,\r\n      fourValue: null,\r\n    });\r\n    this.fourCategoryOptions = [];\r\n    if (cid){\r\n      if(!isInit){\r\n        this.detailIndex(cid, this.props.getSecondCidRedux.third.data.data, 3);\r\n      }\r\n      this.props.getFourCid(cid,this.props.type).then(\r\n         (result) => {\r\n          if(result.data && result.data.length < 1){\r\n              if(!this.state.thirdLeaf){\r\n                this.fourCategoryOptions = [];\r\n                this.firstOn = true;\r\n                this.secondOn = true;\r\n                this.thirdOn = true;\r\n                this.fourOn = false;\r\n              }else{\r\n                this.setState({\r\n                    fourValue: null,\r\n                  });\r\n                this.fourCategoryOptions = null;\r\n              }\r\n            }\r\n           }\r\n        );\r\n    } else {\r\n      this.fourCategoryOptions = null;\r\n      this.props.clearData(3);\r\n    }\r\n    this.handleChangeCategoryValue(cid, this.thirdLeaf);\r\n  }\r\n  /**\r\n   * 查询三级类目\r\n   * @param cid\r\n   */\r\n  handleSecondCategoryChange=(cid,option,isInit)=> {\r\n\r\n    this.setState({\r\n      secondValue: cid,\r\n      thirdValue: null,\r\n      fourValue: null,\r\n    });\r\n    this.firstOn = true;\r\n    this.secondOn = true;\r\n    this.thirdOn = true;\r\n    this.fourOn = false;\r\n    this.thirdCategoryOptions = null;\r\n    this.fourCategoryOptions = null;\r\n    if (cid){\r\n      if(!isInit){\r\n        this.detailIndex(cid, this.props.getSecondCidRedux.second.data.data, 2);\r\n      }\r\n      this.props.getThirdCid(cid,this.props.type).then(\r\n        (result) => {\r\n          if(result.data && result.data.length < 1){\r\n              if(!this.state.secondLeaf){\r\n                  this.thirdCategoryOptions = [];\r\n                  this.fourCategoryOptions = [];\r\n                  this.firstOn = true;\r\n                  this.secondOn = true;\r\n                  this.thirdOn = false;\r\n                  this.fourOn = false;\r\n              }else{\r\n                  this.setState({\r\n                      thirdValue: null,\r\n                      fourValue: null,\r\n                  });\r\n                  this.thirdCategoryOptions = null;\r\n                  this.fourCategoryOptions = null;\r\n              }\r\n          }\r\n        }\r\n      )\r\n    }else{\r\n      this.thirdCategoryOptions = null;\r\n      this.fourCategoryOptions = null;\r\n      this.props.clearData(2);\r\n    }\r\n    this.handleChangeCategoryValue(cid, this.secondLeaf);\r\n  }\r\n  /**\r\n   * 查询二级类目\r\n   * @param cid\r\n   */\r\n  handleFirstCategoryChange=(cid,option,isInit)=> {\r\n\r\n    this.setState({\r\n      firstValue: cid,\r\n      secondValue: null,\r\n      thirdValue: null,\r\n      fourValue: null,\r\n    });\r\n    this.firstOn = true;\r\n    this.secondOn = true;\r\n    this.thirdOn = false;\r\n    this.fourOn = false;\r\n    this.secondCategoryOptions = null;\r\n    this.thirdCategoryOptions = null;\r\n    this.fourCategoryOptions = null;\r\n    if (cid) {\r\n      if(!isInit){\r\n        this.detailIndex(cid, this.props.getSecondCidRedux.first.data.data, 1);\r\n      }\r\n      this.props.getSecondCid(cid,this.props.type).then(\r\n        (result) => {\r\n          if(result.data && result.data.length < 1){\r\n            if(!this.state.firstLeaf){\r\n              this.secondCategoryOptions = [];\r\n              this.thirdCategoryOptions = [];\r\n              this.fourCategoryOptions = [];\r\n              this.secondOn = false;\r\n              this.thirdOn = false;\r\n              this.fourOn = false;  \r\n            }else{\r\n               this.setState({\r\n                  secondValue: null,\r\n                  thirdValue: null,\r\n                  fourValue: null,\r\n                });\r\n              this.secondCategoryOptions = null;\r\n              this.thirdCategoryOptions = null;\r\n              this.fourCategoryOptions = null;\r\n            }\r\n          }\r\n        }\r\n      );\r\n    } else{\r\n      this.secondCategoryOptions = null;\r\n      this.thirdCategoryOptions = null;\r\n      this.fourCategoryOptions = null;\r\n      this.props.clearData(1);\r\n    }\r\n    this.handleChangeCategoryValue(cid, this.firstLeaf);\r\n  }\r\n\r\n  dataSource() {\r\n    return {\r\n      first:()=>{\r\n        if (this.props.getSecondCidRedux.first.data){\r\n          let firstResult = this.props.getSecondCidRedux.first.data.data;\r\n          if (firstResult && firstResult.length > 0){\r\n            this.firstCategoryOptions = firstResult.map(first => <Option  title = {first.categoryName}  key={first.cid}>\r\n                  {first.categoryName}\r\n            </Option>);\r\n          } \r\n        }\r\n      },\r\n      second:()=>{\r\n        if (this.props.getSecondCidRedux.second.data){\r\n          let secondResult = this.props.getSecondCidRedux.second.data.data;\r\n          if (secondResult && secondResult.length > 0){\r\n            this.secondCategoryOptions = secondResult.map(second => <Option title = {second.categoryName}  key={second.cid}>{second.categoryName}</Option>);\r\n          }\r\n        }\r\n      },\r\n      third:()=>{\r\n        if (this.props.getSecondCidRedux.third.data){\r\n          let thirdResult = this.props.getSecondCidRedux.third.data.data;\r\n          if (thirdResult && thirdResult.length > 0){\r\n            this.thirdCategoryOptions = thirdResult.map(third => <Option title = {third.categoryName}  key={third.cid}>{third.categoryName}</Option>);\r\n          }\r\n        }\r\n      },\r\n      four:()=>{\r\n        if (this.props.getSecondCidRedux.four.data){\r\n          let fourResult = this.props.getSecondCidRedux.four.data.data;\r\n          if (fourResult && fourResult.length > 0){\r\n            this.fourCategoryOptions = fourResult.map(four => <Option title = {four.categoryName}  key={four.cid}>{four.categoryName}</Option>);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.firstOn && this.props.getSecondCidRedux.first.firstloaded && this.dataSource().first();\r\n    this.secondOn && this.props.getSecondCidRedux.second.secondloaded && this.dataSource().second();\r\n    this.thirdOn && this.props.getSecondCidRedux.third.thirdloaded && this.dataSource().third();\r\n    this.fourOn && this.props.getSecondCidRedux.four.fourloaded && this.dataSource().four();\r\n\r\n    return (\r\n      <div className={styles.labelWrap}>\r\n        <label className={styles.labelTitle}>第二分类：</label>\r\n        <div className={styles.labelCont}>\r\n        {/*一级类目变化*/}\r\n          <Select \r\n              placeholder='请选择'\r\n              value = {this.state.firstValue} \r\n              notFoundContent={listTip} \r\n              allowClear={allowClear} \r\n              size=\"large\" \r\n              className=\"select\"\r\n              onChange={this.handleFirstCategoryChange}>\r\n                  {this.firstCategoryOptions}\r\n          </Select>\r\n        {/*二级类目变化*/}\r\n          <Select \r\n              disabled = { this.state.firstLeaf } \r\n              placeholder='请选择'\r\n              notFoundContent={listTip} \r\n              allowClear={allowClear} \r\n              size=\"large\" \r\n              className=\"select\"\r\n              onChange={this.handleSecondCategoryChange}\r\n              value = {this.state.secondValue} >\r\n                  {this.secondCategoryOptions} \r\n          </Select>\r\n        {/*三级类目变化*/}\r\n          <Select \r\n              disabled = { this.state.secondLeaf || this.state.firstLeaf } \r\n              placeholder='请选择'\r\n              notFoundContent={listTip} \r\n              allowClear={allowClear} \r\n              size=\"large\" \r\n              className=\"select\"\r\n              onChange={this.handleThirdCategoryChange}\r\n              value = {this.state.thirdValue} >\r\n                  {this.thirdCategoryOptions}\r\n          </Select>\r\n        {/*四级类目变化*/}\r\n          <Select \r\n              disabled = { this.state.firstLeaf||this.state.secondLeaf || this.state.thirdLeaf } \r\n              placeholder='请选择'\r\n              notFoundContent={listTip} \r\n              allowClear={allowClear} \r\n              size=\"large\" \r\n              className=\"select\"\r\n              value = {this.state.fourValue}  \r\n              onChange={this.handleFourCategoryChange}>\r\n                  {this.fourCategoryOptions}\r\n          </Select>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}