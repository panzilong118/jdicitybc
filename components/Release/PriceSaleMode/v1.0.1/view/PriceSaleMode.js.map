{"version":3,"sources":["../../../../../src/components/Release/PriceSaleMode/v1.0.1/view/PriceSaleMode.js"],"names":["RadioGroup","Group","FormItem","Item","ReleaseSupplyInfo","create","props","radioChange","e","console","log","target","value","itemTmplPublishVo","JSON","parse","itemPerfectVo","salePriceType","updateItemTmplAction","handleChanegPriceDesc","priceDescVo","priceDesc","length","form","getFieldDecorator","getFieldValue","spuPriceDescTip","opacity","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAAA;;;;;;;;;;;;;;;;;AAKA;;;;AAEA;;;;AACA,IAAMA,aAAa,gBAAMC,KAAzB;AACA,IAAMC,WAAW,eAAKC,IAAtB;IAEqBC,iB,WADpB,eAAKC,MAAL,E;;;AAEC,6BAAYC,KAAZ,EAAkB;AAAA;;AAAA,4JACVA,KADU;;AAAA,UAIlBC,WAJkB,GAIN,UAACC,CAAD,EAAK;AACfC,cAAQC,GAAR,CAAYF,EAAEG,MAAF,CAASC,KAArB;AACA,UAAIC,oBAAoBC,KAAKC,KAAL,CAAW,yBAAe,MAAKT,KAAL,CAAWO,iBAA1B,CAAX,CAAxB;AACAA,wBAAkBG,aAAlB,CAAgCC,aAAhC,GAAgDT,EAAEG,MAAF,CAASC,KAAzD;AACA,YAAKN,KAAL,CAAWY,oBAAX,CAAgCL,iBAAhC;AACD,KATiB;;AAAA,UAYlBM,qBAZkB,GAYM,UAACX,CAAD,EAAK;AAC3B,UAAII,QAAQJ,EAAEG,MAAF,CAASC,KAArB;AACA,UAAIC,oBAAoBC,KAAKC,KAAL,CAAW,yBAAe,MAAKT,KAAL,CAAWO,iBAA1B,CAAX,CAAxB;AACAA,wBAAkBG,aAAlB,CAAgCI,WAAhC,GAA8C,EAACC,WAAYT,KAAb,EAA9C;AACA,UAAGA,MAAMU,MAAN,IAAc,EAAjB,EAAoB;AAAE;AACpB,cAAKhB,KAAL,CAAWY,oBAAX,CAAgCL,iBAAhC;AACD;AACF,KAnBiB;;AAAA;AAEjB;;AASD;;;;;6BAUS;AAAA,wBACsC,KAAKP,KAAL,CAAWiB,IADjD;AAAA,UACCC,iBADD,eACCA,iBADD;AAAA,UACoBC,aADpB,eACoBA,aADpB;;AAEP,UAAMC,kBAAkB,kCAAxB;AACA,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAK,WAAU,aAAf;AAA6B;AAAA;AAAA;AAAA;AAAA;AAA7B,SADF;AAEE;AAAA;AAAA,YAAK,WAAU,WAAf;AACE;AAAC,sBAAD;AAAA;AACE,qBAAO,KAAKpB,KAAL,CAAWO,iBAAX,CAA6BG,aAA7B,CAA2CC,aAA3C,IAA0D,CADnE;AAEE,wBAAU,KAAKV,WAFjB;AAGE;AAAA;AAAA,gBAAO,OAAO,CAAd;AAAA;AAAA,aAHF;AAIE;AAAA;AAAA,gBAAO,OAAO,CAAd;AAAA;AAAA;AAJF,WADF;AAOG,eAAKD,KAAL,CAAWO,iBAAX,CAA6BG,aAA7B,CAA2CC,aAA3C,IAA0D,CAA1D,GACC;AAAA;AAAA,cAAK,WAAU,WAAf;AACE;AAAA;AAAA;AAAA;AAAW;AAAA;AAAA,kBAAS,WAAU,KAAnB,EAAyB,OAAOS,eAAhC;AAAiD,gEAAM,OAAO,EAACC,SAAQ,KAAT,EAAb,EAA8B,MAAK,iBAAnC;AAAjD,eAAX;AAAA;AAAA,aADF;AAEE,6DAAQ,UAAY,KAAKR,qBAAzB;AACQ,qBAAS,KAAKb,KAAL,CAAWO,iBAAX,CAA6BG,aAA7B,CAA2CI,WAA3C,IAA0D,KAAKd,KAAL,CAAWO,iBAAX,CAA6BG,aAA7B,CAA2CI,WAA3C,CAAuDC,SAAjH,IAA8H;AAD/I;AAFF,WADD,GAOA;AAdH;AAFF,OADF;AAqBD;;;EA9C4CO,gB;kBAA1BxB,iB","file":"PriceSaleMode.js","sourcesContent":["/**\r\n * @file 发布商品-供货信息Tab组件\r\n *  \r\n *  2018.11.13更新版本：v1.0.1 增加询价商品价格描述功能 —— by 刘仁鹏\r\n */\r\nimport React, { Component } from 'react';\r\nimport {Radio, Input, Form, Tooltip, Icon } from 'jdcloudui';\r\nimport './style.css';\r\nconst RadioGroup = Radio.Group;\r\nconst FormItem = Form.Item;\r\n@Form.create()\r\nexport default class ReleaseSupplyInfo extends Component {\r\n  constructor(props){\r\n    super(props);\r\n  }\r\n\r\n  radioChange=(e)=>{\r\n    console.log(e.target.value)\r\n    let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n    itemTmplPublishVo.itemPerfectVo.salePriceType = e.target.value;\r\n    this.props.updateItemTmplAction(itemTmplPublishVo);\r\n  }\r\n\r\n  //询价商品价格描述\r\n  handleChanegPriceDesc = (e)=>{\r\n    var value = e.target.value;\r\n    let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n    itemTmplPublishVo.itemPerfectVo.priceDescVo = {priceDesc : value};\r\n    if(value.length<=50){ //限制最多50个字符\r\n      this.props.updateItemTmplAction(itemTmplPublishVo);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator, getFieldValue } = this.props.form;\r\n    const spuPriceDescTip = \"spu商品的价格描述信息，将会展示在商品搜索列表页中原商品价格处\";\r\n    return (\r\n      <div>\r\n        <div className=\"rHeaderTtle\"><h2>销售方式</h2></div>\r\n        <div className='priceLeft'>\r\n          <RadioGroup\r\n            value={this.props.itemTmplPublishVo.itemPerfectVo.salePriceType||1}\r\n            onChange={this.radioChange}>\r\n            <Radio value={1}>正常销售</Radio>\r\n            <Radio value={2}>询价模式</Radio>\r\n          </RadioGroup>\r\n          {this.props.itemTmplPublishVo.itemPerfectVo.salePriceType==2?\r\n            <div className=\"priceDesc\">\r\n              <span>价格描述 <Tooltip placement=\"top\" title={spuPriceDescTip}><Icon style={{opacity:\"0.5\"}} type=\"question-circle\" /></Tooltip>：</span>\r\n              <Input  onChange = {this.handleChanegPriceDesc}\r\n                      value = {this.props.itemTmplPublishVo.itemPerfectVo.priceDescVo && this.props.itemTmplPublishVo.itemPerfectVo.priceDescVo.priceDesc || ''}\r\n              />\r\n            </div>\r\n          :null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}