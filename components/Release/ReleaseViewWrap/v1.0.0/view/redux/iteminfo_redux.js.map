{"version":3,"sources":["../../../../../../src/components/Release/ReleaseViewWrap/v1.0.0/view/redux/iteminfo_redux.js"],"names":["state","loaded","action","type","ITEM_INFO_LOADING","loading","ITEM_INFO_SUCCESS","data","result","ITEM_INFO_FAIL","getItemInfoAction","itemTmplPublishVo","key","value","labelId","labelName","labelPrice","label","params","url","types","promise","client","get"],"mappings":"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","file":"iteminfo_redux.js","sourcesContent":["/**商品编辑回显redux */\r\n\r\nconst ITEM_INFO_LOADING = 'ITEM_INFO_LOADING';\r\nconst ITEM_INFO_SUCCESS = 'ITEM_INFO_SUCCESS';\r\nconst ITEM_INFO_FAIL = 'ITEM_INFO_FAIL';\r\n\r\n//模拟回显的数据\r\nconst itemTmplPublishVo = {\r\n    data: { //每一个小的vo都要先转成json\r\n        \"id\": \"1000002311\",//商品id\r\n        \"shopId\": null,//店铺id,\r\n        \"sellerId\": null,//卖家id\r\n        \"itemName\": \"测试商品\",//商品名称(必有，必填)\r\n        \"cid\": 1076089,//平台分类（必有，必填）\r\n        \"cnames\": \"类目一,类目二\", //类目回显用\r\n        \"secondCid\": 100024,//平台第二分类ID(可选，已有)\r\n        \"secondCnames\": \"第二分类1,第二分类2,第二分类3,第二分类4\", //第二类目回显用\r\n        \"shopCid\":600014,//店铺分类ID(店铺模板可选，平台和供应商不需要，已有)\r\n        \"shopCnames\":\"店铺分类1,店铺分类2\", //类目回显用,//店铺分类ID(可选，已有)\r\n        \"brandId\": null,//品牌ID(可选，已有，如果选其他，brandId传-1，品牌名称不必填)\r\n        \"brandNameCh\": \"五粮液\",\r\n        \"brandNameEn\": \"wuliangye\",\r\n        \"origin\": null,//商品产地(可选，已有)\r\n        \"channelArr\": [1, 2, 3, 4, 5, 6],//渠道(可选，已有，PC端传6，移动端传1~5，待确认)\r\n        \"checkedAttributes\": [], //[{attrId:10969,attrValueIds:[13204,13221]}], // 已勾选的销售属性 ,回显使用\r\n        \"industryLabel\":'1231;2332;1321;',//行业标签（可选，已有）\r\n        \"itemTmplSkuVoList\":[\r\n        //     {'attributes':[\r\n        //     {'aid': 10972, 'aName': \"胎面宽度\", 'vid': 13207, 'vName': \"15 mm\"}],\r\n        //     'key':0,\r\n        //     'skuStatus':1,\r\n        //     'specAttributes':[{'aid': 10972, 'vid': 13207, 'desc': \"\"}],\r\n        //     \"extendSkuFields\":[\r\n        //         {label:'列字段1', value:'string'}, // filed为在config页面配置的英文名，config页面配置的中文名以及type类型只在渲染时候使用\r\n        //         {label:'列字段1', value: 'image url string'},\r\n        //         {\r\n        //           label:'列字段1',\r\n        //                                  value:` [{   name: \"xxx.pdf\",      url: \"http://www.baidu.com/xxx.pdf\"    }]` // 数组转为字符串保存在数据库中\r\n\r\n        //         } \r\n        //  ]          \r\n        // }\r\n    ],\r\n        \"publishUserId\": null,//商品发布信息(必填,不可选)\r\n        \"operatorId\": null,//运营人员id 未写发布人员(可选,只有平台有，模块可选，选了之后必填)\r\n        \"itemPicVoList\": [{ //(必有，必填)\r\n            \"url\": \"XXXXXX\",//图片URL\r\n            \"alt\": \"CCCCCCC\",//图片标签\r\n        }, {\r\n            \"url\": \"XXXXXX\",//图片URL\r\n            \"alt\": \"CCCCCCC\",//图片标签\r\n        }],\r\n        \"itemSkuPicVoList\": [{\r\n            \"id\": '',//skuId(已有)\r\n            \"attributes\": null,//销售属性[{\"aName\":\"职业\",'aid':1,\"vName\":\"吃饭\", vid':5}](已有)\r\n            \"modelCode\": '',//商品型号(已有)\r\n            \"productCode\" :'', //商品物料号(已有)\r\n            \"barCode\" :'' ,//商品条形码(已有)\r\n            \"weight\" : null, //商品毛重(已有)\r\n            \"weightUnit\": 'g',//毛重单位(与毛重绑定)\r\n            \"length\" : null, //(可选，已有)\r\n            \"width\" : null, //(可选，已有)\r\n            \"height\" : null, //(可选，已有)\r\n            \"skuUnit\":'',//sku单位(可选，已有)\r\n            \"skuStatus\": 1,//停用启用操作(必选，默认启用) sku 状态,1:启用;0:停用\r\n            \"specAttributes\":null,//规格参数 (可选)[{'aid':6,vid':71,desc:''},{'aid':8,vid':91,desc:''}],\r\n            \"extendSkuFields\":[\r\n                   {key:'filed', value:'string'}, // filed为在config页面配置的英文名，config页面配置的中文名以及type类型只在渲染时候使用\r\n                   {key:'field', value: 'image url string'},\r\n                   {\r\n                     key:'filed',\r\n                                            value:` [{   name: \"xxx.pdf\",      url: \"http://www.baidu.com/xxx.pdf\"    }]` // 数组转为字符串保存在数据库中\r\n\r\n                   } \r\n             ]}],\r\n        // \"itemSkuPicVoList\": [\r\n        //     {//sku图片(选填，有sku就会有) sku分组上传的拆成一个一个的\r\n        //         \"attributes\":null,//销售属性[{'aid':1,vid':2},{'aid':3,vid':4}](已有)\r\n        //         \"url\":\"XXXXXX\",//地址\r\n        //         \"alt\":\"CCCCCCCCCC\",//标签\r\n        //     }\r\n        // ],\r\n        \"describeUrl\": '',//商品介绍(可选，可设必填)\r\n        /**其他设置Tab选择加载后就要 必填，不支持定制，子模块也不支持定制 */\r\n        \"deliveryInfoVo\": {//运费信息(可选,有默认值) 和下面的运费模板设置只可二选一\r\n            \"deliveryType\": 1,//是否包邮 1包邮 2 运费到付\r\n            \"homeDelivery\": 0//同城配送 0不支持 1 支持\r\n        },\r\n        \"freightTmplVo\": {//配送设置、运费模板设置(如果是店铺，不可定制，必选)\r\n            \"homeDelivery\": 0,//同城配送 0不支持 1 支持\r\n            \"tmplId\": '',//运费模板id(必填，有默认值，默认店铺)\r\n            \"hasPost\": '0',// 商品是否支持快递发货：1：支持 0：不支持\r\n            \"hasSelfPick\": 0,//商品是否支持自提：1：支持 0：不支持\r\n        },\r\n        \"saleInfoVo\": {//销售方式(可选，有默认值)\r\n            \"saleType\": 1,//最小起订量 1按单品 2按总量\r\n            \"initialMount\": 1,//起订数量(最小值1)\r\n            \"deliveryCycle\": 3//交货周期(最小值1)\r\n        },\r\n        \"afterSaleVo\": {//售后说明\r\n            \"refundService\": 2,//退货 1不允许退货 2 允许退货\r\n            \"changeService\": 2, //换货\r\n            \"refundDuration\": 7, //退货时长\r\n            \"changeDuration\": 7, //换货时长\r\n            \"repaireDuration\": 3 //质保时长\r\n        },\r\n        /**优惠支持 */ //(可选)\r\n        \"couponSupportVo\": {\r\n            'cashCouponSupport': 1, //是否支持代金券\r\n            'meetCouponSupport': 1, //是否支持满减卷\r\n            'vipDiscountSupport': 1, //是否支持vip折扣\r\n            'directSupplySupport':0, //是否支持餐厅直供，默认不支持\r\n        },\r\n        /**其他信息 */ //(可选)\r\n        \"packingList\": 'aaa',//包装清单\r\n        \"itemPicpdfVoList\": [{//商品手册\r\n            \"uid\":'1',\r\n            \"name\": \"自由在高处.pdf\",//附件名称\r\n            \"url\": \"XXXXXX\",//pdf地址\r\n        }],\r\n        /**价格及库存 供货信息 根据用户身份加载，店铺必选*/\r\n        \"itemPerfectVo\": {\r\n            \"salePriceType\": 1,//销售方式：1：正常销售(有报价)；2：询价模式(暂无报价)；3：分期付款\r\n            \"placeDeliveryId\": [\"109241\"],//供货信息页发货地(有则必填)\r\n            \"preSkuPriceVoList\": [{ //(必有，是否必填可配置) \r\n                \"areaPriceList\":[{'areaId': 0, 'areaName': \"全国\", 'areaNumber': 1, 'supplyPrice': \"5\"}],\r\n                \"inventory\":1,//常规备货、库存\r\n                \"supplyStatus\":1,//供货情况 0暂无供货 1正常供货  --供应商用到\r\n                \"attributes\":[{'aid': 2641, 'aName': \"型号千3\", 'vid': 6547, 'vName': \"M\"}],//销售属性[{\"aid\":123,\"vid\":456}](已有)\r\n                'labelPriceList':[{labelId:181,labelName:'分销商',labelPrice:100},{labelId:1045,labelName:\"111111111111111111\",labelPrice:200}],\r\n                'isPrice':1,\r\n            },{ //(必有，是否必填可配置) \r\n                \"areaPriceList\":[{'areaId': 0, 'areaName': \"全国\", 'areaNumber': 1, 'supplyPrice': \"6\"},{'supplyPrice': \"7\", 'areaId': \"11\", 'areaName': \"北京市\", 'areaNumber': 1}],\r\n                \"inventory\":2,//常规备货、库存\r\n                \"supplyStatus\":0,//供货情况 0暂无供货 1正常供货  --供应商用到\r\n                \"attributes\":[{'aid': 2641, 'aName': \"型号千3\", 'vid': 6548, 'vName': \"L\"}],//销售属性[{\"aid\":123,\"vid\":456}](已有)\r\n                'labelPriceList':[],\r\n                'isPrice':0,\r\n            }],\r\n    \r\n        },\r\n        \"extendFields\": [\r\n            { label: 'adText', value: 'aaa' },\r\n            { label: 'adUrl', value: '//a.b.c' },\r\n            { label: 'adColor', value: '#000' }\r\n        ]\r\n    }\r\n}\r\n\r\nexport default function (state = { loaded:false }, action = {}) {\r\n    switch (action.type) {\r\n        case ITEM_INFO_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                loaded: false,\r\n            };\r\n        case ITEM_INFO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                loaded: true,\r\n                data: action.result\r\n            };\r\n        case ITEM_INFO_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                loaded: true\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport function getItemInfoAction(type, params) {\r\n    let url = '/item/platform/itemTmplPublish/queryItemInfo';\r\n    if(type == 2){\r\n        url = '/item/seller/itemTmplPublish/querySupplySellerItemInfo';\r\n    } else if(type == 3){\r\n        url = '/item/shop/itemTmplPublish/queryItemInfo';\r\n    }\r\n    return {\r\n        types: [ITEM_INFO_LOADING, ITEM_INFO_SUCCESS, ITEM_INFO_FAIL],\r\n        promise: (client) => client.get(url, {\r\n            params: params\r\n        })\r\n    }\r\n}\r\n"]}