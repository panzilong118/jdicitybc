{"version":3,"sources":["../../../../../../src/components/Release/GoodImageShop/v1.0.0/view/UploadImg/UploadImg.js"],"names":["uploadFlag","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","beforeUpload","file","isImgTypes","fileName","name","imgTypes","length","fileTypes","split","type","toUpperCase","map","types","index","indexOf","error","UploadImg","props","context","handleChange","info","status","loading","response","code","urls","data","itemImgInfos","push","url","alt","onCallBackData","msg","handleReChange","repeatItem","splice","state","handleCancel","handleReUpload","setState","onChangeAlt","e","target","id","value","onBlurChange","loop","item","styles","avatarcontainer","avatarwrapper","uploadName","lUpload","reupload","gip","deletespan","avatar","bind","avatardelete","func","attachEvent","nextProps","browser","b_version","version","trim_Version","navigator","appName","appVersion","replace","console","log","avatardelete2","uploadButton","avatarwrapperadd","avataruploader","platformId","avataruploadertrigger","plusicon","plus1","avatarfl","num","Component"],"mappings":"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","file":"UploadImg.js","sourcesContent":["\r\nimport React, { Component, PropTypes } from 'react';\r\nimport { Upload, Icon, message ,Input } from 'jdcloudui';\r\nimport styles from './style/imageupload.less';\r\nlet uploadFlag = true;\r\nfunction getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n}\r\nfunction beforeUpload  (file) {\r\n    let isImgTypes=true;\r\n    let fileName = file.name;\r\n    let imgTypes=['jpg','jpeg','png'];\r\n    if(imgTypes && imgTypes.length>0){\r\n        var fileTypes=fileName.split('.');\r\n        var type = fileTypes[fileTypes.length-1];\r\n        type = type.toUpperCase();\r\n        imgTypes = imgTypes.map((types,index)=>{\r\n            return types.toUpperCase();\r\n        });\r\n        if(imgTypes.indexOf(type)=== -1){//文件类型不在用户指定的范围内\r\n            isImgTypes =false;\r\n        }\r\n    }\r\n    if(!isImgTypes){\r\n        message.error('允许的图片格式有jpg、jpeg、png、JPG、JPEG、PNG')\r\n    }\r\n    return isImgTypes;\r\n};\r\nexport default class UploadImg extends Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            index :null\r\n        };\r\n        this.loop = this.loop.bind(this);\r\n        this.uploadName = styles.avatardelete;\r\n    }\r\n    componentDidMount() {\r\n    }\r\n    addEventHandler(target,type,func){\r\n        if(target.addEventListener){\r\n            //监听IE9，谷歌和火狐\r\n            target.addEventListener(type, func, false);\r\n        }else if(target.attachEvent){\r\n            target.attachEvent(\"on\" + type, func);\r\n        }else{\r\n            target[\"on\" + type] = func;\r\n        }\r\n    }\r\n    //上传\r\n    handleChange = (info) => {\r\n        if(info.file.status === 'uploading'){\r\n            if(uploadFlag){\r\n                message.loading('正在上传中，请稍等....',1.5);\r\n            }\r\n            uploadFlag = false;\r\n        }\r\n        if (info.file.status === 'done') {\r\n            uploadFlag = true;\r\n            //注意：这里是实现成功 接受返回值 图片的url\r\n            if(info.file.response.code==0){\r\n                // console.log('data:'+typeof info.file.response.data)\r\n                const urls = info.file.response.data;\r\n                urls&&this.itemImgInfos.push(\r\n                    {\r\n                        url:urls,\r\n                        alt:''\r\n                    }\r\n                );\r\n                //将数据传给父组件\r\n                this.props.onCallBackData(this.itemImgInfos);\r\n            }else{\r\n                message.error(info.file.response.msg);\r\n            }\r\n        }else if (info.file.status === 'error') {\r\n            uploadFlag = true;\r\n            const msg=info.file.response&&info.file.response.msg?info.file.response.msg:\"上传失败\";\r\n            message.error(msg);\r\n        }\r\n    };\r\n    //重新上传\r\n    handleReChange = (info) => {\r\n        if(info.file.status === 'uploading'){\r\n            if(uploadFlag){\r\n                message.loading('正在上传中，请稍等....',1.5);\r\n            }\r\n            uploadFlag = false;\r\n        }\r\n        if (info.file.status === 'done') {\r\n            uploadFlag = true;\r\n            //重新上传成功 接受返回图片的url\r\n            if(+info.file.response.code===0){\r\n                const url = info.file.response.data;\r\n                const repeatItem = {\r\n                    url:url,\r\n                    alt:''\r\n                }\r\n                this.itemImgInfos.splice(this.state.index,1,repeatItem);\r\n               //将数据传给父组件\r\n                this.props.onCallBackData(this.itemImgInfos);\r\n            }else{\r\n                message.error(info.file.response.msg);\r\n            }\r\n        }else if (info.file.status === 'error') {\r\n            uploadFlag = true;\r\n            const msg=info.file.response&&info.file.response.msg?info.file.response.msg:\"上传失败\";\r\n            message.error(msg);\r\n        }\r\n    };\r\n    //删除\r\n    handleCancel = (index) => {\r\n         this.itemImgInfos.splice(index,1);\r\n        //将数据传给父组件\r\n        this.props.onCallBackData(this.itemImgInfos);\r\n    };\r\n    //重新上传时的下标\r\n    handleReUpload = (index) => {\r\n        this.state.index = index;\r\n        this.setState({\r\n            index:this.state.index\r\n        });\r\n    };\r\n    //改变ALT\r\n    onChangeAlt = (e) => {\r\n        this.itemImgInfos[e.target.id].alt = e.target.value;\r\n        this.props.onCallBackData(this.itemImgInfos);\r\n    };\r\n    //失去焦点后确认输入ALT\r\n    onBlurChange = (index) => {\r\n        //将数据传给父组件\r\n        this.props.onCallBackData(this.itemImgInfos);\r\n    };\r\n    //循环的到插入的每张照片\r\n    loop = data => data.map((item,index) => {\r\n        return (\r\n            item.url?<div className={styles.avatarcontainer} key={index} >\r\n                <div className={styles.avatarwrapper}>\r\n                    <div className={this.uploadName}>\r\n                        <Upload\r\n                            className={styles.lUpload}\r\n                            name=\"file\"\r\n                            showUploadList={false}\r\n                            action=\"/proxy/base/upload/uploadImgLimitFiveMega\"\r\n                            beforeUpload={beforeUpload}\r\n                            onChange={this.handleReChange}\r\n                        >\r\n                            <span className={styles.reupload}  onClick={()=>this.handleReUpload(index)} >{'重新上传'}</span>\r\n                        </Upload>\r\n                        <span className={styles.gip}></span>\r\n                        <span className={styles.deletespan}  onClick={() =>this.handleCancel(index)} >{'删除'}</span>\r\n                    </div>\r\n                    <img src={item.url} alt={item.alt} className={styles.avatar} />\r\n                </div>\r\n                <Input placeholder=\"输入ALT标签\" onChange={this.onChangeAlt} onBlur={() =>this.onBlurChange(index)}\r\n                       value={this.itemImgInfos[index].alt} id={index} maxLength=\"50\" />\r\n            </div>:null\r\n        );\r\n    });\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        // console.log(\"nextProps====\",nextProps);\r\n    }\r\n\r\n    componentWillMount(){\r\n        let browser = '';\r\n        let b_version = '';\r\n        let version = [];\r\n        let trim_Version = '';\r\n        if(navigator){\r\n            browser = navigator.appName;\r\n            b_version = navigator.appVersion;\r\n            if(b_version){\r\n                version = b_version.split(\";\");\r\n                if(version.length > 1){\r\n                    trim_Version = version[1].replace(/[ ]/g,\"\");\r\n                }else{}\r\n            }else{}\r\n        }else{}\r\n        if(browser && b_version && version && trim_Version){\r\n            console.log(browser, b_version, version, trim_Version,'browser, b_version, version, trim_Version');\r\n            if(browser == \"Microsoft Internet Explorer\" && trim_Version == \"MSIE6.0\")\r\n            {\r\n                console.log(\"IE 6.0\");\r\n            }\r\n            else if(browser == \"Microsoft Internet Explorer\" && trim_Version == \"MSIE7.0\")\r\n            {\r\n                console.log(\"IE 7.0\");\r\n            }\r\n            else if(browser == \"Microsoft Internet Explorer\" && trim_Version == \"MSIE8.0\")\r\n            {\r\n                console.log(\"IE 8.0\");\r\n            }\r\n            else if(browser == \"Microsoft Internet Explorer\" && trim_Version == \"MSIE9.0\")\r\n            {\r\n                //alert(\"IE 9.0\");\r\n                this.uploadName = styles.avatardelete2;\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.itemImgInfos = this.props.itemImgInfos ? this.props.itemImgInfos : [];\r\n        const uploadButton = (\r\n            <div className={styles.avatarcontainer}>\r\n                <div className={styles.avatarwrapperadd}>\r\n                    <Upload\r\n                        className={styles.avataruploader}\r\n                        name=\"file\"\r\n                        showUploadList={false}\r\n                        action=\"/proxy/base/upload/uploadImgLimitFiveMega\"\r\n                        beforeUpload={beforeUpload}\r\n                        onChange={this.handleChange}\r\n                        data={{platformId:2}}\r\n                        multiple={true}\r\n                    >\r\n                        <div className={styles.avataruploadertrigger}>\r\n                            <Icon type=\"plus\"  size=\"large\" className={styles.plusicon}></Icon>\r\n                            <span className={styles.plus1}>添加图片</span>\r\n                        </div>\r\n                    </Upload>\r\n                </div>\r\n                <Input placeholder=\"图片ALT标签\" disabled={true}/>\r\n            </div>\r\n        );\r\n        return (\r\n            <div className={styles.avatarfl}>\r\n                {this.itemImgInfos !==[]&&this.itemImgInfos.length>0&&this.loop(this.itemImgInfos)}\r\n                {this.itemImgInfos.length >=this.props.num?null:uploadButton}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}