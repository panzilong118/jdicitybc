{"version":3,"sources":["../../../../../../src/components/Release/GoodImagePlatform/v1.0.0/view/UploadSelect/UploadSelect.js"],"names":["Upload","props","context","init","data","type","length","map","item","index","url","styles","avatarcontainer","avatarwrapper","avataruploader","size","suffix","info","handleReChange","handleCancel","e","handleALTChange","alt","uploadButton","avatarwrapperadd","handleChange","avatarfl","itemImgInfos","num","Component"],"mappings":"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","file":"UploadSelect.js","sourcesContent":["/****************************************************************\r\n * author:luoquan\r\n * date:2018-03-12\r\n * description:产品发布-图片上传\r\n ****************************************************************/\r\nimport React, { Component } from 'react';\r\n\r\nimport { Input } from 'jdcloudui';\r\nimport  { UploadSelect }  from 'jdcloudecc/components';\r\nimport styles from './style/imageupload.less';\r\n\r\n\r\nexport default class Upload extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  //初始化数据\r\n  init = (data, type) => {\r\n      // console.log(\"data ===\",data,\"type ===\",type);\r\n    if(data.length > 0) {\r\n      return type ? (\r\n          data.map((item, index) => {\r\n            return (\r\n              item.url ? (\r\n                  <div className={styles.avatarcontainer} key={index} >\r\n                    <div className={styles.avatarwrapper}>\r\n                      <UploadSelect\r\n                        className={styles.avataruploader}\r\n                        limit={{size:5,suffix:[\"jpg\",\"jpeg\",\"png\",\"JPG\",\"JPEG\",\"PNG\"]}}\r\n                        onChange={(info) =>this.props.handleReChange(info, index)}\r\n                        imgUrl={item.url}\r\n                        showRemoveIcon={true}\r\n                        onRemove={() =>this.props.handleCancel(index)}\r\n                      />\r\n                    </div>\r\n                    <Input placeholder=\"输入ALT标签\" onChange={(e) => this.props.handleALTChange(e, index)}\r\n                           value={item.alt} maxLength=\"50\" />\r\n                  </div>\r\n                ) : null\r\n            )\r\n          })\r\n        ) : (\r\n          data.map((item, index) => {\r\n            return (\r\n              <div className={styles.avatarcontainer} key={index} >\r\n                <div className={styles.avatarwrapper}>\r\n                  <UploadSelect\r\n                    className={styles.avataruploader}\r\n                    limit={{size:5,suffix:[\"jpg\",\"jpeg\",\"png\",\"JPG\",\"JPEG\",\"PNG\"]}}\r\n                    onChange={(info) =>this.props.handleReChange(info)}\r\n                    imgUrl={item.url}\r\n                    showRemoveIcon={true}\r\n                    onRemove={() =>this.props.handleCancel()}\r\n                  />\r\n                </div>\r\n                <Input\r\n                  placeholder=\"输入ALT标签\"\r\n                  onChange={(e) => this.props.handleALTChange(e)}\r\n                  value={item.alt}\r\n                  maxLength=\"50\"\r\n                />\r\n              </div>\r\n            )\r\n          })\r\n        );\r\n    }else{\r\n      return type ? null : (\r\n          <div className={styles.avatarcontainer}>\r\n            <div className={styles.avatarwrapper}>\r\n              <UploadSelect\r\n                className={styles.avataruploader}\r\n                limit={{size:5,suffix:[\"jpg\",\"jpeg\",\"png\",\"JPG\",\"JPEG\",\"PNG\"]}}\r\n                onChange={(info) =>this.props.handleReChange(info)}\r\n              />\r\n            </div>\r\n            <Input\r\n              placeholder=\"输入ALT标签\"\r\n              disabled={true}\r\n            />\r\n          </div>\r\n        )\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const uploadButton = (\r\n      <div className={styles.avatarcontainer}>\r\n        <div className={styles.avatarwrapperadd}>\r\n            <UploadSelect\r\n              className={styles.avataruploader}\r\n              limit={{size:5,suffix:[\"jpg\",\"jpeg\",\"png\",\"JPG\",\"JPEG\",\"PNG\"]}}\r\n              multiple={true}\r\n              onChange={this.props.handleChange}\r\n            />\r\n        </div>\r\n        <Input placeholder=\"图片ALT标签\" disabled={true} />\r\n      </div>\r\n    );\r\n    return (\r\n      <div className={styles.avatarfl}>\r\n        {\r\n          this.init(this.props.itemImgInfos, this.props.type)\r\n        }\r\n        {\r\n          this.props.type ? this.props.itemImgInfos.length >= this.props.num ? null : uploadButton : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}