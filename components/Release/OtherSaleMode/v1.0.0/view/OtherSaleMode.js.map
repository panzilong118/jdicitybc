{"version":3,"sources":["../../../../../src/components/Release/OtherSaleMode/v1.0.0/view/OtherSaleMode.js"],"names":["RadioGroup","Group","OtherSaleMode","props","radioChange","e","itemTmplPublishVo","JSON","parse","console","log","target","value","saleInfoVo","saleType","updateItemTmplAction","numberChange","num","parseInt","initialMount","setState","initialTime","dayChange","deliveryCycle","initialDay","state","nextProps","type","Component"],"mappings":"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","file":"OtherSaleMode.js","sourcesContent":["/**\r\n * @file 其他设置--销售方式\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Table, Checkbox, message,Radio,InputNumber } from 'jdcloudui';\r\nimport './style/index.css';\r\n\r\nconst RadioGroup = Radio.Group;\r\n\r\nexport default class OtherSaleMode extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      initialTime: 1,\r\n      initialDay: this.props.itemTmplPublishVo.saleInfoVo.deliveryCycle\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    console.log(nextProps)\r\n  }\r\n\r\n  radioChange=(e)=>{\r\n    let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n    console.log('radio checked', e.target.value);\r\n    itemTmplPublishVo.saleInfoVo.saleType = e.target.value;\r\n    this.props.updateItemTmplAction(itemTmplPublishVo);\r\n  }\r\n\r\n  // 最小起订量\r\n  numberChange=(value)=>{\r\n    console.log('changed', value);\r\n    let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n    let num = 0;\r\n    if (value) {\r\n      num = value;\r\n    }\r\n    num = parseInt(num);\r\n    if (!num) {\r\n      num = 1;\r\n    }\r\n    itemTmplPublishVo.saleInfoVo.initialMount = num;\r\n    this.setState({\r\n      initialTime: itemTmplPublishVo.saleInfoVo.initialMount\r\n    });\r\n    this.props.updateItemTmplAction(itemTmplPublishVo);\r\n  }\r\n\r\n  // 预计出货日\r\n  dayChange=(value)=>{\r\n    console.log('changed', value);\r\n    let itemTmplPublishVo = JSON.parse(JSON.stringify(this.props.itemTmplPublishVo));\r\n    let num = 0;\r\n    if (value) {\r\n      num = value;\r\n    }\r\n    num = parseInt(num);\r\n    if (!num) {\r\n      num = 1;\r\n    }\r\n    itemTmplPublishVo.saleInfoVo.deliveryCycle = num;\r\n    this.setState({\r\n      initialDay: itemTmplPublishVo.saleInfoVo.deliveryCycle\r\n    });\r\n    this.props.updateItemTmplAction(itemTmplPublishVo);\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n          <h3 className = 'h3-title'>销售方式</h3>\r\n          <div>\r\n            <div className = 'otherMt202'>\r\n              <span className='smallColor smaillest'>最小起订量:</span>\r\n              {this.props.type == 1 ? <span className='marginL5'>按单品</span> :\r\n                  this.props.type == 2 ? <Radio defaultChecked >按单品</Radio> :\r\n                  <RadioGroup\r\n                     value={this.props.itemTmplPublishVo.saleInfoVo.saleType||1}\r\n                     onChange={this.radioChange}>\r\n                    <Radio value={1}>按单品</Radio>\r\n                    <Radio value={2}>按总量</Radio>\r\n                  </RadioGroup>\r\n              }\r\n              <span className='line32'>订购大于等于\r\n              <InputNumber min={1} className = 'ml10'\r\n                  value={this.props.itemTmplPublishVo.saleInfoVo.initialMount || 1}\r\n                  onChange={this.numberChange}\r\n                  //value={this.state.initialTime}\r\n                />\r\n\t\t\t\t    \t（计量单位）方可订购\r\n\t\t\t\t      </span>\r\n            </div>\r\n            <div>\r\n              <span className='smallColor smaillest'>预计出货日:</span>\r\n              <span>\r\n                {this.props.type == 1 ? <InputNumber className = 'ml10'\r\n                                        value={this.props.itemTmplPublishVo.saleInfoVo.deliveryCycle || 3}\r\n                                        onChange={this.dayChange}\r\n                                        //value={this.state.initialDay}\r\n                                      /> :\r\n                  this.props.type == 2 ? <InputNumber className = 'ml10'\r\n                                          value={this.props.itemTmplPublishVo.saleInfoVo.deliveryCycle || 3}\r\n                                          onChange={this.dayChange}\r\n                                          //value={this.state.initialDay}\r\n                      /> :\r\n                  <InputNumber className = 'ml10'\r\n                    value={this.props.itemTmplPublishVo.saleInfoVo.deliveryCycle || 1}\r\n                    onChange={this.dayChange}\r\n                    //value={this.state.initialDay}\r\n                  />\r\n                }\r\n\t\t\t\t    \t 天\r\n\t\t\t\t      </span>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}