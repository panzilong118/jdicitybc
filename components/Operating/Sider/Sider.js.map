{"version":3,"sources":["../../../src/components/Operating/Sider/Sider.js"],"names":["Sider","context","state","current","mainDomain","getMainDomainForLogo","client","ApiClient","get","then","res","code","data","map","_item","domainType","domain","setState","err","e","key","SubMenu","props","subMenu","vKey","openKeys","length","i","push","id","menus","menu","children","sub","cMenu","href","target","name","icon","logo","Math","random","width","String","Component"],"mappings":"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","file":"Sider.js","sourcesContent":["import React, {Component} from 'react';\r\nimport { Menu, Icon} from 'jdcloudui';\r\n\r\nimport {Link} from 'react-router';  //链接跳转，相当于a标签\r\nimport './style/templateSider.css';\r\nimport logo from './style/logo.png';\r\nimport ApiClient from '../../../apiClient/ApiClient';\r\nexport default class Sider extends Component {\r\n\r\n  constructor(context) {\r\n    super(context);\r\n    this.state = {\r\n      current: '4',\r\n      mainDomain: '/',\r\n    };\r\n  }\r\n  componentWillMount() {\r\n    this.getMainDomainForLogo();\r\n  }\r\n\r\n  //获取域名\r\n  getMainDomainForLogo() {\r\n    var client = new ApiClient(null,null,null,true);\r\n    client.get('/passport/logout')\r\n      .then(\r\n        (res) => {\r\n          if(res.code == 0 && res.data) {\r\n            res.data.map(_item => {\r\n              if (_item.domainType == 1) {\r\n                let mainDomain = `//${_item.domain}`;\r\n                this.setState({mainDomain: mainDomain});\r\n              }\r\n            });\r\n          }\r\n        },\r\n        (err) => {\r\n        }\r\n      );\r\n  }\r\n  handleClick(e) {\r\n    this.setState({\r\n      current: e.key,\r\n    });\r\n  }\r\n  render() {\r\n    const SubMenu = Menu.SubMenu;\r\n    const {subMenu,vKey} = this.props;\r\n    let openKeys = [];\r\n    if (subMenu && subMenu.length && subMenu.length > 0) {\r\n      for (let i in subMenu) {\r\n        openKeys.push(subMenu[i].id + '');\r\n      }\r\n    }\r\n    let menus = ''\r\n    if (subMenu && subMenu.length && subMenu.length > 0) {\r\n      menus = subMenu.map((menu)=>{\r\n        if (menu.children && menu.children.length && menu.children.length>0) {\r\n          const sub = menu.children.map((cMenu)=>{\r\n            return <Menu.Item key={cMenu.id}><a href={cMenu.href} target={cMenu.target}>{cMenu.name}</a></Menu.Item>\r\n          })\r\n          return (<SubMenu key={menu.id} title={<span><Icon type={menu.icon ? menu.icon + '' : ''}/><span>{menu.name}</span></span>}>\r\n            {sub}\r\n          </SubMenu>)\r\n        }else {\r\n          return <Menu.Item className=\"operaing-no-child\" key={menu.id}><a href={menu.href}><Icon type={menu.icon ? menu.icon + '' : ''}/>{menu.name}</a></Menu.Item>\r\n        }\r\n      });\r\n    }\r\n    return (\r\n      <div>\r\n        <div className=\"operating-framewrok-logo\">\r\n          <a href={this.state.mainDomain} target=\"_blank\" >{this.props.logo?<img src={this.props.logo} />:''}</a>\r\n        </div>\r\n        <Menu\r\n          key={Math.random()}\r\n          theme=\"dark\"\r\n          style={{ width: 200 }}\r\n          defaultOpenKeys={openKeys}\r\n          selectedKeys={[String(vKey)]}\r\n          className=\"operating-framewrok-menu\"\r\n          mode=\"inline\"\r\n        >\r\n          {menus}\r\n        </Menu>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}"]}