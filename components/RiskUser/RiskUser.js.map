{"version":3,"sources":["../../src/components/RiskUser/RiskUser.js"],"names":["RiskUser","context","state","isRiskUser","props","riskState","undefined","setState","id","companyId","queryIsRiskUser","client","ApiClient","get","params","platformId","userId1","then","res","code","data","userType","err","nextProps","children","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;;;;AACA;;AACA;;;;;;IACqBA,Q;;;AAEnB,oBAAYC,OAAZ,EAAqB;AAAA;;AAAA,0IACbA,OADa;;AAEnB,UAAKC,KAAL,GAAa;AACXC,kBAAY;AADD,KAAb;AAFmB;AAKpB;;;;iCAEW;AACV,UAAG,KAAKC,KAAL,CAAWC,SAAX,IAAsB,IAAtB,IAA8B,KAAKD,KAAL,CAAWC,SAAX,IAAsBC,SAApD,KAAkE,KAAKF,KAAL,CAAWC,SAAX,IAAsB,CAAtB,IAA2B,KAAKD,KAAL,CAAWC,SAAX,IAAsB,GAAnH,CAAH,EAA2H;AACzH,aAAKE,QAAL,CAAc,EAACJ,YAAW,IAAZ,EAAd;AACD,OAFD,MAEM,IAAI,KAAKC,KAAL,CAAWI,EAAX,IAAiB,KAAKJ,KAAL,CAAWK,SAAhC,EAA2C;AAC/C,aAAKC,eAAL,CAAqB,KAAKN,KAAL,CAAWI,EAAhC,EAAoC,KAAKJ,KAAL,CAAWK,SAA/C;AACD,OAFK,MAED,CAEJ;AACF;;;oCAEeD,E,EAAGC,S,EAAU;AAAA;;AAC3B,UAAIE,SAAS,IAAIC,mBAAJ,CAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,IAAhC,CAAb;AACAD,aAAOE,GAAP,CAAW,oDAAX,EAAiE,EAACC,QAAQ,EAACC,YAAY,CAAb,EAAgBC,SAASR,EAAzB,EAA6BC,WAAUA,SAAvC,EAAT,EAAjE,EACGQ,IADH,CAEI,UAACC,GAAD,EAAS;AACP,YAAIA,IAAIC,IAAJ,IAAY,CAAZ,IAAiBD,IAAIE,IAAzB,EAA+B;AAC7B,cAAGF,IAAIE,IAAJ,CAASC,QAAT,IAAmB,IAAnB,IAA2BH,IAAIE,IAAJ,CAASC,QAAT,IAAmBf,SAA9C,KAA4DY,IAAIE,IAAJ,CAASC,QAAT,IAAmB,CAAnB,IAAwBH,IAAIE,IAAJ,CAASC,QAAT,IAAmB,GAAvG,CAAH,EACA,OAAKd,QAAL,CAAc;AACZJ,wBAAY;AADA,WAAd;AAGD,SALD,MAKK,CACJ;AACF,OAVL,EAWI,UAACmB,GAAD,EAAS,CACR,CAZL;AAcD;;;yCAEmB;AAClB,WAAKnB,UAAL;AACD;;;8CACyBoB,S,EAAU;AAClC,UAAGA,aAAaA,UAAUf,EAAvB,IAA6Be,UAAUd,SAA1C,EAAoD;AAClD,aAAKC,eAAL,CAAqBa,UAAUf,EAA/B,EAAmCe,UAAUd,SAA7C;AACD;AACF;;;6BACQ;AACP,aACE;AAAA;AAAA;AACG,aAAKL,KAAL,CAAWoB,QADd;AACwB,aAAKtB,KAAL,CAAWC,UAAX,IAAyB;AAAA;AAAA,YAAK,WAAU,UAAf;AAAA;AAAA;AADjD,OADF;AAKD;;;EAnDmCsB,gB,GANtC;;;;;kBAMqBzB,Q","file":"RiskUser.js","sourcesContent":["/**\r\n * Created by huangxiao3 on 2017/8/21.\r\n */\r\nimport React, {Component} from 'react';\r\nimport './styles/styles.css';\r\nimport ApiClient from '../../apiClient/ApiClient';\r\nexport default class RiskUser extends Component {\r\n\r\n  constructor(context) {\r\n    super(context);\r\n    this.state = {\r\n      isRiskUser: false,\r\n    };\r\n  }\r\n\r\n  isRiskUser(){\r\n    if(this.props.riskState!=null && this.props.riskState!=undefined && (this.props.riskState==0 || this.props.riskState=='0')){\r\n      this.setState({isRiskUser:true});\r\n    }else if( this.props.id && this.props.companyId ){\r\n      this.queryIsRiskUser(this.props.id, this.props.companyId);\r\n    }else{\r\n\r\n    }\r\n  }\r\n\r\n  queryIsRiskUser(id,companyId){\r\n    var client = new ApiClient(null, null, null, true);\r\n    client.get('/platform-service/platform/blacklistuser/checkUser', {params: {platformId: 2, userId1: id, companyId:companyId}})\r\n      .then(\r\n        (res) => {\r\n          if (res.code == 0 && res.data) {\r\n            if(res.data.userType!=null && res.data.userType!=undefined && (res.data.userType==0 || res.data.userType=='0'))\r\n            this.setState({\r\n              isRiskUser: true,\r\n            });\r\n          }else{\r\n          }\r\n        },\r\n        (err) => {\r\n        }\r\n      );\r\n  }\r\n\r\n  componentWillMount(){\r\n    this.isRiskUser();\r\n  }\r\n  componentWillReceiveProps(nextProps){\r\n    if(nextProps && nextProps.id && nextProps.companyId){\r\n      this.queryIsRiskUser(nextProps.id, nextProps.companyId);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <span>\r\n        {this.props.children}{this.state.isRiskUser && <div className=\"riskname\">风险</div>}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n"]}