{"version":3,"sources":["..\\..\\src\\components\\TopTools备份\\TopTools.js"],"names":["client","ApiClient","company","CompanyLayer","TopTools","getCitys","isLogin","getUrl","getCode","getTel","getCitysAction","getLoginAction","getUrlAction","getCodeAction","getTelAction","dispatch","props","state","citys","citysVisible","cityName","cityId","username","shopDomain","buyerDomain","paltformDomain","domain","contactInfo","weixinCodeUrl","appDownCodeUrl","shopNum","areaId","areaName","encodeURIComponent","document","cookie","defaultCookie","setState","getElementById","style","display","cityArr","map","push","_city","code","Math","random","setCookie","name","then","rs","cityList","data","_item","domainType","onmouseenter","onmouseleave","get","ck","Cookies","companyId","cookieArr","split","indexOf","decodeURIComponent","substr","length","logouts","window","href","location","isCompanyId","renderCity","isInfo","isBuyer","logout","styles","textColor777","Component"],"mappings":"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","file":"TopTools.js","sourcesContent":["/**************************\r\n * @author: FengYan\r\n * @update: 20170523\r\n * @description:供应商顶部工具栏\r\n *************************/\r\n/************  基础组件  *************/\r\nimport React, {Component} from 'react';\r\nimport {Row, Col, Icon, Modal} from 'jdcloudui';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport getCitys, {getCitysAction} from './redux/citys_redux';\r\nimport isLogin, {getLoginAction} from './redux/isLogin_redux';\r\nimport getUrl, {getUrlAction} from './redux/getUrl_redux';\r\nimport getCode, {getCodeAction} from './redux/getCode_redux';\r\nimport getTel, {getTelAction} from './redux/getTel_redux';\r\nimport onLogout from '../../sso/onLogout';\r\nimport ApiClient from '../../apiClient/ApiClient';\r\nconst client = new ApiClient();\r\n/************  自定义组件  *************/\r\nimport styles from './styles/styles.css';\r\nimport CompanySelect from './CompanySelect/CompanySelect';\r\nimport ShopSelect from './ShopSelect/ShopSelect';\r\nimport AccountManagement from './AccountManagement/AccountManagement';\r\nimport Cookies from '../../common/Cookies';\r\nimport CompanyLayer from './CompanyLayer/CompanyLayer';\r\nimport AccountMa from './AccountMa/AccountMa';\r\nconst company = new CompanyLayer();\r\n\r\n@connect(\r\n  state => (getCitys, isLogin, getUrl, getCode, getTel),\r\n  dispatch => bindActionCreators({getCitysAction, getLoginAction, getUrlAction, getCodeAction, getTelAction}, dispatch)\r\n)\r\n\r\nexport default class TopTools extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      citys: [],\r\n      citysVisible: false,\r\n      cityName: '未选择',\r\n      cityId: '',\r\n      username: '',\r\n      shopDomain: '',\r\n      buyerDomain: '',\r\n      paltformDomain: '',\r\n      domain: '',\r\n      contactInfo: '',\r\n      weixinCodeUrl: '',\r\n      appDownCodeUrl: '',\r\n      shopNum: 0\r\n    };\r\n  }\r\n\r\n  setCookie({areaId, areaName}) {\r\n    // 存储，IE6~7 cookie 其他浏览器HTML5本地存储\r\n    const cityName = encodeURIComponent(areaName);\r\n    document.cookie = `areaName=${cityName}; path=/; domain=${this.state.domain}`;\r\n    document.cookie = `areaId=${areaId}; path=/; domain=${this.state.domain}`;\r\n    // if (localStorage) {\r\n    //   localStorage.areaId = areaId;\r\n    //   localStorage.areaName = areaName;\r\n    this.defaultCookie();\r\n    // this.setState({\r\n    //   cityName: areaName,\r\n    //   cityId: areaId\r\n    // });\r\n    // } else {\r\n    // document.cookie = `areaId=${areaId};areaName=${areaName}`;\r\n    // }\r\n    if (this.state.citysVisible) {\r\n      this.setState({\r\n        citysVisible: false\r\n      });\r\n    }\r\n    document.getElementById('citys').style.display = 'none';\r\n  }\r\n\r\n  renderCity(citys) {\r\n    // 一级地市列表渲染\r\n    const cityArr = [];\r\n    citys.map(_city => {\r\n      cityArr.push(\r\n        <li key={_city.code + Math.random() * 100000}>\r\n          <a href=\"javascript:void(0)\"\r\n             onClick={() => this.setCookie({areaId: _city.code, areaName: _city.name})}\r\n             className={this.state.cityName === _city.name ? 'active' : ''}\r\n             key={_city.code}>\r\n            {_city.name}\r\n          </a>\r\n        </li>);\r\n    });\r\n    return cityArr;\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 获取一级地市数据，存入citys\r\n    this.props.getCitysAction().then(rs => {\r\n      if (rs.code != 0) return;\r\n      let cityList = [];\r\n      rs.data.map(_item => {\r\n        cityList.push({\r\n          name: _item.name,\r\n          code: _item.code\r\n        });\r\n      });\r\n      this.setState({\r\n        citys: cityList\r\n      });\r\n      this.defaultCookie();\r\n    });\r\n    // 获取用户登录信息\r\n    this.props.getLoginAction().then(rs => {\r\n      if (rs.code == 0) {\r\n        this.setState({\r\n          username: rs.data.username\r\n        });\r\n      }\r\n    });\r\n    // 获取url\r\n    this.props.getUrlAction().then(rs => {\r\n      if (rs.code == 0) {\r\n        rs.data.map(_item => {\r\n          if (_item.domainType == 3) this.setState({shopDomain: _item.domain});\r\n          if (_item.domainType == 2) this.setState({buyerDomain: _item.domain});\r\n          if (_item.domainType == 5) this.setState({paltformDomain: _item.domain});\r\n          if (_item.domainType == 1) this.setState({domain: _item.domain});\r\n        });\r\n      }\r\n    });\r\n    document.getElementById('chooseLocal').onmouseenter = () => {\r\n      document.getElementById('citys').style.display = 'inline-block';\r\n    };\r\n    document.getElementById('chooseLocal').onmouseleave = () => {\r\n      document.getElementById('citys').style.display = 'none';\r\n    };\r\n    // 获取二维码\r\n    this.props.getCodeAction().then(rs => {\r\n      if (rs.code == 0) {\r\n        this.setState({\r\n          weixinCodeUrl: rs.data.weixinCodeUrl,\r\n          appDownCodeUrl: rs.data.appDownCodeUrl\r\n        });\r\n      }\r\n    });\r\n    // 获取 400电话\r\n    this.props.getTelAction().then(rs => {\r\n      if (rs.code == 0) {\r\n        if (rs.data[0] && rs.data[0].contactInfo) {\r\n          this.setState({\r\n            contactInfo: rs.data[0].contactInfo\r\n          });\r\n        } else {\r\n          this.setState({\r\n            contactInfo: ''\r\n          });\r\n        }\r\n      }\r\n    });\r\n    // 获取购物车数量\r\n    client.get('cart/mall/cart/queryCartItemNum').then(rs => {\r\n      if (rs.code == 0) {\r\n        this.setState({\r\n          shopNum: rs.data\r\n        });\r\n      }\r\n    });\r\n\r\n    // 获取companyId\r\n    const ck = new Cookies();\r\n    this.companyId = ck.get('companyId');\r\n  }\r\n\r\n  defaultCookie() {\r\n    const cookie = document.cookie;\r\n    const cookieArr = cookie.split(';');\r\n    if (cookie.indexOf('areaId') < 0) {\r\n      this.setState({\r\n        citysVisible: true\r\n      });\r\n    } else {\r\n      cookieArr.map(_item => {\r\n        if (_item.indexOf('areaName') >= 0) {\r\n          this.setState({\r\n            cityName: decodeURIComponent(_item.substr(_item.indexOf('=') + 1, _item.length))\r\n          });\r\n        } else {\r\n          this.setState({\r\n            cityId: _item.substr(_item.indexOf('=') + 1, _item.length)\r\n          });\r\n        }\r\n      });\r\n    }\r\n    // }\r\n  }\r\n\r\n  logout() {\r\n    const logouts = {\r\n      \"passport\": [\"/service-passport-view/logout\", false],\r\n      \"shop\": [\"/shop-view/logout\", false],\r\n      \"buyer\": [\"/buyer-view/logout\", false],\r\n      \"main\": [\"/website-view/logout\", false]\r\n    }\r\n    onLogout(logouts, \"login\");\r\n  }\r\n\r\n  isInfo() {\r\n    if (window) {\r\n      const href = window.location.href;\r\n      if (href.indexOf('sellerinfo/') >= 0 ||\r\n        href.indexOf('accountmanage/') >= 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isBuyer() {\r\n    if (window) {\r\n      const href = window.location.href;\r\n      if (href.indexOf('buyer.') >= 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    company.isCompanyId();\r\n    return (\r\n      <Row className=\"topTools\">\r\n        <Modal\r\n          visible={this.state.citysVisible}\r\n          title=\"请选择你的收货地区\"\r\n          footer={null}\r\n          closable={false}\r\n        >\r\n          <div className=\"unChooseLocal\">\r\n            <ul>\r\n              {this.renderCity(this.state.citys)}\r\n            </ul>\r\n          </div>\r\n        </Modal>\r\n        <Row className=\"topToolsWidth\">\r\n          <Col span={2}>\r\n            <a href={`http://${this.state.domain}`} className=\"company-a\">\r\n              <Icon\r\n                type=\"new-home\"\r\n                className=\"marginRight5 iconSize\"\r\n              />\r\n              商城首页\r\n            </a>\r\n          </Col>\r\n          <Col span={22}>\r\n            <div className=\"toolsMenu\">\r\n              <ul>\r\n                {/* 登录信息 */}\r\n                {\r\n                  this.state.username ?\r\n                    (<li>\r\n                     <span>\r\n                        HI~\r\n                       <a\r\n                         href={`http://${this.state.buyerDomain}/buyer-view/homepage`}\r\n                         className=\"company-a\"\r\n                       >\r\n                         {this.state.username}\r\n                         </a>\r\n                       {/*  账号管理链接  */}\r\n                       <AccountManagement shopDomain={this.state.shopDomain} buyerDomain={this.state.buyerDomain}/>\r\n                       {/*  公司下拉列表  */}\r\n                       {\r\n                         !this.isInfo() && (\r\n                           this.isBuyer() ?\r\n                             <CompanySelect\r\n                               doma={this.state.domain}\r\n                               buyerDomain={this.state.buyerDomain}\r\n                               shopDomain={this.state.shopDomain}\r\n                             /> :\r\n                             <ShopSelect\r\n                               doma={this.state.domain}\r\n                               shopDomain={this.state.shopDomain}\r\n                             />\r\n                         )\r\n                       }\r\n                       {\r\n                         this.isInfo() &&\r\n                         <AccountMa\r\n                           doma={this.state.domain}\r\n                           buyerDomain={this.state.buyerDomain}\r\n                           shopDomain={this.state.shopDomain}\r\n                         />\r\n                       }\r\n                       <a href=\"javascript:void(0)\" onClick={() => this.logout()}\r\n                          className={styles.textColor777}>【退出】</a>\r\n                     </span>\r\n                    </li>) :\r\n                    (<li>\r\n                      {/* <a href={`http://${this.state.buyerDomain}/service-passport-view/login`}>请登录</a> */}\r\n                      {/* <a href={`http://${this.state.buyerDomain}/service-passport-view/register`}>免费注册</a> */}\r\n                    </li>)\r\n                }\r\n                {/* 购物车 */}\r\n                <li>\r\n                  <a href={`http://${this.state.domain}/website-view/cart`} className=\"company-a\">\r\n                    <Icon type=\"new-cart\" className=\"iconSize\"/>\r\n                    <span className={this.state.shopNum < 1 ? 'f-dn' : 'icon-num'}>\r\n                      {this.state.shopNum > '99' ? '99+' : this.state.shopNum}\r\n                      </span>\r\n                  </a>\r\n                </li>\r\n                {/* 我的订单 */}\r\n                <li>\r\n                  <a href={`http://${this.state.buyerDomain}/order-buyer-view/purchaserback/ordermanagement`}\r\n                     className=\"company-a\">我的订单</a>\r\n                </li>\r\n                {/* 采购商中心 */}\r\n                <li>\r\n                  <a href={`http://${this.state.buyerDomain}/buyer-view/homepage`} className=\"company-a\">采购商中心</a>\r\n                </li>\r\n                {/* 合作招商 */}\r\n                <li>\r\n                  <div className=\"downMenu shop\">\r\n                    <a>\r\n                      合作招商<Icon type=\"down ml5\" className=\"trans180\"/>\r\n                    </a>\r\n                    <ul>\r\n                      <dl>\r\n                        <dt><strong>商家</strong></dt>\r\n                        <dd>\r\n                          <a\r\n                            href={`http://${this.state.buyerDomain}/user-buyer-view/store-manage`}\r\n                            target=\"_blank\">\r\n                            商家中心\r\n                          </a>\r\n                        </dd>\r\n                        <dd>\r\n                          <a href={`http://${this.state.shopDomain}/user-shop-view/sellerinfo/defaultshophome`}\r\n                             target=\"_blank\">\r\n                            商家入驻\r\n                          </a>\r\n                        </dd>\r\n                      </dl>\r\n                      <dl>\r\n                        <dt><strong>自营供应商</strong></dt>\r\n                        <dd>\r\n                          <a\r\n                            href={`http://${this.state.buyerDomain}/user-buyer-view/store-manage`}\r\n                            target=\"_blank\">\r\n                            供应商中心\r\n                          </a>\r\n                        </dd>\r\n                        <dd>\r\n                          <a href={`http://${this.state.shopDomain}/user-shop-view/sellerinfo/defaultsupplyhome`}\r\n                             target=\"_blank\">\r\n                            供应商入驻\r\n                          </a>\r\n                        </dd>\r\n                      </dl>\r\n                    </ul>\r\n                  </div>\r\n                </li>\r\n                {/* 二维码 */}\r\n                <li>\r\n                  <div className=\"downMenu app\">\r\n                    <a>\r\n                      <Icon type=\"new-phone iconSize\"/>\r\n                    </a>\r\n                    <ul>\r\n                      <li>\r\n                        <img src={this.state.weixinCodeUrl} alt=\"微信商城\"/>\r\n                        <p>微信扫一扫</p>\r\n                        <p>关注商城</p>\r\n                        <p>微信商城</p>\r\n                      </li>\r\n                      <li>\r\n                        <img src={this.state.appDownCodeUrl} alt=\"立即下载APP\"/>\r\n                        <p>扫描二维码</p>\r\n                        <p>立即下载APP</p>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </li>\r\n                {/* 消息中心 */}\r\n                <li>\r\n                  <a href={`http://${this.state.shopDomain}/shop-view/message/message-center`}\r\n                     className=\"company-a\">消息</a>\r\n                </li>\r\n                {/* 归属地 */}\r\n                <li>\r\n                  <div className=\"downMenu chooseLocal\" id=\"chooseLocal\">\r\n                    <a href=\"javascript:void(0)\">\r\n                      <Icon\r\n                        type=\"new-gps\"\r\n                        className=\"textColorRed marginRight5 iconSize\"\r\n                      />\r\n                      {this.state.cityName}\r\n                    </a>\r\n                    <ul id=\"citys\">\r\n                      {this.renderCity(this.state.citys)}\r\n                    </ul>\r\n                  </div>\r\n                </li>\r\n                {/* 在线客服 */}\r\n                <li>\r\n                  <a href=\"javascript:void(0)\">\r\n                    <Icon\r\n                      type=\"new-phone2\"\r\n                      className=\"textColorRed marginRight5 iconSize\"\r\n                    />\r\n                    <strong className=\"hotLine\">{this.state.contactInfo}</strong>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Row>\r\n    )\r\n      ;\r\n  }\r\n}"]}