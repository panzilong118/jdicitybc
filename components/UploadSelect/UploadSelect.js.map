{"version":3,"sources":["../../src/components/UploadSelect/UploadSelect.js"],"names":["UploadSelect","props","limitIsOK","that","iframeWrap","images","limit","limit_width","width","limit_height","height","limit_suffix","suffix","limit_size","size","img_width","img_height","img_suffix","type","img_size","parseFloat","toFixed","message","event","msg","contentWindow","postMessage","isSuitable","i","length","toLowerCase","join","onRemove","url","state","imgUrl","setState","undefined","renderChildren","children","renderFooter","showRemoveIcon","showContent","handleCancel","visible","param","multiple","iframeId","Math","random","toString","substr","iframeDomain","iframeUrl","nextProps","getIframeDomain","window","addEventListener","e","data","document","getElementById","JSON","parse","isOK","Array","Object","onChange","wrapClassName","className","style","top","client","ApiClient","get","then","res","code","map","_item","domainType","domain","err","Component"],"mappings":"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","file":"UploadSelect.js","sourcesContent":["/*\r\n*@auth chenyanhua\r\n*/\r\n/*********  基础组件 上传插件  *********/\r\nimport React, { Component } from 'react';\r\nimport { Router, Route, Link } from 'react-router';\r\nimport { Icon, message, Modal, Spin } from 'jdcloudui';\r\nimport ApiClient from '../../apiClient/ApiClient';\r\nimport './style/style.css';\r\n\r\nexport default class UploadSelect extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let param=\"\";\r\n    if(!props.multiple){\r\n      param = \"?single=1\";\r\n    }\r\n    this.state = {\r\n      multiple: props.multiple,\r\n      visible: false,\r\n      iframeId: \"iframe\" + Math.random().toString(36).substr(3),\r\n      iframeDomain: \"\",\r\n      iframeUrl: \"/photo-space-view/html/select.html\"+param,\r\n      imgUrl: props.imgUrl\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      imgUrl: nextProps.imgUrl\r\n    });\r\n  }\r\n  componentWillMount() {\r\n    this.getIframeDomain();\r\n  }\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n    if (window) {\r\n      window.addEventListener(\"message\", (e) => {\r\n        \r\n        var data = e.data;\r\n        let iframeWrap = document.getElementById(that.state.iframeId);\r\n        if (typeof data == \"string\") {\r\n          data = JSON.parse(data.toString());\r\n        }\r\n\r\n        if (data.event == \"close\") {\r\n          that.setState({ visible: false });\r\n        } else if (data.event == \"select-images\") {\r\n\r\n          let isOK=true; //所选图片满足要求\r\n\r\n          if(!data.images || (data.images instanceof Array && data.images.length<=0)){\r\n              isOK=false;\r\n              if(iframeWrap){\r\n                var message = JSON.stringify({ event: \"show-message\", msg: \"请选择图片！\" });\r\n                iframeWrap.contentWindow.postMessage(message, \"*\");\r\n              }\r\n              return false;\r\n            \r\n          } else if(data.images instanceof Array && iframeWrap ){ //如果是多图\r\n            for(let i=0;i<data.images.length;i++){\r\n              isOK = that.limitIsOK(that,iframeWrap,data.images[i], that.props.limit);\r\n              if(!isOK){\r\n                  break;\r\n              }\r\n            }\r\n          } else if (data.images instanceof Object && iframeWrap) { //如果是单图\r\n            isOK = that.limitIsOK(that,iframeWrap,data.images, that.props.limit);\r\n          } \r\n          \r\n          //如果图片满足要求\r\n          if(isOK && iframeWrap){\r\n\r\n            iframeWrap.contentWindow.postMessage(JSON.stringify({ event: \"close\" }), \"*\");\r\n          \r\n            //更新图片\r\n            if(that.props.onChange && typeof that.props.onChange=='function'){\r\n              that.props.onChange(data.images);\r\n            }\r\n            \r\n            //关闭弹窗\r\n            that.setState({\r\n                visible: false\r\n            });\r\n\r\n            if(!that.state.multiple){\r\n                //单图的话，回显图片\r\n                that.setState({\r\n                    imgUrl: data.images.url\r\n                });\r\n            }\r\n\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  limitIsOK = (that,iframeWrap, images, limit) => {\r\n    let limit_width = limit && limit.width || \"auto\";\r\n    let limit_height = limit && limit.height || \"auto\";\r\n    let limit_suffix = limit &&  limit.suffix || [\"jpg\",\"jpeg\",\"png\",\"bmp\",\"gif\"];\r\n    let limit_size = limit && limit.size || 5;\r\n\r\n    let img_width = images.width;\r\n    let img_height = images.height;\r\n    let img_suffix = images.type;\r\n    let img_size = images.size;\r\n    img_size = parseFloat(img_size / (1024 * 1024)).toFixed(2);\r\n\r\n    //限制图片尺寸\r\n    if((typeof limit_width == 'number' && limit_width != img_width) || (typeof limit_height == 'number' && limit_height != img_height)){\r\n      let message = JSON.stringify({ event: \"show-message\", msg: \"请上传图片尺寸为\"+limit_width+\"*\" + limit_height+\"的图片\" });\r\n      iframeWrap.contentWindow.postMessage(message, \"*\");\r\n      return false;\r\n    }\r\n    //限制图片大小\r\n    if(img_size >= limit_size){\r\n      var message = JSON.stringify({ event: \"show-message\", msg: \"图片的大小不能超过\"+limit_size+\"M！\" });\r\n      iframeWrap.contentWindow.postMessage(message, \"*\");\r\n      return false;\r\n    }\r\n\r\n   //限制图片格式\r\n   let isSuitable=false;//格式不符合要求\r\n   for(let i=0;i<limit_suffix.length;i++){\r\n     if(img_suffix.toLowerCase()==limit_suffix[i].toLowerCase()){\r\n       isSuitable = true;\r\n     }\r\n   }\r\n\r\n   if(!isSuitable){\r\n      var message = JSON.stringify({ event: \"show-message\", msg: \"请上传\"+limit_suffix.join(\"/\")+\"格式图片\"});\r\n      iframeWrap.contentWindow.postMessage(message, \"*\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n     let wrapClassName = 'upload-select-wrap ' + this.props.className;\r\n      if(this.state.imgUrl && this.state.imgUrl.length>0){\r\n        wrapClassName+=' solid-border';\r\n      }\r\n    return (\r\n      <div key={this.state.iframeId} className={wrapClassName} style={this.props.style}>\r\n        <div className='upload-select-box'>\r\n          { this.renderChildren() }\r\n          { this.renderFooter() }\r\n        </div>\r\n        <Modal\r\n          visible={this.state.visible}\r\n          title=\"上传\"\r\n          footer={null}\r\n          width={660}\r\n          style={{ top: 20 }}\r\n          onCancel={this.handleCancel}\r\n          wrapClassName='upload-select-iframe'\r\n        >\r\n          {\r\n            this.state.visible ?\r\n              <iframe id={this.state.iframeId}\r\n                src={this.state.iframeDomain + this.state.iframeUrl}\r\n                frameborder=\"0\" >\r\n              </iframe> : <Spin />\r\n          }\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //移除\r\n  onRemove = ()=>{\r\n    //更新图片\r\n    if(this.props.onRemove && typeof this.props.onRemove=='function'){\r\n      this.props.onRemove({url: this.state.imgUrl});\r\n    }\r\n    this.setState({\r\n      imgUrl:undefined\r\n    });\r\n  }\r\n\r\n  renderChildren = ()=>{\r\n    if(this.props.children){\r\n      return this.props.children;\r\n    } else if(this.state.imgUrl && this.state.imgUrl.length > 0){\r\n      return <img src={this.state.imgUrl} alt=\"\" />;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  renderFooter = ()=>{\r\n    if(this.state.imgUrl && this.state.imgUrl.length>0){ //重新上传\r\n      if(this.props.showRemoveIcon){\r\n        return <div className='upload-select-footer'>\r\n                  <div className=\"upload-select-btn\" onClick={this.showContent}>重新上传</div>\r\n                  <div className='upload-select-removebtn' onClick={this.onRemove}>删除</div>\r\n               </div>;\r\n      }else{\r\n        return <div className='upload-select-footer'>\r\n                  <div className=\"upload-select-btn\" onClick={this.showContent}>重新上传</div>\r\n               </div>;\r\n      }\r\n    } else {\r\n      return  <div className='upload-select-defaultbtn' onClick={this.showContent}>\r\n              <Icon type=\"plus\" className='upload-plus'  /> <br/>上传图片\r\n              </div>;\r\n    }\r\n  }\r\n\r\n  //弹窗右上部关闭按钮\r\n  handleCancel = () => {\r\n    this.setState({ visible: false });\r\n  }\r\n\r\n  //获取域名\r\n  getIframeDomain() {\r\n    var client = new ApiClient(null, null, null, true);\r\n    client.get('/passport/logout')\r\n      .then(\r\n      (res) => {\r\n        if (res.code == 0 && res.data) {\r\n          res.data.map(_item => {\r\n            if (_item.domainType == 12) {\r\n              let iframeDomain = `//${_item.domain}`;\r\n              this.setState({ iframeDomain: iframeDomain });\r\n            }\r\n          });\r\n        }\r\n      },\r\n      (err) => {\r\n      }\r\n      );\r\n  }\r\n\r\n  //打开弹窗\r\n  showContent = () => {\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  }\r\n}\r\n"]}