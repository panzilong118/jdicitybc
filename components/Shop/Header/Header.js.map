{"version":3,"sources":["../../../src/components/Shop/Header/Header.js"],"names":["Header","props","context","state","mainDomain","getMainDomainForLogo","client","ApiClient","get","then","res","code","data","map","_item","domainType","domain","setState","err","name","document","cookies","cookie","split","c","i","length","replace","shopType","getCookieByArray","titleName","menus","selectKey","horizontal","menu","id","href","target","logo","String","lineHeight","float","Component"],"mappings":"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","file":"Header.js","sourcesContent":["import React, {Component} from 'react';\r\nimport { Badge,Icon,Menu,Dropdown } from 'jdcloudui';\r\nimport {Link} from 'react-router';\r\nimport './style/templateHader.css';\r\nimport logo from './style/logo.png';\r\nimport ApiClient from '../../../apiClient/ApiClient';\r\nexport default class Header extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      mainDomain: '/',\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.getMainDomainForLogo();\r\n  }\r\n\r\n  // 获取域名\r\n  getMainDomainForLogo() {\r\n    var client = new ApiClient();\r\n    client.get('/passport/logout')\r\n      .then(\r\n        (res) => {\r\n          if(res.code == 0 && res.data) {\r\n            res.data.map(_item => {\r\n              if (_item.domainType == 1) {\r\n                let mainDomain = `//${_item.domain}`;\r\n                this.setState({mainDomain: mainDomain});\r\n              }\r\n            });\r\n          }\r\n        },\r\n        (err) => {\r\n        }\r\n      );\r\n  }\r\n\r\n  // 根据name获取cookie值\r\n  getCookieByArray(name){\r\n    if(typeof document !== 'undefined'){\r\n      var cookies = document.cookie.split(';');\r\n      var c;\r\n      for(var i=0; i<cookies.length ; i++){\r\n        c = cookies[i].split('=');\r\n        if (c[0].replace(' ', '') == name) {\r\n          return c[1];\r\n        }\r\n      }\r\n    }else{\r\n      return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const shopType = this.getCookieByArray('shopType');\r\n    let titleName = '';\r\n    if (shopType) {\r\n      titleName = shopType==1 ? '供应商中心' : '商家中心';\r\n    }\r\n    const {menus,selectKey} = this.props;\r\n    const horizontal = menus.map((menu)=>{\r\n      return <Menu.Item key={menu.id} ><a href={menu.href} target={menu.target}>{menu.name}</a></Menu.Item>;\r\n    });\r\n    return (\r\n      <div className=\"shop-framework-header\">\r\n        <div className=\"shop-framework-container\">\r\n          <ul>\r\n            <li><a className=\"shop-framework-logo\" href={this.state.mainDomain} target=\"_blank\">{this.props.logo?<img src={this.props.logo} />:''}</a></li>\r\n            <li><span className=\"shop-framework-title\" >{titleName}</span></li>\r\n          </ul>\r\n          <Menu\r\n            theme=\"light\"\r\n            mode=\"horizontal\"\r\n            selectedKeys={[String(selectKey)]}\r\n            style={{ lineHeight: '62px', float: 'right'}}\r\n          >\r\n            {horizontal}\r\n          </Menu>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}"]}