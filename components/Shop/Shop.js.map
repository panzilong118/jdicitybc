{"version":3,"sources":["../../src/components/Shop/Shop.js"],"names":["moment","locale","ms","id","name","href","target","children","icon","Shop","props","context","state","menus","logo","buyerDomain","resource","client","ApiClient","get","then","res","code","data","map","_item","domainType","domain","result","reformData","setState","err","document","cookies","cookie","split","c","i","length","replace","form","params","shopType","getCookieByArray","ia","tmp","reformUnit","push","unit","url","indexOf","ib","userLogo","getBuyerDomainForSubcount","shopMenuSearch","getWebsiteConfig","minHeight","window","body","clientHeight","location","referer","referrer","o","menu","getHref","horizontalMenu","rest","substring","finalLocation","String","path","subMenu","hKey","vKey","vName","openKey","urlMatch","tmpOpenKey","q","j","vMenu","n","sMenu","menuUrl","route","verticalMenu","zh_CN","Component","propTypes","PropTypes","object","isRequired"],"mappings":"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","file":"Shop.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from 'react-router';\t//链接跳转，相当于a标签\r\nimport ShopHeader from './Header/Header';\r\nimport ShopSider from './Sider/Sider';\r\nimport TopTools from '../TopTools/TopTools';\r\nimport Helmet from 'react-helmet';\r\nimport ApiClient from '../../apiClient/ApiClient';\r\nimport './style/shop.css';\r\n\r\n// 国际化中文\r\nimport { LocaleProvider } from 'jdcloudui';\r\nimport zh_CN from 'jdcloudui/lib/locale-provider/zh_CN';\r\nimport moment from 'moment';\r\nmoment.locale('zh-cn');\r\n\r\nconst ms = [\r\n    {\r\n      id:1,\r\n      name:\"首页\",\r\n      href: \"http://shop.hnc.jcloudec.com/shop-view/home\",\r\n      target:\"_self\",\r\n      children:[\r\n        {\r\n          id:11,\r\n          name:\"商品管理\",\r\n          icon:\"cgs\",\r\n          children:[\r\n            {\r\n              id:111,\r\n              name:\"经营类目\",\r\n              href:\"http://shop.hnc.jcloudec.com/item-shop-view/goods-manage/category\",\r\n              target:\"_self\"\r\n            },\r\n            {\r\n              id:112,\r\n              name:\"经营品牌\",\r\n              href:\"http://shop.hnc.jcloudec.com/item-shop-view/goods-manage/brand\",\r\n              target:\"_self\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          id:12,\r\n          name:\"商品发布\",\r\n          icon:\"cgs\",\r\n          children:[\r\n            {\r\n              id:121,\r\n              name:\"选择供货商品\",\r\n              href:\"http://shop.hnc.jcloudec.com/item-shop-view/selectgoods\",\r\n              target:\"_self\"\r\n            },\r\n            {\r\n              id:122,\r\n              name:\"商品信息管理\",\r\n              href:\"http://shop.hnc.jcloudec.com/item-shop-view/iteminfo\",\r\n              target:\"_self\"\r\n            },\r\n            {\r\n              id:123,\r\n              name:\"提交新商品\",\r\n              href:\"http://shop.hnc.jcloudec.com/item-shop-view/goods-release\",\r\n              target:\"_self\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          id:13,\r\n          name:\"物流服务\",\r\n          icon:\"cgs\",\r\n          children:[\r\n            {\r\n              id:131,\r\n              name:\"地址管理\",\r\n              href:\"http://shop.hnc.jcloudec.com/user-shop-view/supplier/address\",\r\n              target:\"_self\"\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id:2,\r\n      name:\"账号管理\",\r\n      children:[\r\n        {\r\n          id:21,\r\n          name:\"账号管理\",\r\n          icon:\"cgs\",\r\n          children:[\r\n            {\r\n              id:211,\r\n              name:\"账号信息\",\r\n              href:\"http://shop.hnc.jcloudec.com/user-shop-view/accountmanage/accountInfo\",\r\n              target:\"_self\"\r\n            },\r\n            {\r\n              id:212,\r\n              name:\"账号安全\",\r\n              href:\"http://shop.hnc.jcloudec.com/user-shop-view/accountmanage/accountSecurity\",\r\n              target:\"_self\"\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id:3,\r\n      name:\"订单管理\",\r\n      children:[\r\n        {\r\n          id:31,\r\n          name:\"订单管理\",\r\n          icon:\"xx\",\r\n          children:[\r\n            {\r\n              id:311,\r\n              name:\"订单管理\",\r\n              href:\"http://shop.hnc.jcloudec.com/order-shop-view/order/list\",\r\n              target:\"_self\"\r\n            },\r\n            {\r\n              id:312,\r\n              name:\"销售区域设置\",\r\n              href:\"http://shop.hnc.jcloudec.com/order-shop-view/salearea\",\r\n              target:\"_self\"\r\n            },\r\n            {\r\n              id:313,\r\n              name:\"换货订单\",\r\n              href:\"http://shop.hnc.jcloudec.com/customer-service-shop-view/exchange/grid\",\r\n              target:\"_self\"\r\n            },\r\n            {\r\n              id:314,\r\n              name:\"退换货记录\",\r\n              href:\"http://shop.hnc.jcloudec.com/customer-service-shop-view/returnexchangerecord/grid\",\r\n              target:\"_self\"\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n  {\r\n    id:5,\r\n    name:\"财务管理\",\r\n    children:[\r\n      {\r\n        id:51,\r\n        name:\"会员资金账户\",\r\n        href:\"http://shop.hnc.jcloudec.com/finance-shop-view/memberFinanceAccount\",\r\n        target:\"_self\"\r\n      },\r\n      {\r\n        id:52,\r\n        name:\"结算管理\",\r\n        href:\"http://shop.hnc.jcloudec.com/finance-shop-view/settlement/grid\",\r\n        target:\"_self\"\r\n      }\r\n    ]\r\n  },\r\n]\r\nexport default class Shop extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.object.isRequired\r\n  };\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state={\r\n      menus:[],\r\n      icon:\"\",\r\n      logo:''\r\n    }\r\n    this.buyerDomain='/';\r\n    this.resource={};\r\n  }\r\n\r\n  //获取买家域名\r\n  getBuyerDomainForSubcount() {\r\n    var client = new ApiClient();\r\n    client.get('/passport/logout')\r\n      .then(\r\n        (res) => {\r\n          if(res.code == 0 && res.data) {\r\n            res.data.map(_item => {\r\n              if (_item.domainType == 2) {\r\n                this.buyerDomain = _item.domain;\r\n                let result = this.reformData(this.resource);\r\n                this.setState({\r\n                  menus: result,\r\n                })\r\n              }\r\n            });\r\n          }\r\n        },\r\n        (err) => {\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n  // 根据name获取cookie值\r\n  getCookieByArray(name){\r\n    if(typeof document !== 'undefined'){\r\n      var cookies = document.cookie.split(';');\r\n      var c;\r\n      for(var i=0; i<cookies.length ; i++){\r\n        c = cookies[i].split('=');\r\n        if (c[0].replace(' ', '') == name) {\r\n          return c[1];\r\n        }\r\n      }\r\n    }else{\r\n      return null;\r\n    }\r\n  }\r\n  //------------------动态获取菜单begin-------------------------------------\r\n  shopMenuSearch(){\r\n    var client = new ApiClient();\r\n    let form = null;\r\n    client.get('/authority-service/mall/resource/queryResourceMenuBySellerId',{params:{shopType:this.getCookieByArray('shopType')?this.getCookieByArray('shopType'):''}})\r\n      .then(\r\n        (res) => {\r\n          if(res.code==0 && res.data){\r\n            this.resource = res.data;\r\n            let result = this.reformData(res.data);\r\n            this.setState({\r\n              menus: result,\r\n            })\r\n          }\r\n        },\r\n        (err) => {\r\n\r\n        }\r\n      )\r\n  }\r\n\r\n  reformData(data) {\r\n    let result = [];\r\n    if(data && data.length){\r\n      for(let ia=0;ia<data.length;++ia){\r\n        let tmp = this.reformUnit(data[ia])\r\n        if(tmp){\r\n          result.push(tmp);\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  reformUnit(data){\r\n    let unit = {id:'',name:'',href:'',target:'',children:[]};\r\n    unit.id = data.id+'';\r\n    unit.name = data.name;\r\n    if(data.name=='子账号管理' && data.url && data.url.indexOf('buyer.')==-1){\r\n      unit.href = '//'+this.buyerDomain + data.url;\r\n      unit.target = '_blank'\r\n    }else{\r\n      unit.href = data.url;\r\n      unit.target = data.target?data.target:'_self';\r\n    }\r\n    unit.icon = data.icon;\r\n    if(data && data.url && data.url=='/subaccount-buyer-view/subaccountmanage'){\r\n      if(data && data.children && data.children.length>0) {\r\n        if(this.buyerDomain=='/'){\r\n          return false;\r\n        }else{\r\n          unit.href = '//'+this.buyerDomain + data.children[0].url\r\n        }\r\n      }\r\n      unit.target = '_blank'\r\n      delete unit['children'];\r\n      return unit;\r\n    }\r\n    if(data && data.children && data.children.length > 0){\r\n      for(let ib=0;ib<data.children.length;++ib){\r\n        let tmp = this.reformUnit(data.children[ib]);\r\n        if(tmp){\r\n          unit.children.push(tmp)\r\n        }\r\n      }\r\n    }else{\r\n      delete unit['children'];\r\n    }\r\n    return unit;\r\n  }\r\n  //------------------动态获取菜单end-------------------------------------\r\n  //------------------获取ICON--------------------------------------------\r\n  getWebsiteConfig() {\r\n    var client = new ApiClient();\r\n    client.get('/platform-service/mallInfo/getMallInfo')\r\n      .then(\r\n        (res) => {\r\n          if(res.code==0 && res.data){\r\n            this.setState({icon:res.data.icon,logo:res.data.userLogo})\r\n          }\r\n        },\r\n        (err) => {\r\n\r\n        }\r\n      )\r\n  }\r\n  //----------------------------------------------------------------------\r\n  componentWillMount() {\r\n    this.getBuyerDomainForSubcount();\r\n    this.shopMenuSearch();\r\n    this.getWebsiteConfig();\r\n    this.minHeight = typeof window !== 'undefined' ? document.body.clientHeight-64 : 580;\r\n    this.location = typeof window !== 'undefined' ? window.location.href : \"\";\r\n    this.referer = typeof document !== 'undefined' ? document.referrer : \"\";\r\n  }\r\n  getHref(o) {\r\n    if(o && o.length){\r\n      for(var i = 0; i < o.length; i++) {\r\n        var menu = o[i];\r\n        if(menu.href&&menu.href!=\"\") {\r\n          return menu.href;\r\n        }else if(menu.children&&menu.children.length){\r\n          return this.getHref(menu.children)\r\n        }else{\r\n          return \"\";\r\n        }\r\n      }\r\n    }else{\r\n      return \"\";\r\n    }\r\n  }\r\n  horizontalMenu(o) {\r\n    const horizontalMenu=[];\r\n    if(o && o.length && o.length > 0){\r\n      o.map((menu)=>{\r\n        const {children,...rest} = menu;\r\n        rest.href = rest.href&&rest.href!=\"\"?rest.href:this.getHref(children);\r\n        horizontalMenu.push(rest);\r\n      });\r\n    }\r\n    return horizontalMenu;\r\n  }\r\n\r\n  urlMatch(location,href){\r\n    //href:       接口返回的全路径\r\n    //location:   menuUrl\r\n    //menuUrl优先匹配\r\n    if(location!='' && href && href!=''){\r\n      if(href.indexOf('//')>0){\r\n        if(location == href.substring(href.replace('//','~%').indexOf('/'))){\r\n          return true;\r\n        }\r\n      }else{\r\n        if(location == href){\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    let finalLocation= '';\r\n    if(location){\r\n      let result = String(location).split('.com');\r\n      if(result && result.length && result[1]){\r\n        let path = result[1];\r\n        let tmp = path.split('?');\r\n        if(tmp && tmp[0]){\r\n          finalLocation = tmp[0];\r\n          if(finalLocation==href){\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  verticalMenu(o, location) {\r\n    var subMenu = [];\r\n    var hKey = 0;\r\n    var vKey = 0;\r\n    var vName = \"\";\r\n    var openKey = [];\r\n    if(o && o.length && o.length > 0){\r\n      for (var i = 0; i < o.length; i++) {\r\n        var menu = o[i];\r\n        if (menu.href && menu.href != \"\" && this.urlMatch(location,menu.href)) {\r\n          subMenu = menu.children;\r\n          hKey = menu.id;\r\n          let tmpOpenKey=[];\r\n          for(let q in menu.children){\r\n            tmpOpenKey.push(menu.children[q].id+'');\r\n          }\r\n          openKey=tmpOpenKey;\r\n        } else if (menu.children && menu.children.length) {\r\n          for (var j = 0; j < menu.children.length; j++) {\r\n            var vMenu = menu.children[j];\r\n            if (vMenu.href && vMenu.href != \"\" && this.urlMatch(location,vMenu.href)) {\r\n              subMenu = menu.children;\r\n              hKey = menu.id;\r\n              vKey = vMenu.id;\r\n              vName = vMenu.name;\r\n            } else if (vMenu.children && vMenu.children.length) {\r\n              for (var n = 0; n < vMenu.children.length; n++) {\r\n                var sMenu = vMenu.children[n];\r\n                if (sMenu.href && sMenu.href != \"\" && this.urlMatch(location,sMenu.href)) {\r\n                  subMenu = menu.children;\r\n                  hKey = menu.id;\r\n                  vKey = sMenu.id;\r\n                  vName = sMenu.name;\r\n                  openKey.push(vMenu.id);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return {subMenu, hKey, openKey, vKey,vName}\r\n  }\r\n  /*verticalMenu(o,location) {\r\n    var subMenu = [];\r\n    var hKey = 0;\r\n    var vKey = 0;\r\n    var openKey = 0;\r\n    for(var i = 0; i < o.length; i++) {\r\n      var menu = o[i];\r\n      if(menu.href&&menu.href!=\"\"&&location.indexOf(menu.href)!=-1) {\r\n        subMenu=[];\r\n        hKey = menu.id;\r\n      }else if(menu.children&&menu.children.length){\r\n        for(var j = 0; j < menu.children.length; j++) {\r\n          var vMenu = menu.children[j];\r\n          if(vMenu.href&&vMenu.href!=\"\"&&location.indexOf(vMenu.href)!=-1) {\r\n            subMenu = menu.children;\r\n            hKey = menu.id;\r\n          }else if(vMenu.children&&vMenu.children.length) {\r\n            for(var n = 0; n < vMenu.children.length; n++) {\r\n              var sMenu = vMenu.children[n];\r\n              if(sMenu.href&&sMenu.href!=\"\"&&location.indexOf(sMenu.href)!=-1) {\r\n                subMenu = menu.children;\r\n                hKey = menu.id;\r\n                vKey = sMenu.id;\r\n                openKey=vMenu.id;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return {subMenu,hKey,openKey,vKey}\r\n  }*/\r\n  render() {\r\n    const {menus=ms} = this.props;\r\n    const horizontalMenu = this.horizontalMenu(this.state.menus);\r\n      let menuUrl =\r\n          this.props.menuUrl || (\r\n              this.props.children &&\r\n              this.props.children.props &&\r\n              this.props.children.props.route &&\r\n              this.props.children.props.route.menuUrl\r\n          );\r\n    let verticalMenu = { subMenu:[], hKey:'0', openKey:'0', vKey:[],} ;\r\n    if(menuUrl){\r\n      verticalMenu = this.verticalMenu(this.state.menus, menuUrl);\r\n    }else{\r\n      verticalMenu = this.verticalMenu(this.state.menus, this.location);\r\n    }\r\n    if(verticalMenu.subMenu && verticalMenu.subMenu.length && verticalMenu.subMenu.length == 0) {\r\n       verticalMenu =  this.verticalMenu(this.state.menus, this.referer||\"\");\r\n    }\r\n    const {hKey,vName,...rest} = verticalMenu;\r\n    return (\r\n      <LocaleProvider locale={zh_CN}>\r\n        <div>\r\n          <Helmet>\r\n              <title>{vName}</title>\r\n              <link rel=\"icon\" href={this.state.icon} mce_href={this.state.icon} type=\"image/x-icon\" />\r\n          </Helmet>\r\n          <TopTools />\r\n          <ShopHeader menus={horizontalMenu} selectKey = {hKey} logo = {this.state.logo}/>\r\n          <div className=\"shop-framework-body-container\">\r\n            <div className='shop-framework-body-container-left'>\r\n              <ShopSider {...rest} />\r\n            </div>\r\n            <div className='shop-framework-body-container-right' style={{ minHeight:this.minHeight+\"px\"}}>\r\n              {this.props.children}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </LocaleProvider>\r\n    )\r\n  }\r\n}"]}