{"version":3,"sources":["../../../src/components/CreatePage/Grid/Grid.js"],"names":["Grid","props","createColumns","columns","result","i","length","temp","title","key","dataIndex","render","sorter","sort","err","Error","push","createPagination","page","current","dataSource","pageNum","total","totalCount","showQuickJumper","pageSize","onChange","bind","pagination","search","params","onChangeSearch","onSubmit","rowSelection","rowKey","options","map","item","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;;;IAEqBA,I;;;AACjB,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA,sIACTA,KADS;;AAAA,cAInBC,aAJmB,GAIH,UAACC,OAAD,EAAa;AACzB,gBAAMC,SAAS,EAAf;AACA,iBAAI,IAAIC,IAAI,CAAZ,EAAgBA,IAAI,CAACF,WAAW,EAAZ,EAAgBG,MAApC,EAA6CD,GAA7C,EAAiD;AAC7C,oBAAIE,OAAO,EAAX;AACA,oBAAG;AACCA,yBAAKC,KAAL,GAAaL,QAAQE,CAAR,EAAWG,KAAxB;AACAD,yBAAKE,GAAL,GAAWN,QAAQE,CAAR,EAAWI,GAAtB;AACAF,yBAAKG,SAAL,GAAiBP,QAAQE,CAAR,EAAWK,SAA5B;AACAH,yBAAKI,MAAL,GAAcR,QAAQE,CAAR,EAAWM,MAAzB;AACAJ,yBAAKK,MAAL,GAAcT,QAAQE,CAAR,EAAWQ,IAAX,IAAmB,IAAjC;AACH,iBAND,CAMC,OAAMC,GAAN,EAAU;AACP,0BAAM,IAAIC,KAAJ,CAAU,MAAV,CAAN;AACH;AACDX,uBAAOY,IAAP,CAAYT,IAAZ;AACH;AACD,mBAAOH,MAAP;AACH,SApBkB;;AAAA,cAsBnBa,gBAtBmB,GAsBA,UAACC,IAAD,EAAU;AACzB,gBAAG,CAACA,IAAJ,EAAU,OAAO,KAAP;AACV,gBAAIC,UAAU,MAAKlB,KAAL,CAAWmB,UAAX,IAAyB,MAAKnB,KAAL,CAAWmB,UAAX,CAAsBC,OAA7D;AACA,gBAAIC,QAAQ,MAAKrB,KAAL,CAAWmB,UAAX,IAAyB,MAAKnB,KAAL,CAAWmB,UAAX,CAAsBG,UAA3D;AACA,mBAAO;AACHJ,yBAASA,OADN;AAEHG,uBAAOA,KAFJ;AAGHE,iCAAiB,IAHd;AAIHC,0BAAU,EAJP;AAKHC,0BAAU,MAAKA,QAAL,CAAcC,IAAd;AALP,aAAP;AAOH,SAjCkB;;AAAA,cAmCnBD,QAnCmB,GAmCR,UAACE,UAAD,EAAgB;AAAA,gBAChBC,MADgB,GACN,MAAK5B,KADC,CAChB4B,MADgB;;AAEvB,gBAAMC,oCACCD,MADD;AAEFR,yBAASO;AAFP,cAAN;AAIA,mBAAO,MAAK3B,KAAL,CAAW8B,cAAlB,KAAqC,UAArC,IAAmD,MAAK9B,KAAL,CAAW8B,cAAX,CAA0BD,MAA1B,CAAnD;AACA,kBAAK7B,KAAL,CAAW+B,QAAX,CAAoBF,MAApB;AACH,SA3CkB;;AAAA;AAElB;AACD;;AAkBA;;AAaA;;;;;iCAUS;AAAA,yBAC8D,KAAK7B,KADnE;AAAA,gBACEE,OADF,UACEA,OADF;AAAA,gBACWiB,UADX,UACWA,UADX;AAAA,gBACuBF,IADvB,UACuBA,IADvB;AAAA,gBAC6Be,YAD7B,UAC6BA,YAD7B;AAAA,gBAC2CC,MAD3C,UAC2CA,MAD3C;AAAA,gBACmDC,OADnD,UACmDA,OADnD;;AAEL,mBACI;AAAA;AAAA;AACKA,2BAAWA,QAAQ7B,MAAnB,IACG;AAAA;AAAA,sBAAK,WAAU,WAAf;AACK6B,4BAAQC,GAAR,CAAY,UAACC,IAAD,EAAU;AACnB,+BAAOA,IAAP;AACH,qBAFA;AADL,iBAFR;AAQI;AACI,6BAAS,KAAKnC,aAAL,CAAmBC,OAAnB,CADb;AAEI,gCAAYiB,cAAcA,WAAWhB,MAFzC;AAGI,gCAAY,KAAKa,gBAAL,CAAsBC,IAAtB,CAHhB;AAII,kCAAce,gBAAgB,IAJlC;AAKI,4BAAQC,UAAU;AALtB;AARJ,aADJ;AAkBH;;;EAjE6BI,gB;;kBAAbtC,I","file":"Grid.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {Table, message} from 'jdcloudui';\r\nimport './style.css';\r\n\r\nexport default class Grid extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    //创建Clums\r\n    createColumns = (columns) => {\r\n        const result = [];\r\n        for(let i = 0 ; i < (columns || []).length ; i++){\r\n            let temp = {};\r\n            try{\r\n                temp.title = columns[i].title;\r\n                temp.key = columns[i].key;\r\n                temp.dataIndex = columns[i].dataIndex;\r\n                temp.render = columns[i].render;\r\n                temp.sorter = columns[i].sort || null;\r\n            }catch(err){\r\n                throw new Error('参数错误');\r\n            }\r\n            result.push(temp);\r\n        }\r\n        return result;\r\n    }\r\n    //创建分页\r\n    createPagination = (page) => {\r\n        if(!page) return false;\r\n        let current = this.props.dataSource && this.props.dataSource.pageNum;\r\n        let total = this.props.dataSource && this.props.dataSource.totalCount;\r\n        return {\r\n            current: current,\r\n            total: total,\r\n            showQuickJumper: true,\r\n            pageSize: 10,\r\n            onChange: this.onChange.bind(this)\r\n        };\r\n    }\r\n    //分页的change方法\r\n    onChange = (pagination) => {\r\n        const {search} = this.props;\r\n        const params = {\r\n            ...search,\r\n            pageNum: pagination,\r\n        }\r\n        typeof this.props.onChangeSearch === \"function\" && this.props.onChangeSearch(params);\r\n        this.props.onSubmit(params);\r\n    }\r\n    render() {\r\n        const {columns, dataSource, page, rowSelection, rowKey, options} = this.props;\r\n        return (\r\n            <div>\r\n                {options && options.length &&\r\n                    <div className=\"buttonBox\">\r\n                        {options.map((item) => {\r\n                            return item;\r\n                        })}\r\n                    </div>\r\n                }\r\n                <Table\r\n                    columns={this.createColumns(columns)}\r\n                    dataSource={dataSource && dataSource.result}\r\n                    pagination={this.createPagination(page)}\r\n                    rowSelection={rowSelection || null}\r\n                    rowKey={rowKey || 'key'}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}"]}