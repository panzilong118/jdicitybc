{"version":3,"sources":["../../../src/components/TopTools/ShoppingCart/ShoppingCart.js"],"names":["ShoppingCart","getShoppingCartCount","getShoppingCartCountAction","dispatch","props","state","cartCount","then","rs","code","setState","data","defaultDomain","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAAA;;;;;;AAMA;;AAKA;;;;;AAJA;;;;AAEA;;AACA;;AAEA;;;;;;AACA;IAKqBA,Y,WAJpB,yBACC;AAAA,SAAUC,4BAAV;AAAA,CADD,EAEC;AAAA,SAAY,+BAAmB,EAACC,0EAAD,EAAnB,EAAiDC,QAAjD,CAAZ;AAAA,CAFD,C;;;AAKC,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,kJACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,iBAAW;AADA,KAAb;AAFiB;AAKlB;;AAED;;;;;;;yCAGqB;AAAA;;AACnB,WAAKF,KAAL,CAAWF,0BAAX,GAAwCK,IAAxC,CAA6C,cAAM;AACjD,YAAIC,GAAGC,IAAH,IAAW,CAAf,EAAiB;AACjB,eAAKC,QAAL,CAAc,EAACJ,WAAWE,GAAGG,IAAf,EAAd;AACD,OAHD;AAID;;;6BAEQ;AACP,aACE;AAAA;AAAA,UAAG,aAAW,KAAKP,KAAL,CAAWQ,aAAtB,uBAAH,EAA4D,WAAU,eAAtE;AACE,wDAAM,MAAK,eAAX,EAA2B,WAAU,sBAArC,GADF;AAGI,aAAKP,KAAL,CAAWC,SAAX,GAAuB,CAAvB,IACE;AAAA;AAAA,YAAM,WAAU,OAAhB;AAAyB,eAAKD,KAAL,CAAWC,SAAX,GAAuB,IAAvB,GAA8B,IAA9B,GAAqC,KAAKD,KAAL,CAAWC;AAAzE;AAJN,OADF;AAUD;;;EA7BuCO,gB;kBAArBb,Y","file":"ShoppingCart.js","sourcesContent":["/* *************************\r\n * @author: FengYan\r\n * @update: 20180206\r\n * @description:进货车\r\n * ************************/\r\n\r\n/* ***********  基础组件  ************ */\r\nimport React, {Component} from 'react';\r\nimport {Icon} from 'jdcloudui';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\n/* ***********  自定义组件  ************ */\r\nimport getShoppingCartCount, {getShoppingCartCountAction} from './shoppingCart_redux';\r\n/* ***********  redux  ************ */\r\n@connect(\r\n  state => (getShoppingCartCount),\r\n  dispatch => bindActionCreators({getShoppingCartCountAction}, dispatch)\r\n)\r\nexport default class ShoppingCart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      cartCount: 0\r\n    };\r\n  }\r\n\r\n  /*\r\n   * 发送获取购物车数据请求\r\n   * */\r\n  componentWillMount() {\r\n    this.props.getShoppingCartCountAction().then(rs => {\r\n      if (rs.code != 0)return;\r\n      this.setState({cartCount: rs.data});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <a href={`//${this.props.defaultDomain}/website-view/cart`} className=\"signName f-pr\">\r\n        <Icon type=\"shopping-cart\" className=\"f-fs18 shopping-cart\"/>\r\n        {\r\n          this.state.cartCount > 0 && (\r\n            <span className=\"badge\">{this.state.cartCount > '99' ? '99' : this.state.cartCount}</span>\r\n          )\r\n        }\r\n      </a>\r\n    );\r\n  }\r\n}"]}