{"version":3,"sources":["../../src/components/Buyer/Buyer.js"],"names":["moment","locale","ms","id","name","href","target","children","icon","Buyer","props","context","state","menus","logo","client","ApiClient","form","url","menuType","route","get","params","then","res","code","data","tmp","result","reformData","setState","err","length","ia","push","reformUnit","unit","ib","buyerMenuSearch","getWebsiteConfig","minHeight","window","document","body","clientHeight","location","referer","referrer","userLogo","o","i","menu","getHref","horizontalMenu","map","rest","indexOf","substring","replace","finalLocation","String","split","path","subMenu","hKey","vKey","openKey","vName","urlMatch","tmpOpenKey","q","j","vMenu","n","sMenu","menuUrl","siderNoRequest","titleName","noFirstLevelMenu","headerClassName","verticalMenu","zh_CN","typeKey","Component","propTypes","PropTypes","object","isRequired"],"mappings":"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","file":"Buyer.js","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from 'react-router';\t//链接跳转，相当于a标签\r\nimport BuyerHeader from './Header/Header';\r\nimport BuyerSider from './Sider/Sider';\r\nimport './style/buyer.css';\r\nimport TopTools from '../TopTools/TopTools';\r\nimport ApiClient from '../../apiClient/ApiClient';\r\nimport Helmet from 'react-helmet';\r\n\r\n// 国际化中文\r\nimport { LocaleProvider } from 'jdcloudui';\r\nimport zh_CN from 'jdcloudui/lib/locale-provider/zh_CN';\r\nimport moment from 'moment';\r\nmoment.locale('zh-cn');\r\n\r\nconst ms = [\r\n    {\r\n        id: 1,\r\n        name: \"首页\",\r\n        href: \"http://buyer.hnc.jcloudec.com/buyer-view/homepage\",\r\n        target: \"_self\"\r\n    },\r\n    {\r\n        id: 2,\r\n        name: \"账号管理\",\r\n        children: [\r\n            {\r\n                id: 21,\r\n                name: \"账号管理\",\r\n                icon: \"cgs\",\r\n                children: [\r\n                    {\r\n                        id: 211,\r\n                        name: \"账号信息\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/user-buyer-view/accountmanage/accountInfo\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 212,\r\n                        name: \"账号安全\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/user-buyer-view/accountmanage/accountSecurity\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 213,\r\n                        name: \"账号绑定\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/user-buyer-view/accountmanage/bindingThirdPartyAccount\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 214,\r\n                        name: \"收货地址\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/user-buyer-view/buyer/address\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 215,\r\n                        name: \"我的级别\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/member-buyer-view/mylevel\",\r\n                        target: \"_self\"\r\n                    }, {\r\n                        id: 216,\r\n                        name: \"我的积分\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/member-buyer-view/memberintegral\",\r\n                        target: \"_self\"\r\n                    }, {\r\n                        id: 217,\r\n                        name: \"子账号管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/subaccount-buyer-view/subaccountmanage\",\r\n                        target: \"_self\"\r\n                    }, {\r\n                        id: 218,\r\n                        name: \"角色管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/subaccount-buyer-view/rolemanage\",\r\n                        target: \"_self\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        id: 3,\r\n        name: \"订单管理\",\r\n        children: [\r\n            {\r\n                id: 31,\r\n                name: \"订单管理\",\r\n                icon: \"xx\",\r\n                children: [\r\n                    {\r\n                        id: 311,\r\n                        name: \"订单管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/order-buyer-view/purchaserback/ordermanagement\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 315,\r\n                        name: \"询价单管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/order-buyer-view/inquirysheet-manage/grid\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 312,\r\n                        name: \"报价单管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/order-buyer-view/quotation-manage/quotation-list\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 313,\r\n                        name: \"退款/售后管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/customer-service-buyer-view/refund/grid\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 314,\r\n                        name: \"评价管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/remark-buyer-view/evaluation\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 316,\r\n                        name: \"商品确认管理\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/order-buyer-view/share-order/list\",\r\n                        target: \"_self\"\r\n                    },\r\n                    {\r\n                        id: 317,\r\n                        name: \"商品确认\",\r\n                        href: \"http://buyer.hnc.jcloudec.com/order-buyer-view/shared-order/list\",\r\n                        target: \"_self\"\r\n                    },{\r\n                        id:318,\r\n                        name:\"已购商品列表\",\r\n                        href:\"http://buyer.hnc.jcloudec.com/order-buyer-view/purchasedlist\",\r\n                        target:\"_self\"\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        id: 4,\r\n        name: \"财务管理\",\r\n        children: [{\r\n            id: 41,\r\n            name: \"财务管理\",\r\n            icon: \"xx\",\r\n            children: [{\r\n                id: 411,\r\n                name: \"卡券管理\",\r\n                href: \"http://buyer.hnc.jcloudec.com/promotion-buyer-view/coupon/grid\",\r\n                target: \"_self\"\r\n            }]\r\n        }]\r\n    },\r\n    {\r\n        id: 5,\r\n        name: \"采购管理\",\r\n        children: [{\r\n            id: 51,\r\n            name: \"采购管理\",\r\n            icon: \"xx\",\r\n            children: [{\r\n                id: 511,\r\n                name: \"商品需求\",\r\n                href: \"http://buyer.hnc.jcloudec.com/purchase-buyer-view/management\",\r\n                target: \"_self\"\r\n            },\r\n                {\r\n                    id: 512,\r\n                    name: \"解决方案征询\",\r\n                    href: \"http://buyer.hnc.jcloudec.com/purchase-buyer-view/solution\",\r\n                    target: \"_self\"\r\n                },\r\n            ]\r\n        }]\r\n    },\r\n    {\r\n        id: 6,\r\n        name: \"发票管理\",\r\n        children: [{\r\n            id: 61,\r\n            name: \"发票管理\",\r\n            href: \"http://buyer.hnc.jcloudec.com/invoice-buyer-view/invoice\",\r\n            target: \"_self\",\r\n            icon: \"xx\"\r\n        }, {\r\n            id: 62,\r\n            name: \"资质管理\",\r\n            href: \"http://buyer.hnc.jcloudec.com/invoice-buyer-view/qualification\",\r\n            target: \"_self\",\r\n            icon: \"xx\"\r\n        }]\r\n\r\n    },\r\n    {\r\n        id: 7,\r\n        name: \"账期管理\",\r\n        children: [\r\n            {\r\n                id: 71,\r\n                name: \"账期管理\",\r\n                href: \"http://buyer.hnc.jcloudec.com/bill-buyer-view/accountapplication\",\r\n                target: \"_self\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        id: 8,\r\n        name: \"关注中心\",\r\n        children: [{\r\n            id: 81,\r\n            name: \"关注中心\",\r\n            icon: \"xx\",\r\n            children: [{\r\n                id: 811,\r\n                name: \"我的收藏\",\r\n                href: \"http://buyer.hnc.jcloudec.com/buyer-view/attention-center/collection\",\r\n                target: \"_self\"\r\n            }, {\r\n                id: 812,\r\n                name: \"浏览历史\",\r\n                href: \"http://buyer.hnc.jcloudec.com/buyer-view/attention-center/history\",\r\n                target: \"_self\"\r\n            }]\r\n        }]\r\n    }\r\n]\r\nexport default class Buyer extends Component {\r\n    static propTypes = {\r\n        children: PropTypes.object.isRequired\r\n    };\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            menus: [],\r\n            icon:\"\",\r\n            logo:''\r\n        }\r\n    }\r\n\r\n    //------------------动态获取菜单begin-------------------------------------\r\n    buyerMenuSearch(){\r\n        var client = new ApiClient();\r\n        let form = null;\r\n        let url = '/authority-service/mall/resource/queryResourceMenuByBuyId';\r\n        let menuType =\r\n            this.props.menuType || (\r\n            this.props.children &&\r\n            this.props.children.props &&\r\n            this.props.children.props.route &&\r\n            this.props.children.props.route.menuType);\r\n        if(menuType && menuType=='companymanage'){\r\n            url = '/authority-service/mall/resource/queryResourceMenuByCompanyId';\r\n        }\r\n        client.get(url,{params:form})\r\n            .then(\r\n                (res) => {\r\n                    if(res.code==0 && res.data){\r\n                        let tmp = res.data;\r\n                        let result = this.reformData(tmp);\r\n                        this.setState({\r\n                            menus: result,\r\n                        })\r\n                    }\r\n                },\r\n                (err) => {\r\n                }\r\n            )\r\n    }\r\n\r\n    reformData(data) {\r\n        let result = [];\r\n        if(data && data.length){\r\n            for(let ia=0;ia<data.length;++ia){\r\n                result.push(this.reformUnit(data[ia]));\r\n            }\r\n        }else{}\r\n        return result;\r\n    }\r\n\r\n    reformUnit(data){\r\n        let unit = {id:'',name:'',href:'',target:'',children:[]};\r\n        unit.id = data.id+'';\r\n        unit.name = data.name;\r\n        unit.href = data.url;\r\n        unit.target = data.target?data.target:'_self';\r\n        unit.icon = data.icon;\r\n        if(data && data.url && data.url=='/subaccount-buyer-view/subaccountmanage'){\r\n            if(data && data.children && data.children.length>0) {\r\n                unit.href = data.children[0].url\r\n            }\r\n            unit.target = '_blank'\r\n            delete unit['children'];\r\n            return unit;\r\n        }\r\n        if(data && data.children && data.children.length>0){\r\n            for(let ib=0;ib<data.children.length;++ib){\r\n                unit.children.push(this.reformUnit(data.children[ib]))\r\n            }\r\n        }else{\r\n            delete unit['children'];\r\n        }\r\n        return unit;\r\n    }\r\n    //------------------动态获取菜单end-------------------------------------\r\n\r\n    componentWillMount() {\r\n        this.buyerMenuSearch();\r\n        this.getWebsiteConfig();\r\n        this.minHeight = typeof window !== 'undefined' ? document.body.clientHeight - 64 : 580;\r\n        this.location = typeof window !== 'undefined' ? window.location.href : \"\";\r\n        this.referer = typeof document !== 'undefined' ? document.referrer : \"\";\r\n    }\r\n    //------------------获取ICON--------------------------------------------\r\n    getWebsiteConfig() {\r\n        var client = new ApiClient();\r\n        client.get('/platform-service/mallInfo/getMallInfo')\r\n            .then(\r\n                (res) => {\r\n                    if(res.code==0 && res.data){\r\n                        this.setState({icon:res.data.icon,logo:res.data.userLogo})\r\n                    }\r\n                },\r\n                (err) => {\r\n\r\n                }\r\n            )\r\n    }\r\n    //----------------------------------------------------------------------\r\n    getHref(o) {\r\n        if(o && o.length){\r\n            for (var i = 0; i < o.length; i++) {\r\n                var menu = o[i];\r\n                if (menu.href && menu.href != \"\") {\r\n                    return menu.href;\r\n                } else if (menu.children && menu.children.length) {\r\n                    return this.getHref(menu.children)\r\n                } else {\r\n                    return \"\";\r\n                }\r\n            }\r\n        }else{}\r\n        return \"\";\r\n    }\r\n\r\n    horizontalMenu(o) {\r\n        const horizontalMenu = [];\r\n        if(o && o.length && o.length > 0){\r\n            o.map((menu) => {\r\n                const {children, ...rest} = menu;\r\n                rest.href = rest.href && rest.href != \"\" ? rest.href : this.getHref(children);\r\n                horizontalMenu.push(rest);\r\n            });\r\n        }\r\n        return horizontalMenu;\r\n    }\r\n\r\n    urlMatch(location,href){\r\n        //href:       接口返回的全路径\r\n        //location:   menuUrl\r\n        //menuUrl优先匹配\r\n        if(location!='' && href && href!=''){\r\n            if(href.indexOf('//')>0){\r\n                if(location == href.substring(href.replace('//','~%').indexOf('/'))){\r\n                    return true;\r\n                }\r\n            }else{\r\n                if(location == href){\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        let finalLocation= '';\r\n        if(location){\r\n            let result = String(location).split('.com');\r\n            if(result && result.length && result[1]){\r\n                let path = result[1];\r\n                let tmp = path.split('?');\r\n                if(tmp && tmp[0]){\r\n                    finalLocation = tmp[0];\r\n                    if(finalLocation==href){\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    verticalMenu(o, location) {\r\n        var subMenu = [];\r\n        var hKey = 0;\r\n        var vKey = 0;\r\n        var openKey = [];\r\n        var vName = \"\";\r\n        if(o && o.length && o.length > 0){\r\n            for (var i = 0; i < o.length; i++) {\r\n                var menu = o[i];\r\n                if (menu.href && menu.href != \"\" && this.urlMatch(location,menu.href)) {\r\n                    subMenu = menu.children;\r\n                    hKey = menu.id;\r\n                    let tmpOpenKey=[];\r\n                    for(let q in menu.children){\r\n                        tmpOpenKey.push(menu.children[q].id+'');\r\n                    }\r\n                    openKey=tmpOpenKey;\r\n                } else if (menu.children && menu.children.length) {\r\n                    for (var j = 0; j < menu.children.length; j++) {\r\n                        var vMenu = menu.children[j];\r\n                        if (vMenu.href && vMenu.href != \"\" && this.urlMatch(location,vMenu.href)) {\r\n                            subMenu = menu.children;\r\n                            hKey = menu.id;\r\n                            vKey = vMenu.id;\r\n                            vName = vMenu.name;\r\n                        } else if (vMenu.children && vMenu.children.length) {\r\n                            for (var n = 0; n < vMenu.children.length; n++) {\r\n                                var sMenu = vMenu.children[n];\r\n                                if (sMenu.href && sMenu.href != \"\" && this.urlMatch(location,sMenu.href)) {\r\n                                    subMenu = menu.children;\r\n                                    hKey = menu.id;\r\n                                    vKey = sMenu.id;\r\n                                    vName = sMenu.name;\r\n                                    openKey.push(vMenu.id);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return {subMenu, hKey, openKey, vKey,vName}\r\n    }\r\n    /*verticalMenu(o,location) {\r\n     var subMenu = [];\r\n     var hKey = 0;\r\n     var vKey = 0;\r\n     var openKey = 0;\r\n     for(var i = 0; i < o.length; i++) {\r\n     var menu = o[i];\r\n     if(menu.href&&menu.href!=\"\"&&location.indexOf(menu.href)!=-1) {\r\n     subMenu=[];\r\n     hKey = menu.id;\r\n     }else if(menu.children&&menu.children.length){\r\n     for(var j = 0; j < menu.children.length; j++) {\r\n     var vMenu = menu.children[j];\r\n     if(vMenu.href&&vMenu.href!=\"\"&&location.indexOf(vMenu.href)!=-1) {\r\n     subMenu = menu.children;\r\n     hKey = menu.id;\r\n     }else if(vMenu.children&&vMenu.children.length) {\r\n     for(var n = 0; n < vMenu.children.length; n++) {\r\n     var sMenu = vMenu.children[n];\r\n     if(sMenu.href&&sMenu.href!=\"\"&&location.indexOf(sMenu.href)!=-1) {\r\n     subMenu = menu.children;\r\n     hKey = menu.id;\r\n     vKey = sMenu.id;\r\n     openKey=vMenu.id;\r\n     }\r\n     }\r\n     }\r\n     }\r\n     }\r\n     }\r\n\r\n     return {subMenu,hKey,openKey,vKey}\r\n     }*/\r\n\r\n\r\n    render() {\r\n        const {menus = ms} = this.props;\r\n        const horizontalMenu = this.horizontalMenu(this.state.menus);\r\n        // 菜单选中\r\n        let menuUrl =\r\n            this.props.menuUrl || (\r\n                this.props.children &&\r\n                this.props.children.props &&\r\n                this.props.children.props.route &&\r\n                this.props.children.props.route.menuUrl\r\n            );\r\n        // 左侧菜单是否展示\r\n        let siderNoRequest =\r\n            this.props.siderNoRequest || (\r\n                this.props.children &&\r\n                this.props.children.props &&\r\n                this.props.children.props.route &&\r\n                this.props.children.props.route.siderNoRequest\r\n            );\r\n        // 头部名称\r\n        let titleName =\r\n            this.props.titleName||(\r\n                this.props.children &&\r\n                this.props.children.props &&\r\n                this.props.children.props.route &&\r\n                this.props.children.props.route.titleName\r\n            );\r\n        // 一级菜单是否展示\r\n        let noFirstLevelMenu =\r\n            this.props.noFirstLevelMenu || (\r\n                this.props.children &&\r\n                this.props.children.props &&\r\n                this.props.children.props.route &&\r\n                this.props.children.props.route.noFirstLevelMenu\r\n            );\r\n        let menuType =\r\n            this.props.menuType || (\r\n            this.props.children &&\r\n            this.props.children.props &&\r\n            this.props.children.props.route &&\r\n            this.props.children.props.route.menuType);\r\n        let headerClassName = siderNoRequest?'buyer-framework-body-container-right-nosider':'buyer-framework-body-container-right';\r\n        let verticalMenu = { subMenu:[], hKey:'0', openKey:'0', vKey:[],} ;\r\n        if(menuUrl){\r\n            verticalMenu = this.verticalMenu(this.state.menus, menuUrl);\r\n        }else{\r\n            verticalMenu = this.verticalMenu(this.state.menus, this.location);\r\n        }\r\n        if (verticalMenu.subMenu && verticalMenu.subMenu.length && verticalMenu.subMenu.length == 0) {\r\n            verticalMenu = this.verticalMenu(this.state.menus, this.referer || \"\");\r\n        }\r\n        const {hKey,vName, ...rest} = verticalMenu;\r\n        return (\r\n            <LocaleProvider locale={zh_CN}>\r\n                <div>\r\n                    <Helmet>\r\n                        <title>{vName}</title>\r\n                        <link rel=\"icon\" href={this.state.icon} mce_href={this.state.icon} type=\"image/x-icon\" />\r\n                    </Helmet>\r\n                    <TopTools />\r\n                    <BuyerHeader menus={horizontalMenu} selectKey={hKey} logo = {this.state.logo} typeKey={this.props.typeKey} titleName = {titleName} noFirstLevelMenu = { noFirstLevelMenu } menuType = {menuType}/>\r\n                    <div className=\"buyer-framework-body-container\">\r\n                        {\r\n                            !siderNoRequest &&\r\n                            <div className='buyer-framework-body-container-left'>\r\n                                <BuyerSider {...rest} />\r\n                            </div>\r\n                        }\r\n                        <div className={headerClassName} style={{minHeight: this.minHeight + \"px\", }}>\r\n                            {this.props.children}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </LocaleProvider>\r\n        )\r\n    }\r\n}"]}