{"version":3,"sources":["../../components/input/Input.js"],"names":["React","fixControlledValue","value","Input","props","handleKeyDown","e","onPressEnter","onKeyDown","keyCode","saveInput","node","input","focus","blur","prefixCls","size","disabled","children","addonBefore","addonAfter","wrapperClassName","addonClassName","className","groupClassName","style","cloneElement","prefix","suffix","affixWrapperCls","getInputClassName","otherProps","defaultValue","renderLabeledIcon","renderLabeledInput","renderInput","Component","defaultProps","type","propTypes","string","id","oneOfType","number","oneOf","maxLength","bool","any","autosize","object","func","onKeyUp","onFocus","onBlur"],"mappings":"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","file":"Input.js","sourcesContent":["import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\n\n// eslint校验提示变量没有被使用，暂时注释掉\n// import Group from './Group';\n// import Search from './Search';\n// import TextArea from './TextArea';\n\nfunction fixControlledValue(value) {\n    if (typeof value === 'undefined' || value === null) {\n        return '';\n    }\n    return value;\n}\n\nexport default class Input extends React.Component {\n    constructor(props) {\n        super(props);\n        this.input = {};\n    }\n\n    static defaultProps = {\n        prefixCls: 'jc-input',\n        type: 'text',\n        disabled: false,\n    };\n\n    static propTypes = {\n        type: PropTypes.string,\n        id: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number,\n        ]),\n        size: PropTypes.oneOf(['small', 'default', 'large']),\n        maxLength: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number,\n        ]),\n        disabled: PropTypes.bool,\n        value: PropTypes.any,\n        defaultValue: PropTypes.any,\n        className: PropTypes.string,\n        addonBefore: PropTypes.node,\n        addonAfter: PropTypes.node,\n        prefixCls: PropTypes.string,\n        autosize: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n        onPressEnter: PropTypes.func,\n        onKeyDown: PropTypes.func,\n        onKeyUp: PropTypes.func,\n        onFocus: PropTypes.func,\n        onBlur: PropTypes.func,\n        prefix: PropTypes.node,\n        suffix: PropTypes.node,\n    };\n\n    handleKeyDown = (e) => {\n        const { onPressEnter, onKeyDown } = this.props;\n        if (e.keyCode === 13 && onPressEnter) {\n            onPressEnter(e);\n        }\n        if (onKeyDown) {\n            onKeyDown(e);\n        }\n    }\n\n    focus() {\n        this.input.focus();\n    }\n\n    blur() {\n        this.input.blur();\n    }\n\n    getInputClassName() {\n        const { prefixCls, size, disabled } = this.props;\n        return classNames(prefixCls, {\n            [`${prefixCls}-sm`]: size === 'small',\n            [`${prefixCls}-lg`]: size === 'large',\n            [`${prefixCls}-disabled`]: disabled,\n        });\n    }\n\n    saveInput = (node) => {\n        this.input = node;\n    }\n\n    renderLabeledInput(children) {\n        const props = this.props;\n        // Not wrap when there is not addons\n        if ((!props.addonBefore && !props.addonAfter)) {\n            return children;\n        }\n\n        const wrapperClassName = `${props.prefixCls}-group`;\n        const addonClassName = `${wrapperClassName}-addon`;\n        const addonBefore = props.addonBefore ? (<span className={addonClassName}> {props.addonBefore} </span>) : null;\n\n        const addonAfter = props.addonAfter ? (<span className={addonClassName}> {props.addonAfter} </span>) : null;\n\n        const className = classNames(`${props.prefixCls}-wrapper`, {\n            [wrapperClassName]: (addonBefore || addonAfter),\n        });\n\n        const groupClassName = classNames(`${props.prefixCls}-group-wrapper`, {\n            [`${props.prefixCls}-group-wrapper-sm`]: props.size === 'small',\n            [`${props.prefixCls}-group-wrapper-lg`]: props.size === 'large',\n        });\n\n        // Need another wrapper for changing display:table to display:inline-block\n        // and put style prop in wrapper\n        if (addonBefore || addonAfter) {\n            return (\n                <span\n                    className={groupClassName}\n                    style={props.style}\n                >\n                    <span className={className}>\n                        {addonBefore}\n                        {React.cloneElement(children, { style: null })}\n                        {addonAfter}\n                    </span>\n                </span>\n            );\n        }\n        return (\n            <span className={className}>\n                {addonBefore}\n                {children}\n                {addonAfter}\n            </span>\n        );\n    }\n\n    renderLabeledIcon(children) {\n        const { props } = this;\n        if (!('prefix' in props || 'suffix' in props)) {\n            return children;\n        }\n\n        const prefix = props.prefix ? (<span className={`${props.prefixCls}-prefix`}> {props.prefix} </span>) : null;\n\n        const suffix = props.suffix ? (<span className={`${props.prefixCls}-suffix`}> {props.suffix} </span>) : null;\n\n        const affixWrapperCls = classNames(props.className, `${props.prefixCls}-affix-wrapper`, {\n            [`${props.prefixCls}-affix-wrapper-sm`]: props.size === 'small',\n            [`${props.prefixCls}-affix-wrapper-lg`]: props.size === 'large',\n        });\n        return (\n            <span\n                className={affixWrapperCls}\n                style={props.style}\n            >\n                {prefix}\n                {React.cloneElement(children, { style: null, className: this.getInputClassName() })}\n                {suffix}\n            </span>\n        );\n    }\n\n    renderInput() {\n        const { value, className } = this.props;\n        // Fix https://fb.me/react-unknown-prop\n        const otherProps = omit(this.props, [\n            'prefixCls',\n            'onPressEnter',\n            'addonBefore',\n            'addonAfter',\n            'prefix',\n            'suffix',\n        ]);\n\n        if ('value' in this.props) {\n            otherProps.value = fixControlledValue(value);\n            // Input elements must be either controlled or uncontrolled,\n            // specify either the value prop, or the defaultValue prop, but not both.\n            delete otherProps.defaultValue;\n        }\n        return this.renderLabeledIcon(<input {...otherProps} className={classNames(this.getInputClassName(), className)} onKeyDown={this.handleKeyDown} ref={this.saveInput} />);\n    }\n\n    render() {\n        return this.renderLabeledInput(this.renderInput());\n    }\n}\n"]}