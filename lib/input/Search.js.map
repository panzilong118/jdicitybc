{"version":3,"sources":["../../components/input/Search.js"],"names":["React","Search","props","onSearch","input","value","focus","saveInput","node","blur","enterButton","prefixCls","size","enterButtonAsElement","type","cloneElement","className","onClick","inputPrefixCls","suffix","others","buttonOrIcon","getButtonOrIcon","searchSuffix","inputClassName","Component","defaultProps"],"mappings":";;;;;;;;;;;AAAA;;IAAYA,K;;AACZ;;;;AACA;;;;AAGA;;;;AACA;;;;;;;;;;;;;;;;;AAHA;AACA;;;IAIqBC,M;;;AACjB,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,oHACTA,KADS;;AAAA,cAWnBC,QAXmB,GAWR,YAAM;AAAA,gBACLA,QADK,GACQ,MAAKD,KADb,CACLC,QADK;;AAEb,gBAAIA,QAAJ,EAAc;AACVA,yBAAS,MAAKC,KAAL,CAAWA,KAAX,CAAiBC,KAA1B;AACH;AACD,kBAAKD,KAAL,CAAWE,KAAX;AACH,SAjBkB;;AAAA,cA2BnBC,SA3BmB,GA2BP,UAACC,IAAD,EAAU;AAClB,kBAAKJ,KAAL,GAAaI,IAAb;AACH,SA7BkB;;AAEf,cAAKJ,KAAL,GAAa,EAAb;AAFe;AAGlB;;;;gCAgBO;AACJ,iBAAKA,KAAL,CAAWE,KAAX;AACH;;;+BAEM;AACH,iBAAKF,KAAL,CAAWK,IAAX;AACH;;;0CAMiB;AAAA,yBAC2B,KAAKP,KADhC;AAAA,gBACNQ,WADM,UACNA,WADM;AAAA,gBACOC,SADP,UACOA,SADP;AAAA,gBACkBC,IADlB,UACkBA,IADlB;;AAEd,gBAAI,CAACF,WAAL,EAAkB;AACd,uBAAO,sCAAM,WAAcC,SAAd,UAAN,EAAsC,MAAK,QAA3C,EAAoD,KAAI,YAAxD,GAAP;AACH;AACD,gBAAME,uBAAuBH,WAA7B;AACA,gBAAIG,qBAAqBC,IAArB,yBAAwCD,qBAAqBC,IAArB,KAA8B,QAA1E,EAAoF;AAChF,uBAAOd,MAAMe,YAAN,CAAmBF,oBAAnB,EAAyCA,qBAAqBC,IAArB,wBAAuC;AACnFE,+BAAcL,SAAd,YADmF;AAEnFC,8BAFmF;AAGnFK,6BAAS,KAAKd;AAHqE,iBAAvC,GAI5C;AACAc,6BAAS,KAAKd;AADd,iBAJG,CAAP;AAOH;AACD,mBACI;AAAA;AAAA;AACI,+BAAcQ,SAAd,YADJ;AAEI,0BAAK,SAFT;AAGI,0BAAMC,IAHV;AAII,6BAAS,KAAKT,QAJlB;AAKI,yBAAI;AALR;AAOKO,gCAAgB,IAAhB,GAAuB,sCAAM,MAAK,QAAX,GAAvB,GAAgDA;AAPrD,aADJ;AAWH;;;iCAEQ;AAAA;;AAAA,0BACkF,KAAKR,KADvF;AAAA,gBACGc,SADH,WACGA,SADH;AAAA,gBACcL,SADd,WACcA,SADd;AAAA,gBACyBO,cADzB,WACyBA,cADzB;AAAA,gBACyCN,IADzC,WACyCA,IADzC;AAAA,gBAC+CO,MAD/C,WAC+CA,MAD/C;AAAA,gBACuDT,WADvD,WACuDA,WADvD;AAAA,gBACuEU,MADvE;;AAEL,mBAAOA,OAAOjB,QAAd;AACA,gBAAMkB,eAAe,KAAKC,eAAL,EAArB;AACA,gBAAMC,eAAeJ,SAAS,CAACA,MAAD,EAASE,YAAT,CAAT,GAAkCA,YAAvD;AACA,gBAAMG,iBAAiB,0BAAWb,SAAX,EAAsBK,SAAtB,kDACfL,SADe,oBACY,CAAC,CAACD,WADd,gCAEfC,SAFe,SAEFC,IAFE,EAEO,CAAC,CAACA,IAFT,gBAAvB;AAIA,mBACI;AACI,8BAAc,KAAKT;AADvB,eAEQiB,MAFR;AAGI,sBAAMR,IAHV;AAII,2BAAWY,cAJf;AAKI,2BAAWN,cALf;AAMI,wBAAQK,YANZ;AAOI,qBAAK,KAAKhB;AAPd,eADJ;AAWH;;;;EAhF+BP,MAAMyB,S;;AAArBxB,M,CAMVyB,Y,GAAe;AAClBR,oBAAgB,UADE;AAElBP,eAAW,iBAFO;AAGlBD,iBAAa;AAHK,C;kBANLT,M","file":"Search.js","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport Input from './Input';\n// eslint校验提示变量没有被使用，暂时注释掉\n// import { InputProps } from './Input';\nimport Icon from '../icon';\nimport Button from '../button';\n\nexport default class Search extends React.Component {\n    constructor(props) {\n        super(props);\n        this.input = {};\n    }\n\n    static defaultProps = {\n        inputPrefixCls: 'jc-input',\n        prefixCls: 'jc-input-search',\n        enterButton: false,\n    };\n\n    onSearch = () => {\n        const { onSearch } = this.props;\n        if (onSearch) {\n            onSearch(this.input.input.value);\n        }\n        this.input.focus();\n    }\n\n    focus() {\n        this.input.focus();\n    }\n\n    blur() {\n        this.input.blur();\n    }\n\n    saveInput = (node) => {\n        this.input = node;\n    }\n\n    getButtonOrIcon() {\n        const { enterButton, prefixCls, size } = this.props;\n        if (!enterButton) {\n            return <Icon className={`${prefixCls}-icon`} type='search' key='searchIcon' />;\n        }\n        const enterButtonAsElement = enterButton;\n        if (enterButtonAsElement.type === Button || enterButtonAsElement.type === 'button') {\n            return React.cloneElement(enterButtonAsElement, enterButtonAsElement.type === Button ? {\n                className: `${prefixCls}-button`,\n                size,\n                onClick: this.onSearch,\n            } : {\n                onClick: this.onSearch,\n            });\n        }\n        return (\n            <Button\n                className={`${prefixCls}-button`}\n                type='primary'\n                size={size}\n                onClick={this.onSearch}\n                key='enterButton'\n            >\n                {enterButton === true ? <Icon type='search' /> : enterButton}\n            </Button>\n        );\n    }\n\n    render() {\n        const { className, prefixCls, inputPrefixCls, size, suffix, enterButton, ...others } = this.props;\n        delete others.onSearch;\n        const buttonOrIcon = this.getButtonOrIcon();\n        const searchSuffix = suffix ? [suffix, buttonOrIcon] : buttonOrIcon;\n        const inputClassName = classNames(prefixCls, className, {\n            [`${prefixCls}-enter-button`]: !!enterButton,\n            [`${prefixCls}-${size}`]: !!size,\n        });\n        return (\n            <Input\n                onPressEnter={this.onSearch}\n                {...others}\n                size={size}\n                className={inputClassName}\n                prefixCls={inputPrefixCls}\n                suffix={searchSuffix}\n                ref={this.saveInput}\n            />\n        );\n    }\n}\n"]}