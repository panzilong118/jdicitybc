{"version":3,"sources":["../../components/tabs/index.js"],"names":["React","ReactDOM","Tabs","createNewTab","targetKey","onEdit","props","removeTab","e","stopPropagation","handleChange","activeKey","onChange","NO_FLEX","tabNode","findDOMNode","className","indexOf","prefixCls","size","type","tabPosition","children","tabBarStyle","hideAdd","onTabClick","onPrevClick","onNextClick","animated","tabBarGutter","tabBarExtraContent","inkBarAnimated","inkBar","tabPaneAnimated","tabPane","cls","childrenWithClose","Children","forEach","child","index","closable","closeIcon","key","push","cloneElement","tab","undefined","renderTabBar","length","Component","TabPane","defaultProps"],"mappings":";;;;;;;;;;;;;AAGA;;IAAYA,K;;AAEZ;;IAAYC,Q;;AAEZ;;;;AAEA;;;;AAEA;;;;AAEA;;;;AAEA;;;;AAEA;;;;AAEA;;;;;;;;;;;;;;+eAnBA;;;;;IAqBqBC,I;;;;;;;;;;;;;;sLAgBnBC,Y,GAAe,UAACC,SAAD,EAAe;AAAA,gBAClBC,MADkB,GACP,MAAKC,KADE,CAClBD,MADkB;;AAE1B,gBAAIA,MAAJ,EAAY;AACRA,uBAAOD,SAAP,EAAkB,KAAlB;AACH;AACJ,S,QAEDG,S,GAAY,UAACH,SAAD,EAAYI,CAAZ,EAAkB;AAC1BA,cAAEC,eAAF;AACA,gBAAI,CAACL,SAAL,EAAgB;AACZ;AACH;;AAJyB,gBAMlBC,MANkB,GAMP,MAAKC,KANE,CAMlBD,MANkB;;AAO1B,gBAAIA,MAAJ,EAAY;AACRA,uBAAOD,SAAP,EAAkB,QAAlB;AACH;AACJ,S,QAEDM,Y,GAAe,UAACC,SAAD,EAAe;AAAA,gBAClBC,QADkB,GACL,MAAKN,KADA,CAClBM,QADkB;;AAE1B,gBAAIA,QAAJ,EAAc;AACVA,yBAASD,SAAT;AACH;AACJ,S;;;;;4CAhCmB;AAChB,gBAAME,UAAU,UAAhB;AACA,gBAAMC,UAAUb,SAASc,WAAT,CAAqB,IAArB,CAAhB;AACA,gBAAID,WAAW,CAAC,gCAAZ,IAAiCA,QAAQE,SAAR,CAAkBC,OAAlB,CAA0BJ,OAA1B,MAAuC,CAAC,CAA7E,EAAgF;AAC5EC,wBAAQE,SAAR,IAAqBH,OAArB;AACH;AACJ;;;iCA4BQ;AAAA;AAAA;;AAAA,yBAeD,KAAKP,KAfJ;AAAA,gBAEDY,SAFC,UAEDA,SAFC;AAAA,0CAGDF,SAHC;AAAA,gBAGDA,SAHC,oCAGW,EAHX;AAAA,gBAIDG,IAJC,UAIDA,IAJC;AAAA,qCAKDC,IALC;AAAA,gBAKDA,IALC,+BAKM,MALN;AAAA,gBAMDC,WANC,UAMDA,WANC;AAAA,gBAODC,QAPC,UAODA,QAPC;AAAA,gBAQDC,WARC,UAQDA,WARC;AAAA,gBASDC,OATC,UASDA,OATC;AAAA,gBAUDC,UAVC,UAUDA,UAVC;AAAA,gBAWDC,WAXC,UAWDA,WAXC;AAAA,gBAYDC,WAZC,UAYDA,WAZC;AAAA,yCAaDC,QAbC;AAAA,gBAaDA,QAbC,mCAaU,IAbV;AAAA,gBAcDC,YAdC,UAcDA,YAdC;AAAA,gBAiBDC,kBAjBC,GAkBD,KAAKxB,KAlBJ,CAiBDwB,kBAjBC;;AAAA,wBAoBsB,QAAOF,QAAP,yCAAOA,QAAP,OAAoB,QAApB,GAA+B;AACtDG,gCAAgBH,SAASI;AAD6B,aAA/B,GAEvB;AACAD,gCAAgBH;AADhB,aAtBC;AAAA,gBAoBGG,cApBH,SAoBGA,cApBH;;AAAA,wBAyBqB,QAAOH,QAAP,yCAAOA,QAAP,OAAoB,QAApB,GAA+B;AACrDK,iCAAiBL,SAASM;AAD2B,aAA/B,GAEtB;AACAD,iCAAiBL;AADjB,aA3BC;AAAA,gBAyBCK,eAzBD,SAyBCA,eAzBD;;AA+BL;;;AACA,gBAAIb,SAAS,MAAb,EAAqB;AACjBa,kCAAkB,cAAc,KAAK3B,KAAnB,GAA2B2B,eAA3B,GAA6C,KAA/D;AACH;;AAED,mCACI,EAAEb,KAAKH,OAAL,CAAa,MAAb,KAAwB,CAAxB,KAA8BE,SAAS,OAAT,IAAoBA,SAAS,OAA3D,CAAF,CADJ,EAEI,qFAFJ;AAIA,gBAAMgB,MAAM,0BAAWnB,SAAX,kDACJE,SADI,gBACmBG,gBAAgB,MAAhB,IAA0BA,gBAAgB,OAD7D,gCAEJH,SAFI,SAESC,IAFT,EAEkB,CAAC,CAACA,IAFpB,gCAGJD,SAHI,YAGeE,KAAKH,OAAL,CAAa,MAAb,KAAwB,CAHvC,gCAIJC,SAJI,SAISE,IAJT,EAIkB,IAJlB,gCAKJF,SALI,oBAKuB,CAACe,eALxB,gBAAZ;AAOA;AACA,gBAAIG,oBAA0C,EAA9C;;AAEAN,iCAAqBA,qBACjB;AAAA;AAAA,kBAAK,WAAcZ,SAAd,mBAAL;AACKY;AADL,aADiB,GAIjB,IAJJ;;AAMA,gBAAIV,SAAS,eAAb,EAA8B;AAC1BgB,oCAAoB,EAApB;AACApC,sBAAMqC,QAAN,CAAeC,OAAf,CAAuBhB,QAAvB,EAAiC,UAACiB,KAAD,EAAQC,KAAR,EAAkB;AAAA,wBACzCC,QADyC,GAC5BF,MAAMjC,KADsB,CACzCmC,QADyC;;AAE/CA,+BAAW,OAAOA,QAAP,KAAoB,WAApB,GAAkC,IAAlC,GAAyCA,QAApD;AACA,wBAAMC,YAAYD,WACd;AACI,8BAAK,OADT;AAEI,iCAAS;AAAA,mCAAK,OAAKlC,SAAL,CAAegC,MAAMI,GAArB,EAA0BnC,CAA1B,CAAL;AAAA;AAFb,sBADc,GAKd,IALJ;AAMA4B,sCAAkBQ,IAAlB,CAAuB5C,MAAM6C,YAAN,CAAmBN,KAAnB,EAA0B;AAC7CO,6BACI;AAAA;AAAA,8BAAK,WAAWL,WAAWM,SAAX,GAA0B7B,SAA1B,oBAAhB;AACKqB,kCAAMjC,KAAN,CAAYwC,GADjB;AAEKJ;AAFL,yBAFyC;AAO7CC,6BAAKJ,MAAMI,GAAN,IAAaH;AAP2B,qBAA1B,CAAvB;AASH,iBAlBD;AAmBA;AACA,oBAAI,CAAChB,OAAL,EAAc;AACVM,yCACI;AAAA;AAAA;AACI,8DAAM,MAAK,MAAX,EAAkB,WAAcZ,SAAd,aAAlB,EAAqD,SAAS,KAAKf,YAAnE,GADJ;AAEK2B;AAFL,qBADJ;AAMH;AACJ;;AAED,gBAAMkB,eAAe,SAAfA,YAAe;AAAA,uBACjB;AACI,oCAAgBjB,cADpB;AAEI,kCAAcD,kBAFlB;AAGI,gCAAYL,UAHhB;AAII,iCAAaC,WAJjB;AAKI,iCAAaC,WALjB;AAMI,2BAAOJ,WANX;AAOI,kCAAcM;AAPlB,kBADiB;AAAA,aAArB;;AAYA,mBACI;AAAA;AAAA,6BACQ,KAAKvB,KADb;AAEI,+BAAW6B,GAFf;AAGI,oCAAgBd,WAHpB;AAII,kCAAc2B,YAJlB;AAKI,sCAAkB;AAAA,+BAAM,4CAAY,UAAUf,eAAtB,EAAuC,wBAAvC,GAAN;AAAA,qBALtB;AAMI,8BAAU,KAAKvB;AANnB;AAQK0B,kCAAkBa,MAAlB,GAA2B,CAA3B,GAA+Bb,iBAA/B,GAAmDd;AARxD,aADJ;AAYH;;;;EA1J+BtB,MAAMkD,S;;AAAnBhD,I,CACZiD,O;AADYjD,I,CAGZkD,Y,GAAe;AAClBlC,eAAW,SADO;AAElBM,aAAS;AAFS,C;kBAHHtB,I","file":"index.js","sourcesContent":["/**\n * Created by gaoqingli on 2018/4/10.\n */\nimport * as React from 'react';\n\nimport * as ReactDOM from 'react-dom';\n\nimport RcTabs, { TabPane } from 'rc-tabs';\n\nimport ScrollableInkTabBar from 'rc-tabs/lib/ScrollableInkTabBar';\n\nimport TabContent from 'rc-tabs/lib/TabContent';\n\nimport classNames from 'classnames';\n\nimport Icon from '../icon';\n\nimport warning from '../_util/warning';\n\nimport isFlexSupported from '../_util/isFlexSupported';\n\nexport default class Tabs extends React.Component {\n  static TabPane = TabPane;\n\n  static defaultProps = {\n      prefixCls: 'jc-tabs',\n      hideAdd: false,\n  };\n\n  componentDidMount() {\n      const NO_FLEX = ' no-flex';\n      const tabNode = ReactDOM.findDOMNode(this);\n      if (tabNode && !isFlexSupported() && tabNode.className.indexOf(NO_FLEX) === -1) {\n          tabNode.className += NO_FLEX;\n      }\n  }\n\n  createNewTab = (targetKey) => {\n      const { onEdit } = this.props;\n      if (onEdit) {\n          onEdit(targetKey, 'add');\n      }\n  }\n\n  removeTab = (targetKey, e) => {\n      e.stopPropagation();\n      if (!targetKey) {\n          return;\n      }\n\n      const { onEdit } = this.props;\n      if (onEdit) {\n          onEdit(targetKey, 'remove');\n      }\n  }\n\n  handleChange = (activeKey) => {\n      const { onChange } = this.props;\n      if (onChange) {\n          onChange(activeKey);\n      }\n  }\n\n  render() {\n      const {\n          prefixCls,\n          className = '',\n          size,\n          type = 'line',\n          tabPosition,\n          children,\n          tabBarStyle,\n          hideAdd,\n          onTabClick,\n          onPrevClick,\n          onNextClick,\n          animated = true,\n          tabBarGutter,\n      } = this.props;\n      let {\n          tabBarExtraContent,\n      } = this.props;\n\n      const { inkBarAnimated } = typeof animated === 'object' ? {\n          inkBarAnimated: animated.inkBar,\n      } : {\n          inkBarAnimated: animated,\n      };\n      let { tabPaneAnimated } = typeof animated === 'object' ? {\n          tabPaneAnimated: animated.tabPane,\n      } : {\n          tabPaneAnimated: animated,\n      };\n\n      // card tabs should not have animation\n      if (type !== 'line') {\n          tabPaneAnimated = 'animated' in this.props ? tabPaneAnimated : false;\n      }\n\n      warning(\n          !(type.indexOf('card') >= 0 && (size === 'small' || size === 'large')),\n          'Tabs[type=card|editable-card] doesn\\'t have small or large size, it\\'s by designed.',\n      );\n      const cls = classNames(className, {\n          [`${prefixCls}-vertical`]: tabPosition === 'left' || tabPosition === 'right',\n          [`${prefixCls}-${size}`]: !!size,\n          [`${prefixCls}-card`]: type.indexOf('card') >= 0,\n          [`${prefixCls}-${type}`]: true,\n          [`${prefixCls}-no-animation`]: !tabPaneAnimated,\n      });\n      // only card type tabs can be added and closed\n      let childrenWithClose: React.ReactElement[] = [];\n\n      tabBarExtraContent = tabBarExtraContent ? (\n          <div className={`${prefixCls}-extra-content`}>\n              {tabBarExtraContent}\n          </div>\n      ) : null;\n\n      if (type === 'editable-card') {\n          childrenWithClose = [];\n          React.Children.forEach(children, (child, index) => {\n              let { closable } = child.props;\n              closable = typeof closable === 'undefined' ? true : closable;\n              const closeIcon = closable ? (\n                  <Icon\n                      type='close'\n                      onClick={e => this.removeTab(child.key, e)}\n                  />\n              ) : null;\n              childrenWithClose.push(React.cloneElement(child, {\n                  tab: (\n                      <div className={closable ? undefined : `${prefixCls}-tab-unclosable`}>\n                          {child.props.tab}\n                          {closeIcon}\n                      </div>\n                  ),\n                  key: child.key || index,\n              }));\n          });\n          // Add new tab handler\n          if (!hideAdd) {\n              tabBarExtraContent = (\n                  <span>\n                      <Icon type='plus' className={`${prefixCls}-new-tab`} onClick={this.createNewTab} />\n                      {tabBarExtraContent}\n                  </span>\n              );\n          }\n      }\n\n      const renderTabBar = () => (\n          <ScrollableInkTabBar\n              inkBarAnimated={inkBarAnimated}\n              extraContent={tabBarExtraContent}\n              onTabClick={onTabClick}\n              onPrevClick={onPrevClick}\n              onNextClick={onNextClick}\n              style={tabBarStyle}\n              tabBarGutter={tabBarGutter}\n          />\n      );\n\n      return (\n          <RcTabs\n              {...this.props}\n              className={cls}\n              tabBarPosition={tabPosition}\n              renderTabBar={renderTabBar}\n              renderTabContent={() => <TabContent animated={tabPaneAnimated} animatedWithMargin />}\n              onChange={this.handleChange}\n          >\n              {childrenWithClose.length > 0 ? childrenWithClose : children}\n          </RcTabs>\n      );\n  }\n}\n"]}