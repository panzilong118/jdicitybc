{"version":3,"sources":["../../components/time-picker/index.js"],"names":["generateShowHourMinuteSecond","React","moment","format","showHour","indexOf","showMinute","showSecond","TimePicker","props","value","defaultValue","state","nextProps","setState","timePickerRef","focus","blur","use12Hours","renderTimePicker","Component","handleChange","onChange","handleOpenClose","open","onOpenChange","saveTimePicker","locale","getDefaultFormat","className","prefixCls","size","addon","panel","placeholder","undefined","defaultProps","align","offset","disabled","disabledHours","disabledMinutes","disabledSeconds","hideDisabledOptions","placement","transitionName","focusOnOpen"],"mappings":"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","file":"index.js","sourcesContent":["import * as React from 'react';\nimport * as moment from 'moment';\nimport RcTimePicker from 'rc-time-picker/lib/TimePicker';\nimport classNames from 'classnames';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from './locale/en_US';\nimport interopDefault from '../_util/interopDefault';\n\n// 显示的时间格式\nexport function generateShowHourMinuteSecond(format) {\n    // Ref: http://momentjs.com/docs/#/parsing/string-format/\n    return {\n        showHour: (\n            format.indexOf('H') > -1 ||\n            format.indexOf('h') > -1 ||\n            format.indexOf('k') > -1\n        ),\n        showMinute: format.indexOf('m') > -1,\n        showSecond: format.indexOf('s') > -1,\n    };\n}\n\nexport default class TimePicker extends React.Component {\n    constructor(props) {\n        super(props);\n        const value = props.value || props.defaultValue;\n        // if (value && !interopDefault(moment).isMoment(value)) {\n        //     throw new Error('The value/defaultValue of TimePicker must be a moment object after `antd@2.0`, ' +\n        //         'see: https://u.ant.design/time-picker-value', );\n        // }\n        this.state = {\n            value,\n        };\n    }\n    componentWillReceiveProps(nextProps) {\n        if ('value' in nextProps) {\n            this.setState({ value: nextProps.value });\n        }\n    }\n    handleChange = (value) => {\n        if (!('value' in this.props)) {\n            this.setState({ value });\n        }\n        const { onChange, format = 'HH:mm:ss' } = this.props;\n        if (onChange) {\n            onChange(value, (value && value.format(format)) || '');\n        }\n    }\n    handleOpenClose = ({ open }) => {\n        const { onOpenChange } = this.props;\n        if (onOpenChange) {\n            onOpenChange(open);\n        }\n    }\n    saveTimePicker = (timePickerRef) => {\n        this.timePickerRef = timePickerRef;\n    }\n    focus() {\n        this.timePickerRef.focus();\n    }\n    blur() {\n        this.timePickerRef.blur();\n    }\n    getDefaultFormat() {\n        const { format, use12Hours } = this.props;\n        if (format) {\n            return format;\n        } else if (use12Hours) {\n            return 'h:mm:ss a';\n        }\n        return 'HH:mm:ss';\n    }\n    renderTimePicker = (locale) => {\n        const props = {\n            ...this.props,\n        };\n        delete props.defaultValue;\n\n        const format = this.getDefaultFormat();\n        const className = classNames(props.className, {\n            [`${props.prefixCls}-${props.size}`]: !!props.size,\n        });\n\n        const addon = panel => (\n            props.addon ? (\n                <div className={`${props.prefixCls}-panel-addon`\n                }\n                >\n                    {\n                        props.addon(panel)\n                    }\n                </div>\n            ) :\n                null\n        );\n        return (\n            <RcTimePicker\n                {...generateShowHourMinuteSecond(format)}\n                {...props}\n                ref={this.saveTimePicker}\n                format={format}\n                className={className}\n                value={this.state.value}\n                placeholder={props.placeholder === undefined ? locale.placeholder : props.placeholder}\n                onChange={this.handleChange}\n                onOpen={this.handleOpenClose}\n                onClose={this.handleOpenClose}\n                addon={addon}\n            />\n        );\n    }\n    render() {\n        return (\n            <LocaleReceiver\n                componentName='TimePicker'\n                defaultLocale={defaultLocale}\n            >\n                {this.renderTimePicker}\n            </LocaleReceiver>\n        );\n    }\n}\nTimePicker.defaultProps = {\n    prefixCls: 'jc-time-picker',\n    align: {\n        offset: [0, -2],\n    },\n    disabled: false,\n    disabledHours: undefined,\n    disabledMinutes: undefined,\n    disabledSeconds: undefined,\n    hideDisabledOptions: false,\n    placement: 'bottomLeft',\n    transitionName: 'slide-up',\n    focusOnOpen: true,\n};\n"]}