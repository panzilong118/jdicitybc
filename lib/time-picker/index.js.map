{"version":3,"sources":["../../components/time-picker/index.js"],"names":["generateShowHourMinuteSecond","React","moment","format","showHour","indexOf","showMinute","showSecond","TimePicker","props","value","defaultValue","state","nextProps","setState","timePickerRef","focus","blur","use12Hours","renderTimePicker","Component","handleChange","onChange","handleOpenClose","open","onOpenChange","saveTimePicker","locale","getDefaultFormat","className","prefixCls","size","addon","panel","placeholder","undefined","defaultProps","align","offset","disabled","disabledHours","disabledMinutes","disabledSeconds","hideDisabledOptions","placement","transitionName","focusOnOpen"],"mappings":"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","file":"index.js","sourcesContent":["import * as React from 'react';\r\nimport * as moment from 'moment';\r\nimport RcTimePicker from 'rc-time-picker/lib/TimePicker';\r\nimport classNames from 'classnames';\r\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\r\nimport defaultLocale from './locale/en_US';\r\nimport interopDefault from '../_util/interopDefault';\r\n\r\n// 显示的时间格式\r\nexport function generateShowHourMinuteSecond(format) {\r\n    // Ref: http://momentjs.com/docs/#/parsing/string-format/\r\n    return {\r\n        showHour: (\r\n            format.indexOf('H') > -1 ||\r\n            format.indexOf('h') > -1 ||\r\n            format.indexOf('k') > -1\r\n        ),\r\n        showMinute: format.indexOf('m') > -1,\r\n        showSecond: format.indexOf('s') > -1,\r\n    };\r\n}\r\n\r\nexport default class TimePicker extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const value = props.value || props.defaultValue;\r\n        // if (value && !interopDefault(moment).isMoment(value)) {\r\n        //     throw new Error('The value/defaultValue of TimePicker must be a moment object after `antd@2.0`, ' +\r\n        //         'see: https://u.ant.design/time-picker-value', );\r\n        // }\r\n        this.state = {\r\n            value,\r\n        };\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if ('value' in nextProps) {\r\n            this.setState({ value: nextProps.value });\r\n        }\r\n    }\r\n    handleChange = (value) => {\r\n        if (!('value' in this.props)) {\r\n            this.setState({ value });\r\n        }\r\n        const { onChange, format = 'HH:mm:ss' } = this.props;\r\n        if (onChange) {\r\n            onChange(value, (value && value.format(format)) || '');\r\n        }\r\n    }\r\n    handleOpenClose = ({ open }) => {\r\n        const { onOpenChange } = this.props;\r\n        if (onOpenChange) {\r\n            onOpenChange(open);\r\n        }\r\n    }\r\n    saveTimePicker = (timePickerRef) => {\r\n        this.timePickerRef = timePickerRef;\r\n    }\r\n    focus() {\r\n        this.timePickerRef.focus();\r\n    }\r\n    blur() {\r\n        this.timePickerRef.blur();\r\n    }\r\n    getDefaultFormat() {\r\n        const { format, use12Hours } = this.props;\r\n        if (format) {\r\n            return format;\r\n        } else if (use12Hours) {\r\n            return 'h:mm:ss a';\r\n        }\r\n        return 'HH:mm:ss';\r\n    }\r\n    renderTimePicker = (locale) => {\r\n        const props = {\r\n            ...this.props,\r\n        };\r\n        delete props.defaultValue;\r\n\r\n        const format = this.getDefaultFormat();\r\n        const className = classNames(props.className, {\r\n            [`${props.prefixCls}-${props.size}`]: !!props.size,\r\n        });\r\n\r\n        const addon = panel => (\r\n            props.addon ? (\r\n                <div className={`${props.prefixCls}-panel-addon`\r\n                }\r\n                >\r\n                    {\r\n                        props.addon(panel)\r\n                    }\r\n                </div>\r\n            ) :\r\n                null\r\n        );\r\n        return (\r\n            <RcTimePicker\r\n                {...generateShowHourMinuteSecond(format)}\r\n                {...props}\r\n                ref={this.saveTimePicker}\r\n                format={format}\r\n                className={className}\r\n                value={this.state.value}\r\n                placeholder={props.placeholder === undefined ? locale.placeholder : props.placeholder}\r\n                onChange={this.handleChange}\r\n                onOpen={this.handleOpenClose}\r\n                onClose={this.handleOpenClose}\r\n                addon={addon}\r\n            />\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <LocaleReceiver\r\n                componentName='TimePicker'\r\n                defaultLocale={defaultLocale}\r\n            >\r\n                {this.renderTimePicker}\r\n            </LocaleReceiver>\r\n        );\r\n    }\r\n}\r\nTimePicker.defaultProps = {\r\n    prefixCls: 'jc-time-picker',\r\n    align: {\r\n        offset: [0, -2],\r\n    },\r\n    disabled: false,\r\n    disabledHours: undefined,\r\n    disabledMinutes: undefined,\r\n    disabledSeconds: undefined,\r\n    hideDisabledOptions: false,\r\n    placement: 'bottomLeft',\r\n    transitionName: 'slide-up',\r\n    focusOnOpen: true,\r\n};\r\n"]}