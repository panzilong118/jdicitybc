{"version":3,"sources":["../../components/radio/group.js"],"names":["getCheckedValue","children","value","matched","Children","forEach","radio","props","checked","valueAssist","undefined","RadioGroup","valueAssistSecord","defaultValue","checkedValue","state","radioGroup","onChange","onRadioChange","disabled","name","nextProps","setState","nextState","options","size","prefixCls","className","classString","length","map","option","label","style","onMouseEnter","onMouseLeave","id","Component","defaultProps","propTypes","any","func","string","node","bool","childContextTypes","ev","lastValue","target"],"mappings":"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","file":"group.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport Radio from './radio';\n\nfunction getCheckedValue(children) {\n    let value = null;\n    let matched = false;\n    React.Children.forEach(children, (radio) => {\n        if (radio && radio.props && radio.props.checked) {\n            const valueAssist = radio.props.value;\n            value = valueAssist;\n            matched = true;\n        }\n    });\n    return matched ? { value } : undefined;\n}\n\nexport default class RadioGroup extends React.Component {\n    static defaultProps = {\n        disabled: false,\n    };\n\n    static propTypes = {\n        defaultValue: PropTypes.any,\n        value: PropTypes.any,\n        onChange: PropTypes.func,\n        // size: PropTypes.oneOf(['large', 'default', 'small']),\n        // onMouseEnter: React.MouseEventHandler,\n        // onMouseLeave: React.MouseEventHandler,\n        name: PropTypes.string,\n        children: PropTypes.node,\n        // id: PropTypes.string,\n        disabled: PropTypes.bool,\n    };\n\n  static childContextTypes = {\n      radioGroup: PropTypes.any,\n  };\n\n  constructor(props) {\n      super(props);\n      let value;\n      if ('value' in props) {\n          const valueAssistSecord = props.value;\n          value = valueAssistSecord;\n      } else if ('defaultValue' in props) {\n          value = props.defaultValue;\n      } else {\n          const checkedValue = getCheckedValue(props.children);\n          value = checkedValue && checkedValue.value;\n      }\n      this.state = {\n          value,\n      };\n  }\n\n  getChildContext() {\n      return {\n          radioGroup: {\n              onChange: this.onRadioChange,\n              value: this.state.value,\n              disabled: this.props.disabled,\n              name: this.props.name,\n          },\n      };\n  }\n\n  componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n          this.setState({\n              value: nextProps.value,\n          });\n      } else {\n          const checkedValue = getCheckedValue(nextProps.children);\n          if (checkedValue) {\n              this.setState({\n                  value: checkedValue.value,\n              });\n          }\n      }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(this.props, nextProps) ||\n      !shallowEqual(this.state, nextState);\n  }\n\n  onRadioChange = (ev) => {\n      const lastValue = this.state.value;\n      const { value } = ev.target;\n      if (!('value' in this.props)) {\n          this.setState({\n              value,\n          });\n      }\n\n      const { onChange } = this.props;\n      if (onChange && value !== lastValue) {\n          onChange(ev);\n      }\n  }\n  render() {\n      const { props } = this;\n      const { options, size } = props;\n      const prefixCls = props.prefixCls || 'jc-radio-group';\n      const className = props.prefixCls || '';\n      const classString = classNames(prefixCls, {\n          [`${prefixCls}-${size}`]: size,\n      }, className);\n\n      let { children } = props;\n\n      // 如果存在 options, 优先使用\n      if (options && options.length > 0) {\n          children = options.map((option) => {\n              if (typeof option === 'string') { // 此处类型自动推导为 string\n                  return (\n                      <Radio\n                          key={option.value} // key值原取为{index},ESLint校验key值不可以为index\n                          disabled={this.props.disabled}\n                          value={option}\n                          onChange={this.onRadioChange}\n                          checked={this.state.value === option}\n                      >\n                          {option}\n                      </Radio>\n                  );\n              } // 此处类型自动推导为 { label: string value: string }\n              return (\n                  <Radio\n                      key={option.value}\n                      disabled={option.disabled || this.props.disabled}\n                      value={option.value}\n                      onChange={this.onRadioChange}\n                      checked={this.state.value === option.value}\n                  >\n                      {option.label}\n                  </Radio>\n              );\n          });\n      }\n\n      return (\n          <div\n              className={classString}\n              style={props.style}\n              onMouseEnter={props.onMouseEnter}\n              onMouseLeave={props.onMouseLeave}\n              id={props.id}\n          >\n              {children}\n          </div>\n      );\n  }\n}\n\n"]}