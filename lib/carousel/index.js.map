{"version":3,"sources":["../../components/carousel/index.js"],"names":["React","window","matchMediaPolyfill","mediaQuery","media","matches","addListener","removeListener","matchMedia","SlickCarousel","require","default","Carousel","props","onWindowResized","autoplay","slick","innerSlider","autoPlay","saveSlick","node","leading","addEventListener","removeEventListener","cancel","slickNext","slickPrev","slide","slickGoTo","effect","fade","className","prefixCls","vertical","Component","defaultProps","dots","arrows","draggable"],"mappings":";;;;;;;;;;;AAAA;;IAAYA,K;;AACZ;;;;;;;;;;;;;;AAEA;AACA;AACA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,MAAMC,qBAAqB,SAArBA,kBAAqB,CAACC,UAAD,EAAgB;AACzC,WAAO;AACLC,aAAOD,UADF;AAELE,eAAS,KAFJ;AAGLC,iBAHK,yBAGS,CACb,CAJI;AAKLC,oBALK,4BAKY,CAChB;AANI,KAAP;AAQD,GATD;AAUAN,SAAOO,UAAP,GAAoBP,OAAOO,UAAP,IAAqBN,kBAAzC;AACD;AACD;AACA;AACA;AACA;AACA,IAAMO,gBAAgBC,QAAQ,aAAR,EAAuBC,OAA7C;;IAEqBC,Q;;;AAQnB,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,oHACXA,KADW;;AAAA,UA0BnBC,eA1BmB,GA0BD,YAAM;AACtB;AADsB,UAEdC,QAFc,GAED,MAAKF,KAFJ,CAEdE,QAFc;;AAGtB,UAAIA,YAAY,MAAKC,KAAjB,IAA0B,MAAKA,KAAL,CAAWC,WAArC,IAAoD,MAAKD,KAAL,CAAWC,WAAX,CAAuBC,QAA/E,EAAyF;AACvF,cAAKF,KAAL,CAAWC,WAAX,CAAuBC,QAAvB;AACD;AACF,KAhCkB;;AAAA,UAkCnBC,SAlCmB,GAkCP,UAACC,IAAD,EAAU;AACpB,YAAKJ,KAAL,GAAaI,IAAb;AACD,KApCkB;;AAEjB,UAAKN,eAAL,GAAuB,wBAAS,MAAKA,eAAd,EAA+B,GAA/B,EAAoC;AACzDO,eAAS;AADgD,KAApC,CAAvB;AAGA,UAAKJ,WAAL,GAAmB,EAAnB;AACA,UAAKD,KAAL,GAAa,EAAb;AANiB;AAOlB;;;;wCAEmB;AAAA,UACVD,QADU,GACG,KAAKF,KADR,CACVE,QADU;;AAElB,UAAIA,QAAJ,EAAc;AACZd,eAAOqB,gBAAP,CAAwB,QAAxB,EAAkC,KAAKR,eAAvC;AACD;AACD;AACA,WAAKG,WAAL,GAAmB,KAAKD,KAAL,IAAc,KAAKA,KAAL,CAAWC,WAA5C;AACD;;;2CAEsB;AAAA,UACbF,QADa,GACA,KAAKF,KADL,CACbE,QADa;;AAErB,UAAIA,QAAJ,EAAc;AACZd,eAAOsB,mBAAP,CAA2B,QAA3B,EAAqC,KAAKT,eAA1C;AACC,aAAKA,eAAN,CAAuBU,MAAvB;AACD;AACF;;;2BAcM;AACL,WAAKR,KAAL,CAAWS,SAAX;AACD;;;2BAEM;AACL,WAAKT,KAAL,CAAWU,SAAX;AACD;;;yBAEIC,K,EAAO;AACV,WAAKX,KAAL,CAAWY,SAAX,CAAqBD,KAArB;AACD;;;6BAEQ;AACP,UAAId,qBACC,KAAKA,KADN,CAAJ;;AAIA,UAAIA,MAAMgB,MAAN,KAAiB,MAArB,EAA6B;AAC3BhB,cAAMiB,IAAN,GAAa,IAAb;AACD;;AAED,UAAIC,YAAYlB,MAAMmB,SAAtB;AACA,UAAInB,MAAMoB,QAAV,EAAoB;AAClBF,oBAAeA,SAAf,SAA4BA,SAA5B;AACD;;AAED,aACE;AAAA;AAAA,UAAK,WAAWA,SAAhB;AACE,4BAAC,aAAD,aAAe,KAAK,KAAKZ,SAAzB,IAAwCN,KAAxC;AADF,OADF;AAKD;;;;EA7EmCb,MAAMkC,S;;AAAvBtB,Q,CACZuB,Y,GAAe;AACpBC,QAAM,IADc;AAEpBC,UAAQ,KAFY;AAGpBL,aAAW,aAHS;AAIpBM,aAAW;AAJS,C;kBADH1B,Q","file":"index.js","sourcesContent":["import * as React from 'react';\nimport debounce from 'lodash/debounce';\n\n// matchMedia polyfill for\n// https://github.com/WickyNilliams/enquire.js/issues/82\nif (typeof window !== 'undefined') {\n  const matchMediaPolyfill = (mediaQuery) => {\n    return {\n      media: mediaQuery,\n      matches: false,\n      addListener() {\n      },\n      removeListener() {\n      },\n    };\n  };\n  window.matchMedia = window.matchMedia || matchMediaPolyfill;\n}\n// Use require over import (will be lifted up)\n// make sure matchMedia polyfill run before require('react-slick')\n// Fix https://github.com/ant-design/ant-design/issues/6560\n// Fix https://github.com/ant-design/ant-design/issues/3308\nconst SlickCarousel = require('react-slick').default;\n\nexport default class Carousel extends React.Component {\n  static defaultProps = {\n    dots: true,\n    arrows: false,\n    prefixCls: 'jc-carousel',\n    draggable: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.onWindowResized = debounce(this.onWindowResized, 500, {\n      leading: false,\n    });\n    this.innerSlider = {};\n    this.slick = {};\n  }\n\n  componentDidMount() {\n    const { autoplay } = this.props;\n    if (autoplay) {\n      window.addEventListener('resize', this.onWindowResized);\n    }\n    // https://github.com/ant-design/ant-design/issues/7191\n    this.innerSlider = this.slick && this.slick.innerSlider;\n  }\n\n  componentWillUnmount() {\n    const { autoplay } = this.props;\n    if (autoplay) {\n      window.removeEventListener('resize', this.onWindowResized);\n      (this.onWindowResized).cancel();\n    }\n  }\n\n  onWindowResized = () => {\n    // Fix https://github.com/ant-design/ant-design/issues/2550\n    const { autoplay } = this.props;\n    if (autoplay && this.slick && this.slick.innerSlider && this.slick.innerSlider.autoPlay) {\n      this.slick.innerSlider.autoPlay();\n    }\n  }\n\n  saveSlick = (node) => {\n    this.slick = node;\n  }\n\n  next() {\n    this.slick.slickNext();\n  }\n\n  prev() {\n    this.slick.slickPrev();\n  }\n\n  goTo(slide) {\n    this.slick.slickGoTo(slide);\n  }\n\n  render() {\n    let props = {\n      ...this.props,\n    };\n\n    if (props.effect === 'fade') {\n      props.fade = true;\n    }\n\n    let className = props.prefixCls;\n    if (props.vertical) {\n      className = `${className} ${className}-vertical`;\n    }\n\n    return (\n      <div className={className}>\n        <SlickCarousel ref={this.saveSlick} {...props} />\n      </div>\n    );\n  }\n}\n"]}