{"version":3,"sources":["../../components/carousel/index.js"],"names":["React","window","matchMediaPolyfill","mediaQuery","media","matches","addListener","removeListener","matchMedia","SlickCarousel","require","default","Carousel","props","onWindowResized","autoplay","slick","innerSlider","autoPlay","saveSlick","node","leading","addEventListener","removeEventListener","cancel","slickNext","slickPrev","slide","slickGoTo","effect","fade","className","prefixCls","vertical","Component","defaultProps","dots","arrows","draggable"],"mappings":";;;;;;;;;;;AAAA;;IAAYA,K;;AACZ;;;;;;;;;;;;;;AAEA;AACA;AACA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,MAAMC,qBAAqB,SAArBA,kBAAqB,CAACC,UAAD,EAAgB;AACzC,WAAO;AACLC,aAAOD,UADF;AAELE,eAAS,KAFJ;AAGLC,iBAHK,yBAGS,CACb,CAJI;AAKLC,oBALK,4BAKY,CAChB;AANI,KAAP;AAQD,GATD;AAUAN,SAAOO,UAAP,GAAoBP,OAAOO,UAAP,IAAqBN,kBAAzC;AACD;AACD;AACA;AACA;AACA;AACA,IAAMO,gBAAgBC,QAAQ,aAAR,EAAuBC,OAA7C;;IAEqBC,Q;;;AAQnB,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,oHACXA,KADW;;AAAA,UA0BnBC,eA1BmB,GA0BD,YAAM;AACtB;AADsB,UAEdC,QAFc,GAED,MAAKF,KAFJ,CAEdE,QAFc;;AAGtB,UAAIA,YAAY,MAAKC,KAAjB,IAA0B,MAAKA,KAAL,CAAWC,WAArC,IAAoD,MAAKD,KAAL,CAAWC,WAAX,CAAuBC,QAA/E,EAAyF;AACvF,cAAKF,KAAL,CAAWC,WAAX,CAAuBC,QAAvB;AACD;AACF,KAhCkB;;AAAA,UAkCnBC,SAlCmB,GAkCP,UAACC,IAAD,EAAU;AACpB,YAAKJ,KAAL,GAAaI,IAAb;AACD,KApCkB;;AAEjB,UAAKN,eAAL,GAAuB,wBAAS,MAAKA,eAAd,EAA+B,GAA/B,EAAoC;AACzDO,eAAS;AADgD,KAApC,CAAvB;AAGA,UAAKJ,WAAL,GAAmB,EAAnB;AACA,UAAKD,KAAL,GAAa,EAAb;AANiB;AAOlB;;;;wCAEmB;AAAA,UACVD,QADU,GACG,KAAKF,KADR,CACVE,QADU;;AAElB,UAAIA,QAAJ,EAAc;AACZd,eAAOqB,gBAAP,CAAwB,QAAxB,EAAkC,KAAKR,eAAvC;AACD;AACD;AACA,WAAKG,WAAL,GAAmB,KAAKD,KAAL,IAAc,KAAKA,KAAL,CAAWC,WAA5C;AACD;;;2CAEsB;AAAA,UACbF,QADa,GACA,KAAKF,KADL,CACbE,QADa;;AAErB,UAAIA,QAAJ,EAAc;AACZd,eAAOsB,mBAAP,CAA2B,QAA3B,EAAqC,KAAKT,eAA1C;AACC,aAAKA,eAAN,CAAuBU,MAAvB;AACD;AACF;;;2BAcM;AACL,WAAKR,KAAL,CAAWS,SAAX;AACD;;;2BAEM;AACL,WAAKT,KAAL,CAAWU,SAAX;AACD;;;yBAEIC,K,EAAO;AACV,WAAKX,KAAL,CAAWY,SAAX,CAAqBD,KAArB;AACD;;;6BAEQ;AACP,UAAId,qBACC,KAAKA,KADN,CAAJ;;AAIA,UAAIA,MAAMgB,MAAN,KAAiB,MAArB,EAA6B;AAC3BhB,cAAMiB,IAAN,GAAa,IAAb;AACD;;AAED,UAAIC,YAAYlB,MAAMmB,SAAtB;AACA,UAAInB,MAAMoB,QAAV,EAAoB;AAClBF,oBAAeA,SAAf,SAA4BA,SAA5B;AACD;;AAED,aACE;AAAA;AAAA,UAAK,WAAWA,SAAhB;AACE,4BAAC,aAAD,aAAe,KAAK,KAAKZ,SAAzB,IAAwCN,KAAxC;AADF,OADF;AAKD;;;;EA7EmCb,MAAMkC,S;;AAAvBtB,Q,CACZuB,Y,GAAe;AACpBC,QAAM,IADc;AAEpBC,UAAQ,KAFY;AAGpBL,aAAW,aAHS;AAIpBM,aAAW;AAJS,C;kBADH1B,Q","file":"index.js","sourcesContent":["import * as React from 'react';\r\nimport debounce from 'lodash/debounce';\r\n\r\n// matchMedia polyfill for\r\n// https://github.com/WickyNilliams/enquire.js/issues/82\r\nif (typeof window !== 'undefined') {\r\n  const matchMediaPolyfill = (mediaQuery) => {\r\n    return {\r\n      media: mediaQuery,\r\n      matches: false,\r\n      addListener() {\r\n      },\r\n      removeListener() {\r\n      },\r\n    };\r\n  };\r\n  window.matchMedia = window.matchMedia || matchMediaPolyfill;\r\n}\r\n// Use require over import (will be lifted up)\r\n// make sure matchMedia polyfill run before require('react-slick')\r\n// Fix https://github.com/ant-design/ant-design/issues/6560\r\n// Fix https://github.com/ant-design/ant-design/issues/3308\r\nconst SlickCarousel = require('react-slick').default;\r\n\r\nexport default class Carousel extends React.Component {\r\n  static defaultProps = {\r\n    dots: true,\r\n    arrows: false,\r\n    prefixCls: 'jc-carousel',\r\n    draggable: false,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onWindowResized = debounce(this.onWindowResized, 500, {\r\n      leading: false,\r\n    });\r\n    this.innerSlider = {};\r\n    this.slick = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { autoplay } = this.props;\r\n    if (autoplay) {\r\n      window.addEventListener('resize', this.onWindowResized);\r\n    }\r\n    // https://github.com/ant-design/ant-design/issues/7191\r\n    this.innerSlider = this.slick && this.slick.innerSlider;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { autoplay } = this.props;\r\n    if (autoplay) {\r\n      window.removeEventListener('resize', this.onWindowResized);\r\n      (this.onWindowResized).cancel();\r\n    }\r\n  }\r\n\r\n  onWindowResized = () => {\r\n    // Fix https://github.com/ant-design/ant-design/issues/2550\r\n    const { autoplay } = this.props;\r\n    if (autoplay && this.slick && this.slick.innerSlider && this.slick.innerSlider.autoPlay) {\r\n      this.slick.innerSlider.autoPlay();\r\n    }\r\n  }\r\n\r\n  saveSlick = (node) => {\r\n    this.slick = node;\r\n  }\r\n\r\n  next() {\r\n    this.slick.slickNext();\r\n  }\r\n\r\n  prev() {\r\n    this.slick.slickPrev();\r\n  }\r\n\r\n  goTo(slide) {\r\n    this.slick.slickGoTo(slide);\r\n  }\r\n\r\n  render() {\r\n    let props = {\r\n      ...this.props,\r\n    };\r\n\r\n    if (props.effect === 'fade') {\r\n      props.fade = true;\r\n    }\r\n\r\n    let className = props.prefixCls;\r\n    if (props.vertical) {\r\n      className = `${className} ${className}-vertical`;\r\n    }\r\n\r\n    return (\r\n      <div className={className}>\r\n        <SlickCarousel ref={this.saveSlick} {...props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}