{"version":3,"sources":["../../components/layout/BasicLayout.js"],"names":["BasicLayout","props","state","siderNum","siderHandler","plus","setState","prevState","minus","prefixCls","className","hasSider","others","divCls","children","Component","defaultProps","propTypes","string","bool","childContextTypes","object"],"mappings":";;;;;;;;;;;AAIA;;;;AAEA;;;;AAEA;;;;;;;;;;;;;;+eARA;;;;;;IAUqBA,W;;;AAOjB;AAUA,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8HACTA,KADS;;AAEf,cAAKC,KAAL,GAAa;AACTC,sBAAU,CADD,CACG;AADH,SAAb;AAFe;AAKlB;AACD;;;;;;;AAVA;;AAZA;;;;;0CA4BkB;AAAA;;AACd,mBAAO;AACH;AACAC,8BAAc;AACV;AACAC,0BAAM,gBAAM;AACR,+BAAKC,QAAL,CAAc,UAACC,SAAD,EAAe;AACzB,mCAAO;AACHJ,0CAAUI,UAAUJ,QAAV,GAAqB;AAD5B,6BAAP;AAGH,yBAJD;AAKH,qBARS;AASV;AACAK,2BAAO,iBAAM;AACT,+BAAKF,QAAL,CAAc,UAACC,SAAD,EAAe;AACzB,mCAAO;AACHJ,0CAAUI,UAAUJ,QAAV,GAAqB;AAD5B,6BAAP;AAGH,yBAJD;AAKH;AAhBS;AAFX,aAAP;AAqBH;;;iCACQ;AAAA,yBACiD,KAAKF,KADtD;AAAA,gBACGQ,SADH,UACGA,SADH;AAAA,gBACcC,SADd,UACcA,SADd;AAAA,gBACyBC,QADzB,UACyBA,QADzB;AAAA,gBACsCC,MADtC;;AAEL,gBAAMC,SAAS,0BAAWH,SAAX,EAAsBD,SAAtB,sBACPA,SADO,iBACiBE,YAAY,KAAKT,KAAL,CAAWC,QAAX,GAAsB,CADnD,EAAf;AAGA,mBACI;AAAA;AAAA,2BAAK,WAAWU,MAAhB,IAA4BD,MAA5B;AAAqC,qBAAKX,KAAL,CAAWa;AAAhD,aADJ;AAGH;;;;EA5DoC,gBAAMC,S;;AAA1Bf,W,CAEVgB,Y,GAAe;AAClBP,eAAW,WADO,EACM;AACxBC,eAAW,EAFO;AAGlBC,cAAU,KAHQ,CAGF;AAHE,C;AAFLX,W,CAQViB,S,GAAY;AACfR,eAAW,oBAAUS,MADN;AAEfR,eAAW,oBAAUQ,MAFN;AAGfP,cAAU,oBAAUQ;AAHL,C;AARFnB,W,CAcVoB,iB,GAAoB;AACvBhB,kBAAc,oBAAUiB;AADD,C;kBAdVrB,W","file":"BasicLayout.js","sourcesContent":["/**\n * @file 为Layout提供基础组件组件服务\n * @author chenyanhua\n */\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport classNames from 'classnames';\n\nexport default class BasicLayout extends React.Component {\n    // 默认props\n    static defaultProps = {\n        prefixCls: 'jc-layout', // class前缀\n        className: '',\n        hasSider: false // 是否有Sider子组件\n    };\n    // props 类型\n    static propTypes = {\n        prefixCls: PropTypes.string,\n        className: PropTypes.string,\n        hasSider: PropTypes.bool\n    };\n    // 向Sider子元素传递参数\n    static childContextTypes = {\n        siderHandler: PropTypes.object\n    };\n    constructor(props) {\n        super(props);\n        this.state = {\n            siderNum: 0 // 记录子组件Sider数量\n        };\n    }\n    /**\n     * 向子组件传递参数\n     * @return {object} returnObj.siderHandler 包含计算子组件Sider个数的函数\n     * @variable {function} plus  : 子组件个数加1\n     * @variable {function} minus : 子组件个数减1\n     */\n    getChildContext() {\n        return {\n            // 计算子组件Sider个数\n            siderHandler: {\n                // Sider个数 +1\n                plus: () => {\n                    this.setState((prevState) => {\n                        return {\n                            siderNum: prevState.siderNum + 1\n                        };\n                    });\n                },\n                // Sider个数 -1\n                minus: () => {\n                    this.setState((prevState) => {\n                        return {\n                            siderNum: prevState.siderNum - 1\n                        };\n                    });\n                }\n            }\n        };\n    }\n    render() {\n        const { prefixCls, className, hasSider, ...others } = this.props;\n        const divCls = classNames(className, prefixCls, {\n            [`${prefixCls}-has-sider`]: hasSider || this.state.siderNum > 0\n        });\n        return (\n            <div className={divCls} {...others}>{this.props.children}</div>\n        );\n    }\n}\n"]}