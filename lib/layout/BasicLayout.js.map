{"version":3,"sources":["../../components/layout/BasicLayout.js"],"names":["BasicLayout","props","state","siderNum","siderHandler","plus","setState","prevState","minus","prefixCls","className","hasSider","others","divCls","children","Component","defaultProps","propTypes","string","bool","childContextTypes","object"],"mappings":";;;;;;;;;;;AAIA;;;;AAEA;;;;AAEA;;;;;;;;;;;;;;+eARA;;;;;;IAUqBA,W;;;AAOjB;AAUA,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8HACTA,KADS;;AAEf,cAAKC,KAAL,GAAa;AACTC,sBAAU,CADD,CACG;AADH,SAAb;AAFe;AAKlB;AACD;;;;;;;AAVA;;AAZA;;;;;0CA4BkB;AAAA;;AACd,mBAAO;AACH;AACAC,8BAAc;AACV;AACAC,0BAAM,gBAAM;AACR,+BAAKC,QAAL,CAAc,UAACC,SAAD,EAAe;AACzB,mCAAO;AACHJ,0CAAUI,UAAUJ,QAAV,GAAqB;AAD5B,6BAAP;AAGH,yBAJD;AAKH,qBARS;AASV;AACAK,2BAAO,iBAAM;AACT,+BAAKF,QAAL,CAAc,UAACC,SAAD,EAAe;AACzB,mCAAO;AACHJ,0CAAUI,UAAUJ,QAAV,GAAqB;AAD5B,6BAAP;AAGH,yBAJD;AAKH;AAhBS;AAFX,aAAP;AAqBH;;;iCACQ;AAAA,yBACiD,KAAKF,KADtD;AAAA,gBACGQ,SADH,UACGA,SADH;AAAA,gBACcC,SADd,UACcA,SADd;AAAA,gBACyBC,QADzB,UACyBA,QADzB;AAAA,gBACsCC,MADtC;;AAEL,gBAAMC,SAAS,0BAAWH,SAAX,EAAsBD,SAAtB,sBACPA,SADO,iBACiBE,YAAY,KAAKT,KAAL,CAAWC,QAAX,GAAsB,CADnD,EAAf;AAGA,mBACI;AAAA;AAAA,2BAAK,WAAWU,MAAhB,IAA4BD,MAA5B;AAAqC,qBAAKX,KAAL,CAAWa;AAAhD,aADJ;AAGH;;;;EA5DoC,gBAAMC,S;;AAA1Bf,W,CAEVgB,Y,GAAe;AAClBP,eAAW,WADO,EACM;AACxBC,eAAW,EAFO;AAGlBC,cAAU,KAHQ,CAGF;AAHE,C;AAFLX,W,CAQViB,S,GAAY;AACfR,eAAW,oBAAUS,MADN;AAEfR,eAAW,oBAAUQ,MAFN;AAGfP,cAAU,oBAAUQ;AAHL,C;AARFnB,W,CAcVoB,iB,GAAoB;AACvBhB,kBAAc,oBAAUiB;AADD,C;kBAdVrB,W","file":"BasicLayout.js","sourcesContent":["/**\r\n * @file 为Layout提供基础组件组件服务\r\n * @author chenyanhua\r\n */\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport classNames from 'classnames';\r\n\r\nexport default class BasicLayout extends React.Component {\r\n    // 默认props\r\n    static defaultProps = {\r\n        prefixCls: 'jc-layout', // class前缀\r\n        className: '',\r\n        hasSider: false // 是否有Sider子组件\r\n    };\r\n    // props 类型\r\n    static propTypes = {\r\n        prefixCls: PropTypes.string,\r\n        className: PropTypes.string,\r\n        hasSider: PropTypes.bool\r\n    };\r\n    // 向Sider子元素传递参数\r\n    static childContextTypes = {\r\n        siderHandler: PropTypes.object\r\n    };\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            siderNum: 0 // 记录子组件Sider数量\r\n        };\r\n    }\r\n    /**\r\n     * 向子组件传递参数\r\n     * @return {object} returnObj.siderHandler 包含计算子组件Sider个数的函数\r\n     * @variable {function} plus  : 子组件个数加1\r\n     * @variable {function} minus : 子组件个数减1\r\n     */\r\n    getChildContext() {\r\n        return {\r\n            // 计算子组件Sider个数\r\n            siderHandler: {\r\n                // Sider个数 +1\r\n                plus: () => {\r\n                    this.setState((prevState) => {\r\n                        return {\r\n                            siderNum: prevState.siderNum + 1\r\n                        };\r\n                    });\r\n                },\r\n                // Sider个数 -1\r\n                minus: () => {\r\n                    this.setState((prevState) => {\r\n                        return {\r\n                            siderNum: prevState.siderNum - 1\r\n                        };\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }\r\n    render() {\r\n        const { prefixCls, className, hasSider, ...others } = this.props;\r\n        const divCls = classNames(className, prefixCls, {\r\n            [`${prefixCls}-has-sider`]: hasSider || this.state.siderNum > 0\r\n        });\r\n        return (\r\n            <div className={divCls} {...others}>{this.props.children}</div>\r\n        );\r\n    }\r\n}\r\n"]}