{"version":3,"sources":["../../components/auto-complete/index.js"],"names":["React","isSelectOptionOrSelectOptGroup","child","type","isSelectOption","isSelectOptGroup","AutoComplete","props","getInputElement","children","element","isValidElement","Children","only","elementProps","saveSelect","node","select","focus","blur","size","className","notFoundContent","prefixCls","optionLabelProp","dataSource","cls","options","childArray","toArray","length","map","item","value","text","Error","Component","Option","OptGroup","defaultProps","transitionName","choiceTransitionName","showSearch","filterOption"],"mappings":"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","file":"index.js","sourcesContent":["import * as React from 'react';\r\nimport { Option, OptGroup } from 'rc-select';\r\nimport classNames from 'classnames';\r\nimport Select, { AbstractSelectProps, SelectValue, OptionProps, OptGroupProps } from '../select';\r\nimport Input from '../input';\r\nimport InputElement from './InputElement';\r\n\r\nfunction isSelectOptionOrSelectOptGroup(child) {\r\n  return child && child.type && (child.type.isSelectOption || child.type.isSelectOptGroup);\r\n}\r\n\r\nexport default class AutoComplete extends React.Component {\r\n\r\n  constructor(props) {\r\n      super(props);\r\n      this.select = {};\r\n  }\r\n\r\n  static Option = Option;\r\n  static OptGroup = OptGroup;\r\n\r\n  static defaultProps = {\r\n    prefixCls: 'jc-select',\r\n    transitionName: 'slide-up',\r\n    optionLabelProp: 'children',\r\n    choiceTransitionName: 'zoom',\r\n    showSearch: false,\r\n    filterOption: false,\r\n  };\r\n\r\n  getInputElement = () => {\r\n    const { children } = this.props;\r\n    const element = children && React.isValidElement(children) && children.type !== Option ?\r\n      React.Children.only(this.props.children) : <Input />;\r\n    const elementProps = { ...element.props };\r\n    // https://github.com/ant-design/ant-design/pull/7742\r\n    delete elementProps.children;\r\n    return (\r\n      <InputElement {...elementProps}>{element}</InputElement>\r\n    );\r\n  }\r\n\r\n  focus() {\r\n    this.select.focus();\r\n  }\r\n\r\n  blur() {\r\n    this.select.blur();\r\n  }\r\n\r\n  saveSelect = (node) => {\r\n    this.select = node;\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      size, className = '', notFoundContent, prefixCls, optionLabelProp, dataSource, children,\r\n    } = this.props;\r\n\r\n    const cls = classNames({\r\n      [`${prefixCls}-lg`]: size === 'large',\r\n      [`${prefixCls}-sm`]: size === 'small',\r\n      [className]: !!className,\r\n      [`${prefixCls}-show-search`]: true,\r\n      [`${prefixCls}-auto-complete`]: true,\r\n    });\r\n\r\n    let options;\r\n    const childArray = React.Children.toArray(children);\r\n    if (childArray.length &&\r\n        isSelectOptionOrSelectOptGroup(childArray[0])\r\n      ) {\r\n      options = children;\r\n    } else {\r\n      options = dataSource ? dataSource.map((item) => {\r\n        if (React.isValidElement(item)) {\r\n          return item;\r\n        }\r\n        switch (typeof item) {\r\n          case 'string':\r\n            return <Option key={item}>{item}</Option>;\r\n          case 'object':\r\n            return (\r\n              <Option key={item.value}>\r\n                {item.text}\r\n              </Option>\r\n            );\r\n          default:\r\n            throw new Error('AutoComplete[dataSource] only supports type `string[] | Object[]`.');\r\n        }\r\n      }) : [];\r\n    }\r\n\r\n    return (\r\n      <Select\r\n        {...this.props}\r\n        className={cls}\r\n        mode=\"combobox\"\r\n        optionLabelProp={optionLabelProp}\r\n        getInputElement={this.getInputElement}\r\n        notFoundContent={notFoundContent}\r\n        ref={this.saveSelect}\r\n      >\r\n        {options}\r\n      </Select>\r\n    );\r\n  }\r\n}\r\n"]}