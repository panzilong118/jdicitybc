{"version":3,"sources":["../../components/upload/utils.js"],"names":["T","fileToObject","genPercentAdd","getFileItem","removeFileItem","file","lastModified","lastModifiedDate","name","size","type","percent","uid","originFileObj","k","i","end","s","start","fileList","matchKey","undefined","filter","item","removed","length"],"mappings":";;;;;QAEgBA,C,GAAAA,C;QAMAC,Y,GAAAA,Y;QAiBAC,a,GAAAA,a;QAmBAC,W,GAAAA,W;QAKAC,c,GAAAA,c;AAjDhB;;AAEO,SAASJ,CAAT,GAAa;AAClB,SAAO,IAAP;AACD;;AAED;AACA;AACO,SAASC,YAAT,CAAsBI,IAAtB,EAA4B;AACjC,SAAO;AACLC,kBAAcD,KAAKC,YADd;AAELC,sBAAkBF,KAAKE,gBAFlB;AAGLC,UAAMH,KAAKG,IAHN;AAILC,UAAMJ,KAAKI,IAJN;AAKLC,UAAML,KAAKK,IALN;AAMLC,aAAS,CANJ;AAOLC,SAAKP,KAAKO,GAPL;AAQLC,mBAAeR;AARV,GAAP;AAUD;;AAED;;;;AAIO,SAASH,aAAT,GAAyB;AAC9B,MAAIY,IAAI,GAAR;AACA,MAAMC,IAAI,IAAV;AACA,MAAMC,MAAM,IAAZ;AACA,SAAO,UAAUC,CAAV,EAAa;AAClB,QAAIC,QAAQD,CAAZ;AACA,QAAIC,SAASF,GAAb,EAAkB;AAChB,aAAOE,KAAP;AACD;;AAEDA,aAASJ,CAAT;AACAA,QAAIA,IAAIC,CAAR;AACA,QAAID,IAAI,KAAR,EAAe;AACbA,UAAI,KAAJ;AACD;AACD,WAAOI,QAAQ,GAAf;AACD,GAZD;AAaD;;AAEM,SAASf,WAAT,CAAqBE,IAArB,EAA2Bc,QAA3B,EAAqC;AAC1C,MAAMC,WAAWf,KAAKO,GAAL,KAAaS,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,SAAOF,SAASG,MAAT,CAAgB;AAAA,WAAQC,KAAKH,QAAL,MAAmBf,KAAKe,QAAL,CAA3B;AAAA,GAAhB,EAA2D,CAA3D,CAAP;AACD;;AAEM,SAAShB,cAAT,CAAwBC,IAAxB,EAA8Bc,QAA9B,EAAwC;AAC7C,MAAMC,WAAWf,KAAKO,GAAL,KAAaS,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,MAAMG,UAAUL,SAASG,MAAT,CAAgB;AAAA,WAAQC,KAAKH,QAAL,MAAmBf,KAAKe,QAAL,CAA3B;AAAA,GAAhB,CAAhB;AACA,MAAII,QAAQC,MAAR,KAAmBN,SAASM,MAAhC,EAAwC;AACtC,WAAO,IAAP;AACD;AACD,SAAOD,OAAP;AACD","file":"utils.js","sourcesContent":["// import { RcFile, UploadFile } from './interface';\n\nexport function T() {\n  return true;\n}\n\n// Fix IE file.status problem\n// via coping a new Object\nexport function fileToObject(file) {\n  return {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    percent: 0,\n    uid: file.uid,\n    originFileObj: file,\n  };\n}\n\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\nexport function genPercentAdd() {\n  let k = 0.1;\n  const i = 0.01;\n  const end = 0.98;\n  return function (s) {\n    let start = s;\n    if (start >= end) {\n      return start;\n    }\n\n    start += k;\n    k = k - i;\n    if (k < 0.001) {\n      k = 0.001;\n    }\n    return start * 100;\n  };\n}\n\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\n\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n"]}