{"version":3,"sources":["../../components/breadcrumb/Breadcrumb.js"],"names":["React","getBreadcrumbName","route","params","breadcrumbName","paramsKeys","Object","keys","join","name","replace","RegExp","replacement","key","defaultItemRender","routes","paths","isLastItem","indexOf","length","Breadcrumb","props","crumbs","separator","prefixCls","style","className","children","itemRender","map","path","forEach","push","Children","element","index","type","__JC_BREADCRUMB_ITEM","Component","defaultProps","propTypes","string","node","array","object"],"mappings":"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","file":"Breadcrumb.js","sourcesContent":["import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { cloneElement } from 'react';\r\nimport warning from '../_util/warning';\r\nimport BreadcrumbItem from './BreadcrumbItem';\r\nimport classNames from 'classnames';\r\n/* 获取面包屑中的文字 */\r\nfunction getBreadcrumbName(route, params) {\r\n    if (!route.breadcrumbName) {\r\n        return null;\r\n    }\r\n    const paramsKeys = Object.keys(params).join('|');\r\n    const name = route.breadcrumbName.replace(\r\n        new RegExp(`:(${paramsKeys})`, 'g'),\r\n        (replacement, key) => params[key] || replacement,\r\n    );\r\n    return name;\r\n}\r\n\r\nfunction defaultItemRender(route, params, routes, paths) {\r\n    const isLastItem = routes.indexOf(route) === routes.length - 1;\r\n    const name = getBreadcrumbName(route, params);\r\n    /* 判断是否是最后一个item，即当前显示的Item，如果不是加a标签可以点击跳转 */\r\n    return isLastItem\r\n        ? <span>{name}</span>\r\n        : <a href={`#/${paths.join('/')}`}>{name}</a>;\r\n}\r\nexport default class Breadcrumb extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        const props = this.props;\r\n        warning(\r\n        !('linkRender' in props || 'nameRender' in props),\r\n        '`linkRender` and `nameRender` are removed, please use `itemRender` instead, ' +\r\n        'see: https://u.ant.design/item-render.',\r\n        );\r\n    }\r\n    render() {\r\n        let crumbs;\r\n        const {separator, prefixCls, style, className, routes, params = {},children, itemRender = defaultItemRender,} = this.props;\r\n        if (routes && routes.length > 0) {\r\n            const paths = [];\r\n            crumbs = routes.map((route) => {\r\n                route.path = route.path || '';\r\n                let path = route.path.replace(/^\\//, '');\r\n                Object.keys(params).forEach((key) => {\r\n                    path = path.replace(`:${key}`, params[key]);\r\n                });\r\n                if (path) {\r\n                    paths.push(path);\r\n                }\r\n                return (\r\n                    <BreadcrumbItem separator={separator} key={route.breadcrumbName || path}>\r\n                        {itemRender(route, params, routes, paths)}\r\n                    </BreadcrumbItem>\r\n                );\r\n            });\r\n        } else if (children) {\r\n            crumbs = React.Children.map(children, (element, index) => {\r\n                if (!element) {\r\n                    return element;\r\n                }\r\n                warning(\r\n                    element.type && element.type.__JC_BREADCRUMB_ITEM,\r\n                    'Breadcrumb only accepts Breadcrumb.Item as it\\'s children',\r\n                );\r\n                return cloneElement(element, {\r\n                    separator,\r\n                    key: index,\r\n                });\r\n            });\r\n        }\r\n        return (\r\n            <div className={classNames(className, prefixCls)} style={style}>\r\n                {crumbs}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nBreadcrumb.defaultProps = {\r\n    prefixCls: 'jc-breadcrumb',\r\n    separator: '/',\r\n};\r\nBreadcrumb.propTypes = {\r\n    prefixCls: PropTypes.string,\r\n    separator: PropTypes.node,\r\n    routes: PropTypes.array,\r\n    params: PropTypes.object,\r\n    // linkRender: PropTypes.func,\r\n    // nameRender: PropTypes.func,\r\n};\r\n"]}