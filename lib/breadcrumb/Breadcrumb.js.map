{"version":3,"sources":["../../components/breadcrumb/Breadcrumb.js"],"names":["React","getBreadcrumbName","route","params","breadcrumbName","paramsKeys","Object","keys","join","name","replace","RegExp","replacement","key","defaultItemRender","routes","paths","isLastItem","indexOf","length","Breadcrumb","props","crumbs","separator","prefixCls","style","className","children","itemRender","map","path","forEach","push","Children","element","index","type","__JC_BREADCRUMB_ITEM","Component","defaultProps","propTypes","string","node","array","object"],"mappings":"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","file":"Breadcrumb.js","sourcesContent":["import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { cloneElement } from 'react';\nimport warning from '../_util/warning';\nimport BreadcrumbItem from './BreadcrumbItem';\nimport classNames from 'classnames';\n/* 获取面包屑中的文字 */\nfunction getBreadcrumbName(route, params) {\n    if (!route.breadcrumbName) {\n        return null;\n    }\n    const paramsKeys = Object.keys(params).join('|');\n    const name = route.breadcrumbName.replace(\n        new RegExp(`:(${paramsKeys})`, 'g'),\n        (replacement, key) => params[key] || replacement,\n    );\n    return name;\n}\n\nfunction defaultItemRender(route, params, routes, paths) {\n    const isLastItem = routes.indexOf(route) === routes.length - 1;\n    const name = getBreadcrumbName(route, params);\n    /* 判断是否是最后一个item，即当前显示的Item，如果不是加a标签可以点击跳转 */\n    return isLastItem\n        ? <span>{name}</span>\n        : <a href={`#/${paths.join('/')}`}>{name}</a>;\n}\nexport default class Breadcrumb extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n        const props = this.props;\n        warning(\n        !('linkRender' in props || 'nameRender' in props),\n        '`linkRender` and `nameRender` are removed, please use `itemRender` instead, ' +\n        'see: https://u.ant.design/item-render.',\n        );\n    }\n    render() {\n        let crumbs;\n        const {separator, prefixCls, style, className, routes, params = {},children, itemRender = defaultItemRender,} = this.props;\n        if (routes && routes.length > 0) {\n            const paths = [];\n            crumbs = routes.map((route) => {\n                route.path = route.path || '';\n                let path = route.path.replace(/^\\//, '');\n                Object.keys(params).forEach((key) => {\n                    path = path.replace(`:${key}`, params[key]);\n                });\n                if (path) {\n                    paths.push(path);\n                }\n                return (\n                    <BreadcrumbItem separator={separator} key={route.breadcrumbName || path}>\n                        {itemRender(route, params, routes, paths)}\n                    </BreadcrumbItem>\n                );\n            });\n        } else if (children) {\n            crumbs = React.Children.map(children, (element, index) => {\n                if (!element) {\n                    return element;\n                }\n                warning(\n                    element.type && element.type.__JC_BREADCRUMB_ITEM,\n                    'Breadcrumb only accepts Breadcrumb.Item as it\\'s children',\n                );\n                return cloneElement(element, {\n                    separator,\n                    key: index,\n                });\n            });\n        }\n        return (\n            <div className={classNames(className, prefixCls)} style={style}>\n                {crumbs}\n            </div>\n        );\n    }\n}\n\nBreadcrumb.defaultProps = {\n    prefixCls: 'jc-breadcrumb',\n    separator: '/',\n};\nBreadcrumb.propTypes = {\n    prefixCls: PropTypes.string,\n    separator: PropTypes.node,\n    routes: PropTypes.array,\n    params: PropTypes.object,\n    // linkRender: PropTypes.func,\n    // nameRender: PropTypes.func,\n};\n"]}