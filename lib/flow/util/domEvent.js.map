{"version":3,"sources":["../../../components/flow/util/domEvent.js"],"names":["stopPropagation","handler","args","e","saftyEventListener","handlers","add","el","event","addEventListener","remove","removeEventListener"],"mappings":";;;;;;;AAGA;;AAEA;AACO,IAAMA,4CAAkB,SAAlBA,eAAkB,CAACC,OAAD;AAAA,oCAAaC,IAAb;AAAaA,QAAb;AAAA;;AAAA,SAC7B,UAACC,CAAD,EAAO;AACLA,MAAEH,eAAF;AACA,WAAO,sCAAUC,OAAV,SAAsBC,IAAtB,EAAP;AACD,GAJ4B;AAAA,CAAxB,C,CANP;;;AAaO,IAAME,kDAAqB;AAChCC,YAAU,EADsB;AAEhCC,KAFgC,eAE5BC,EAF4B,EAExBC,KAFwB,EAEjBP,OAFiB,EAER;AACtBM,UAAMA,GAAGE,gBAAH,CAAoBD,KAApB,EAA2BP,OAA3B,CAAN;AACA,SAAKI,QAAL,CAAcJ,OAAd,IAAyBM,EAAzB;AACD,GAL+B;AAMhCG,QANgC,kBAMzBF,KANyB,EAMlBP,OANkB,EAMT;AACrB,QAAMM,KAAK,KAAKF,QAAL,CAAcJ,OAAd,CAAX;AACA,QAAI,CAACM,EAAL,EAAS;AACTA,OAAGI,mBAAH,CAAuBH,KAAvB,EAA8BP,OAA9B;AACA,WAAO,KAAKI,QAAL,CAAcJ,OAAd,CAAP;AACD;AAX+B,CAA3B","file":"domEvent.js","sourcesContent":["/**\n * domcument event prehandler\n */\nimport { validFunc } from './validate';\n\n// stop event propagation\nexport const stopPropagation = (handler, ...args) => (\n  (e) => {\n    e.stopPropagation();\n    return validFunc(handler, ...args);\n  }\n);\n\nexport const saftyEventListener = {\n  handlers: {},\n  add(el, event, handler) {\n    el && el.addEventListener(event, handler);\n    this.handlers[handler] = el;\n  },\n  remove(event, handler) {\n    const el = this.handlers[handler];\n    if (!el) return;\n    el.removeEventListener(event, handler);\n    delete this.handlers[handler];\n  }\n};\n"]}