{"version":3,"sources":["../../../components/flow/util/domEvent.js"],"names":["stopPropagation","handler","args","e","validFunc","saftyEventListener","handlers","add","el","event","addEventListener","remove","removeEventListener"],"mappings":";;;;;;;AAGA;;AAEA;AACO,IAAMA,4CAAkB,SAAlBA,eAAkB,CAACC,OAAD;AAAA,oCAAaC,IAAb;AAAaA,QAAb;AAAA;;AAAA,SAC7B,UAACC,CAAD,EAAO;AACLA,MAAEH,eAAF;AACA,WAAOI,sCAAUH,OAAV,SAAsBC,IAAtB,EAAP;AACD,GAJ4B;AAAA,CAAxB,C,CANP;;;AAaO,IAAMG,kDAAqB;AAChCC,YAAU,EADsB;AAEhCC,KAFgC,eAE5BC,EAF4B,EAExBC,KAFwB,EAEjBR,OAFiB,EAER;AACtBO,UAAMA,GAAGE,gBAAH,CAAoBD,KAApB,EAA2BR,OAA3B,CAAN;AACA,SAAKK,QAAL,CAAcL,OAAd,IAAyBO,EAAzB;AACD,GAL+B;AAMhCG,QANgC,kBAMzBF,KANyB,EAMlBR,OANkB,EAMT;AACrB,QAAMO,KAAK,KAAKF,QAAL,CAAcL,OAAd,CAAX;AACA,QAAI,CAACO,EAAL,EAAS;AACTA,OAAGI,mBAAH,CAAuBH,KAAvB,EAA8BR,OAA9B;AACA,WAAO,KAAKK,QAAL,CAAcL,OAAd,CAAP;AACD;AAX+B,CAA3B","file":"domEvent.js","sourcesContent":["/**\n * domcument event prehandler\n */\nimport { validFunc } from './validate';\n\n// stop event propagation\nexport const stopPropagation = (handler, ...args) => (\n  (e) => {\n    e.stopPropagation();\n    return validFunc(handler, ...args);\n  }\n);\n\nexport const saftyEventListener = {\n  handlers: {},\n  add(el, event, handler) {\n    el && el.addEventListener(event, handler);\n    this.handlers[handler] = el;\n  },\n  remove(event, handler) {\n    const el = this.handlers[handler];\n    if (!el) return;\n    el.removeEventListener(event, handler);\n    delete this.handlers[handler];\n  }\n};\n"]}