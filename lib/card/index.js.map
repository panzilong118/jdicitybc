{"version":3,"sources":["../../components/card/index.js"],"names":["CardGridProps","CardMetaProps","React","CardType","CardTabListType","key","string","tab","node","CardProps","prefixCls","title","extra","bordered","bool","bodyStyle","object","style","loading","noHovering","hoverable","children","id","className","type","oneOf","cover","actions","arrayOf","tabList","array","onTabChange","func","activeTabKey","defaultActiveTabKey","Card","props","saveRef","container","getAction","length","actionList","map","action","index","width","resizeEvent","updateWiderPaddingCalled","undefined","state","widerPadding","updateWiderPadding","window","remove","cancel","WIDTH_BOUNDARY_PX","offsetWidth","setState","containGrid","Children","forEach","element","others","classString","getCompatibleHoverable","isContainGrid","loadingBlock","hasActiveTabKey","extraProps","head","tabs","item","coverDom","body","actionDom","divProps","Component","Grid","Meta","propTypes"],"mappings":"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","file":"index.js","sourcesContent":["/**\r\n * @author: chenyanhua\r\n * @version: 3.4.1\r\n */\r\nimport * as React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport classNames from 'classnames';\r\n\r\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\r\n\r\nimport omit from 'omit.js';\r\n\r\nimport Grid from './Grid';\r\n\r\nimport Meta from './Meta';\r\n\r\nimport Tabs from '../tabs';\r\n\r\nimport { throttleByAnimationFrameDecorator } from '../_util/throttleByAnimationFrame';\r\n\r\nimport warning from '../_util/warning';\r\n\r\n// import { Omit } from '../_util/type';\r\n\r\nexport { CardGridProps } from './Grid';\r\n\r\nexport { CardMetaProps } from './Meta';\r\n\r\nexport const CardType = 'inner';\r\n\r\nexport const CardTabListType = {\r\n    key: PropTypes.string,\r\n    tab: PropTypes.node\r\n};\r\n\r\nexport const CardProps = {\r\n    prefixCls: PropTypes.string,\r\n    title: PropTypes.node,\r\n    extra: PropTypes.node,\r\n    bordered: PropTypes.bool,\r\n    bodyStyle: PropTypes.object,\r\n    style: PropTypes.object,\r\n    loading: PropTypes.bool,\r\n    noHovering: PropTypes.bool,\r\n    hoverable: PropTypes.bool,\r\n    children: PropTypes.node,\r\n    id: PropTypes.string,\r\n    className: PropTypes.string,\r\n    type: PropTypes.oneOf([CardType]),\r\n    cover: PropTypes.node,\r\n    actions: PropTypes.arrayOf(PropTypes.node),\r\n    tabList: PropTypes.array,\r\n    onTabChange: PropTypes.func,\r\n    activeTabKey: PropTypes.string,\r\n    defaultActiveTabKey: PropTypes.string\r\n};\r\n\r\nexport default class Card extends React.Component {\r\n    static Grid = Grid;\r\n    static Meta = Meta;\r\n\r\n    static propTypes = { ...CardProps };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.resizeEvent = () => {};\r\n        this.updateWiderPaddingCalled = undefined;\r\n        this.container = undefined;\r\n        this.state = {\r\n            widerPadding: false\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.updateWiderPadding();\r\n        this.resizeEvent = addEventListener(window, 'resize', this.updateWiderPadding);\r\n\r\n        if ('noHovering' in this.props) {\r\n            warning(\r\n                !this.props.noHovering,\r\n                '`noHovering` of Card is deprecated, you can remove it safely or use `hoverable` instead.',\r\n            );\r\n            warning(!!this.props.noHovering, '`noHovering={false}` of Card is deprecated, use `hoverable` instead.');\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.resizeEvent) {\r\n            this.resizeEvent.remove();\r\n        }\r\n        this.updateWiderPadding.cancel();\r\n    }\r\n    @throttleByAnimationFrameDecorator()\r\n    updateWiderPadding() {\r\n        if (!this.container) {\r\n            return;\r\n        }\r\n        // 936 is a magic card width pixel number indicated by designer\r\n        const WIDTH_BOUNDARY_PX = 936;\r\n        if (this.container.offsetWidth >= WIDTH_BOUNDARY_PX && !this.state.widerPadding) {\r\n            this.setState({ widerPadding: true }, () => {\r\n                this.updateWiderPaddingCalled = true; // first render without css transition\r\n            });\r\n        }\r\n        if (this.container.offsetWidth < WIDTH_BOUNDARY_PX && this.state.widerPadding) {\r\n            this.setState({ widerPadding: false }, () => {\r\n                this.updateWiderPaddingCalled = true; // first render without css transition\r\n            });\r\n        }\r\n    }\r\n    onTabChange = (key) => {\r\n        if (this.props.onTabChange) {\r\n            this.props.onTabChange(key);\r\n        }\r\n    }\r\n    saveRef = (node) => {\r\n        this.container = node;\r\n    }\r\n    isContainGrid() {\r\n        let containGrid;\r\n        React.Children.forEach(this.props.children, (element) => {\r\n            if (element && element.type && element.type === Grid) {\r\n                containGrid = true;\r\n            }\r\n        });\r\n        return containGrid;\r\n    }\r\n    getAction = (actions) => {\r\n        if (!actions || !actions.length) {\r\n            return null;\r\n        }\r\n        const actionList = actions.map((action, index) => {\r\n            return (\r\n                <li style={{ width: `${100 / actions.length}%` }} key={`action-${index}`}>\r\n                    <span>{action}</span>\r\n                </li>\r\n            );\r\n        });\r\n        return actionList;\r\n    }\r\n    // For 2.x compatible\r\n    getCompatibleHoverable() {\r\n        const { noHovering, hoverable } = this.props;\r\n        if ('noHovering' in this.props) {\r\n            return !noHovering || hoverable;\r\n        }\r\n        return !!hoverable;\r\n    }\r\n    render() {\r\n        const {\r\n            prefixCls = 'jc-card', className, extra, bodyStyle, noHovering, hoverable, title, loading,\r\n            bordered = true, type, cover, actions, tabList, children, activeTabKey, defaultActiveTabKey,\r\n            ...others\r\n        } = this.props;\r\n\r\n        const classString = classNames(prefixCls, className, {\r\n            [`${prefixCls}-loading`]: loading,\r\n            [`${prefixCls}-bordered`]: bordered,\r\n            [`${prefixCls}-hoverable`]: this.getCompatibleHoverable(),\r\n            [`${prefixCls}-wider-padding`]: this.state.widerPadding,\r\n            [`${prefixCls}-padding-transition`]: this.updateWiderPaddingCalled,\r\n            [`${prefixCls}-contain-grid`]: this.isContainGrid(),\r\n            [`${prefixCls}-contain-tabs`]: tabList && tabList.length,\r\n            [`${prefixCls}-type-${type}`]: !!type\r\n        });\r\n\r\n        const loadingBlock = (\r\n            <div className={`${prefixCls}-loading-content`}>\r\n                <p className={`${prefixCls}-loading-block`} style={{ width: '94%' }} />\r\n                <p>\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '28%' }} />\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '62%' }} />\r\n                </p>\r\n                <p>\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '22%' }} />\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '66%' }} />\r\n                </p>\r\n                <p>\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '56%' }} />\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '39%' }} />\r\n                </p>\r\n                <p>\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '21%' }} />\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '15%' }} />\r\n                    <span className={`${prefixCls}-loading-block`} style={{ width: '40%' }} />\r\n                </p>\r\n            </div>\r\n        );\r\n\r\n        const hasActiveTabKey = activeTabKey !== undefined;\r\n        const extraProps = {\r\n            [hasActiveTabKey ? 'activeKey' : 'defaultActiveKey']: hasActiveTabKey ? activeTabKey : defaultActiveTabKey\r\n        };\r\n\r\n        let head;\r\n        const tabs = tabList && tabList.length ? (\r\n            <Tabs\r\n                {...extraProps}\r\n                className={`${prefixCls}-head-tabs`}\r\n                size='large'\r\n                onChange={this.onTabChange}\r\n            >\r\n                {tabList.map(item => <Tabs.TabPane tab={item.tab} key={item.key} />)}\r\n            </Tabs>\r\n        ) : null;\r\n        if (title || extra || tabs) {\r\n            head = (\r\n                <div className={`${prefixCls}-head`}>\r\n                    <div className={`${prefixCls}-head-wrapper`}>\r\n                        {title && <div className={`${prefixCls}-head-title`}>{title}</div>}\r\n                        {extra && <div className={`${prefixCls}-extra`}>{extra}</div>}\r\n                    </div>\r\n                    {tabs}\r\n                </div>\r\n            );\r\n        }\r\n        const coverDom = cover ? <div className={`${prefixCls}-cover`}>{cover}</div> : null;\r\n        const body = (\r\n            <div className={`${prefixCls}-body`} style={bodyStyle}>\r\n                {loading ? loadingBlock : children}\r\n            </div>\r\n        );\r\n        const actionDom = actions && actions.length ? <ul className={`${prefixCls}-actions`}>{this.getAction(actions)}</ul> : null;\r\n        const divProps = omit(others, ['onTabChange']);\r\n        return (\r\n            <div {...divProps} className={classString} ref={this.saveRef}>\r\n                {head}\r\n                {coverDom}\r\n                {body}\r\n                {actionDom}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]}