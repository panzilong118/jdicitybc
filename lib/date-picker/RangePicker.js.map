{"version":3,"sources":["../../components/date-picker/RangePicker.js"],"names":["getShowDateFromValue","value","start","end","newEnd","isSame","clone","add","formatValue","format","pickerValueAdapter","Array","isArray","isEmptyArray","arr","length","every","i","fixLocale","localeCode","locale","RangePicker","props","defaultValue","isMoment","Error","pickerValue","defaultPickerValue","state","showDate","open","hoverValue","nextProps","setState","hidePanel","handleChange","showTime","picker","focus","blur","prefixCls","popupStyle","style","disabledDate","disabledTime","showToday","ranges","onOk","dateRender","onCalendarChange","calendarClassName","pickerChangeHandler","onChange","calendarProps","timePicker","changedValue","mode","startPlaceholder","placeholder","lang","rangePlaceholder","endPlaceholder","calendar","renderFooter","handleShowDateChange","handleHoverChange","onPanelChange","handleCalendarInputSelect","pickerStyle","width","clearIcon","disabled","allowClear","clearSelection","input","inputValue","pickerInputClass","savePicker","id","className","pickerClass","onFocus","onBlur","handleOpenChange","Component","defaultProps","propTypes","array","bool","string","e","preventDefault","stopPropagation","clearHoverValue","onOpenChange","handleRangeMouseLeave","handleRangeClick","setValue","node","renderExtraFooter","customFooter","operations","Object","keys","map","range","rangeNode"],"mappings":"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","file":"RangePicker.js","sourcesContent":["/* tslint:disable jsx-no-multiline-js */\nimport React from 'react';\nimport moment from 'moment';\nimport RangeCalendar from 'rc-calendar/lib/RangeCalendar';\nimport RcDatePicker from 'rc-calendar/lib/Picker';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon';\nimport warning from '../_util/warning';\nimport interopDefault from '../_util/interopDefault';\n\n\nfunction getShowDateFromValue(value) {\n    const [start, end] = value;\n    // value could be an empty array, then we should not reset showDate\n    if (!start && !end) {\n        return;\n    }\n    const newEnd = end && end.isSame(start, 'month') ? end.clone().add(1, 'month') : end;\n    return [start, newEnd];\n}\n\nfunction formatValue(value, format) {\n    return (value && value.format(format)) || '';\n}\n  \nfunction pickerValueAdapter(value) {\n    if (!value) {\n        return [];\n    }\n    if (Array.isArray(value)) {\n        return value;\n    }\n    return [value, value.clone().add(1, 'month')];\n}\n  \nfunction isEmptyArray(arr) {\n    if (Array.isArray(arr)) {\n        return arr.length === 0 || arr.every(i => !i);\n    }\n    return false;\n}\n  \nfunction fixLocale(value, localeCode) {\n    if (!localeCode) {\n        return;\n    }\n    if (!value || value.length === 0) {\n        return;\n    }\n    if (value[0]) {\n        value[0].locale(localeCode);\n    }\n    if (value[1]) {\n        value[1].locale(localeCode);\n    }\n}\n  \nexport default class RangePicker extends React.Component {\n      static defaultProps = {\n          prefixCls: 'jc-calendar',\n          allowClear: true,\n          showToday: false,\n      };\n\n      static propTypes = {\n          value: PropTypes.array,\n          showDate: PropTypes.array,\n          open: PropTypes.bool,\n          hoverValue: PropTypes.array,\n          prefixCls: PropTypes.string,\n          allowClear: PropTypes.bool,\n          showToday: PropTypes.bool,\n      }\n  \n\n      constructor(props) {\n          super(props);\n          const value = props.value || props.defaultValue || [];\n          if (\n              value[1] && !interopDefault(moment).isMoment(value[1])\n          ) {\n              throw new Error('The value/defaultValue of RangePicker must be a moment object array after `jc@1.0`, ' +\n            'see: https://u.ant.design/date-picker-value');\n          }\n          if (\n              value[0] && !interopDefault(moment).isMoment(value[0])\n          ) {\n              throw new Error('The value/defaultValue of RangePicker must be a moment object array after `jc@1.0`, ' +\n          'see: https://u.ant.design/date-picker-value');\n          }\n          \n          const pickerValue = !value || isEmptyArray(value) ? props.defaultPickerValue : value;\n          this.state = {\n              value,\n              showDate: pickerValueAdapter(pickerValue || interopDefault(moment)()),\n              open: props.open,\n              hoverValue: [],\n          };\n      }\n\n      componentWillReceiveProps(nextProps) {\n        if ('value' in nextProps) {\n            const state = this.state;\n            const value = nextProps.value || [];\n            this.setState({\n                value,\n                showDate: getShowDateFromValue(value) || state.showDate,\n            });\n        }\n        if ('open' in nextProps) {\n            this.setState({\n                open: nextProps.open,\n            });\n        }\n      }\n\n      setValue(value, hidePanel) {\n          this.handleChange(value);\n          if ((hidePanel || !this.props.showTime) && !('open' in this.props)) {\n              this.setState({ open: false });\n          }\n      }\n\n     picker;\n    \n      clearSelection = (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          this.setState({ value: [] });\n          this.handleChange([]);\n      }\n    \n      clearHoverValue = () => this.setState({ hoverValue: [] });\n    \n      handleChange = (value) => {\n          const { props } = this;\n          if (!('value' in props)) {\n              this.setState(({ showDate }) => ({\n                  value,\n                  showDate: getShowDateFromValue(value) || showDate,\n              }));\n          }\n          props.onChange(value, [\n              formatValue(value[0], props.format),\n              formatValue(value[1], props.format),\n          ]);\n      }\n    \n      handleOpenChange = (open) => {\n          if (!('open' in this.props)) {\n              this.setState({ open });\n          }\n    \n          if (open === false) {\n              this.clearHoverValue();\n          }\n    \n          const { onOpenChange } = this.props;\n          if (onOpenChange) {\n              onOpenChange(open);\n          }\n      }\n\n      handleShowDateChange = showDate => this.setState({ showDate });\n\n      handleHoverChange = hoverValue => this.setState({ hoverValue });\n    \n      handleRangeMouseLeave = () => {\n          if (this.state.open) {\n              this.clearHoverValue();\n          }\n      }\n    \n      handleCalendarInputSelect = (value) => {\n          if (!value[0]) {\n              return;\n          }\n          this.setState(({ showDate }) => ({\n              value,\n              showDate: getShowDateFromValue(value) || showDate,\n          }));\n      }\n    \n      handleRangeClick = (value) => {\n          if (typeof value === 'function') {\n              value = value();\n          }\n    \n          this.setValue(value, true);\n    \n          const { onOk } = this.props;\n          if (onOk) {\n              onOk(value);\n          }\n      }\n    \n      focus() {\n          this.picker.focus();\n      }\n    \n      blur() {\n          this.picker.blur();\n      }\n    \n      savePicker = (node) => {\n          this.picker = node;\n      }\n    \n      renderFooter = (...args) => {\n          const { prefixCls, ranges, renderExtraFooter } = this.props;\n          if (!ranges && !renderExtraFooter) {\n              return null;\n          }\n          const customFooter = renderExtraFooter ? (\n              <div className={`${prefixCls}-footer-extra`} key='extra'>\n                  {renderExtraFooter(...args)}\n              </div>\n          ) : null;\n          const operations = Object.keys(ranges || {}).map((range) => {\n              const value = ranges[range];\n              return (\n                  <a\n                      key={range}\n                      onClick={() => this.handleRangeClick(value)}\n                      onMouseEnter={() => this.setState({ hoverValue: value })}\n                      onMouseLeave={this.handleRangeMouseLeave}\n                  >\n                      {range}\n                  </a>\n              );\n          });\n          const rangeNode = (\n              <div className={`${prefixCls}-footer-extra ${prefixCls}-range-quick-selector`} key='range'>\n                  {operations}\n              </div>\n          );\n          return [rangeNode, customFooter];\n      }\n\n\n      render() {\n          const { state, props } = this;\n          const { value, showDate, hoverValue, open } = state;\n          const {\n              prefixCls, popupStyle, style,\n              disabledDate, disabledTime,\n              showTime, showToday,\n              ranges, onOk, locale, localeCode, format,\n              dateRender, onCalendarChange,\n          } = props;\n\n          fixLocale(value, localeCode);\n          fixLocale(showDate, localeCode);\n    \n          warning(!('onOK' in props), 'It should be `RangePicker[onOk]`, instead of `onOK`!');\n    \n          const calendarClassName = classNames({\n              [`${prefixCls}-time`]: showTime,\n              [`${prefixCls}-range-with-ranges`]: ranges,\n          });\n\n          // 需要选择时间时，点击 ok 时才触发 onChange\n          const pickerChangeHandler = {\n              onChange: this.handleChange,\n          };\n          let calendarProps = {\n              onOk: this.handleChange,\n          };\n          if (props.timePicker) {\n              pickerChangeHandler.onChange = changedValue => this.handleChange(changedValue);\n          } else {\n              calendarProps = {};\n          }\n          if ('mode' in props) {\n              calendarProps.mode = props.mode;\n          }\n  \n          const startPlaceholder = ('placeholder' in props) ? props.placeholder[0] : locale.lang.rangePlaceholder[0];\n          const endPlaceholder = ('placeholder' in props) ? props.placeholder[1] : locale.lang.rangePlaceholder[1];\n\n          const calendar = (\n              <RangeCalendar\n                  {...calendarProps}\n                  onChange={onCalendarChange}\n                  format={format}\n                  prefixCls={prefixCls}\n                  className={calendarClassName}\n                  renderFooter={this.renderFooter}\n                  timePicker={props.timePicker}\n                  disabledDate={disabledDate}\n                  disabledTime={disabledTime}\n                  dateInputPlaceholder={[startPlaceholder, endPlaceholder]}\n                  locale={locale.lang}\n                  onOk={onOk}\n                  dateRender={dateRender}\n                  value={showDate}\n                  onValueChange={this.handleShowDateChange}\n                  hoverValue={hoverValue}\n                  onHoverChange={this.handleHoverChange}\n                  onPanelChange={props.onPanelChange}\n                  showToday={showToday}\n                  onInputSelect={this.handleCalendarInputSelect}\n              />\n          );\n      \n          // default width for showTime\n          const pickerStyle = {};\n          if (props.showTime) {\n              pickerStyle.width = (style && style.width) || 350;\n          }\n\n          const clearIcon = (!props.disabled && props.allowClear && value && (value[0] || value[1])) ? (\n              <Icon\n                  type='cross-circle'\n                  className={`${prefixCls}-picker-clear`}\n                  onClick={this.clearSelection}\n              />\n          ) : null;\n\n          const input = ({ value: inputValue }) => {\n              const start = inputValue[0];\n              const end = inputValue[1];\n              return (\n                  <span className={props.pickerInputClass}>\n                      <input\n                          disabled={props.disabled}\n                          readOnly\n                          value={(start && start.format(props.format)) || ''}\n                          placeholder={startPlaceholder}\n                          className={`${prefixCls}-range-picker-input`}\n                          tabIndex={-1}\n                      />\n                      <span className={`${prefixCls}-range-picker-separator`}> ~ </span>\n                      <input\n                          disabled={props.disabled}\n                          readOnly\n                          value={(end && end.format(props.format)) || ''}\n                          placeholder={endPlaceholder}\n                          className={`${prefixCls}-range-picker-input`}\n                          tabIndex={-1}\n                      />\n                      {clearIcon}\n                      <span className={`${prefixCls}-picker-icon`} />\n                  </span>\n              );\n          };\n\n          return (\n              <span\n                  ref={this.savePicker}\n                  id={props.id}\n                  className={classNames(props.className, props.pickerClass)}\n                  style={{ ...style, ...pickerStyle }}\n                  tabIndex={props.disabled ? -1 : 0}\n                  onFocus={props.onFocus}\n                  onBlur={props.onBlur}\n              >\n                  <RcDatePicker\n                      {...props}\n                      {...pickerChangeHandler}\n                      calendar={calendar}\n                      value={value}\n                      open={open}\n                      onOpenChange={this.handleOpenChange}\n                      prefixCls={`${prefixCls}-picker-container`}\n                      style={popupStyle}\n                  >\n                      {input}\n                  </RcDatePicker>\n              </span>\n          );\n      }\n}\n"]}