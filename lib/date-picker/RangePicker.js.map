{"version":3,"sources":["../../components/date-picker/RangePicker.js"],"names":["getShowDateFromValue","value","start","end","newEnd","isSame","clone","add","formatValue","format","pickerValueAdapter","Array","isArray","isEmptyArray","arr","length","every","i","fixLocale","localeCode","locale","RangePicker","props","defaultValue","isMoment","Error","pickerValue","defaultPickerValue","state","showDate","open","hoverValue","nextProps","setState","hidePanel","handleChange","showTime","picker","focus","blur","prefixCls","popupStyle","style","disabledDate","disabledTime","showToday","ranges","onOk","dateRender","onCalendarChange","calendarClassName","pickerChangeHandler","onChange","calendarProps","timePicker","changedValue","mode","startPlaceholder","placeholder","lang","rangePlaceholder","endPlaceholder","calendar","renderFooter","handleShowDateChange","handleHoverChange","onPanelChange","handleCalendarInputSelect","pickerStyle","width","clearIcon","disabled","allowClear","clearSelection","input","inputValue","pickerInputClass","savePicker","id","className","pickerClass","onFocus","onBlur","handleOpenChange","Component","defaultProps","propTypes","array","bool","string","e","preventDefault","stopPropagation","clearHoverValue","onOpenChange","handleRangeMouseLeave","handleRangeClick","setValue","node","renderExtraFooter","customFooter","operations","Object","keys","map","range","rangeNode"],"mappings":"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","file":"RangePicker.js","sourcesContent":["/* tslint:disable jsx-no-multiline-js */\r\nimport React from 'react';\r\nimport moment from 'moment';\r\nimport RangeCalendar from 'rc-calendar/lib/RangeCalendar';\r\nimport RcDatePicker from 'rc-calendar/lib/Picker';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport Icon from '../icon';\r\nimport warning from '../_util/warning';\r\nimport interopDefault from '../_util/interopDefault';\r\n\r\n\r\nfunction getShowDateFromValue(value) {\r\n    const [start, end] = value;\r\n    // value could be an empty array, then we should not reset showDate\r\n    if (!start && !end) {\r\n        return;\r\n    }\r\n    const newEnd = end && end.isSame(start, 'month') ? end.clone().add(1, 'month') : end;\r\n    return [start, newEnd];\r\n}\r\n\r\nfunction formatValue(value, format) {\r\n    return (value && value.format(format)) || '';\r\n}\r\n  \r\nfunction pickerValueAdapter(value) {\r\n    if (!value) {\r\n        return [];\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value;\r\n    }\r\n    return [value, value.clone().add(1, 'month')];\r\n}\r\n  \r\nfunction isEmptyArray(arr) {\r\n    if (Array.isArray(arr)) {\r\n        return arr.length === 0 || arr.every(i => !i);\r\n    }\r\n    return false;\r\n}\r\n  \r\nfunction fixLocale(value, localeCode) {\r\n    if (!localeCode) {\r\n        return;\r\n    }\r\n    if (!value || value.length === 0) {\r\n        return;\r\n    }\r\n    if (value[0]) {\r\n        value[0].locale(localeCode);\r\n    }\r\n    if (value[1]) {\r\n        value[1].locale(localeCode);\r\n    }\r\n}\r\n  \r\nexport default class RangePicker extends React.Component {\r\n      static defaultProps = {\r\n          prefixCls: 'jc-calendar',\r\n          allowClear: true,\r\n          showToday: false,\r\n      };\r\n\r\n      static propTypes = {\r\n          value: PropTypes.array,\r\n          showDate: PropTypes.array,\r\n          open: PropTypes.bool,\r\n          hoverValue: PropTypes.array,\r\n          prefixCls: PropTypes.string,\r\n          allowClear: PropTypes.bool,\r\n          showToday: PropTypes.bool,\r\n      }\r\n  \r\n\r\n      constructor(props) {\r\n          super(props);\r\n          const value = props.value || props.defaultValue || [];\r\n          if (\r\n              value[1] && !interopDefault(moment).isMoment(value[1])\r\n          ) {\r\n              throw new Error('The value/defaultValue of RangePicker must be a moment object array after `jc@1.0`, ' +\r\n            'see: https://u.ant.design/date-picker-value');\r\n          }\r\n          if (\r\n              value[0] && !interopDefault(moment).isMoment(value[0])\r\n          ) {\r\n              throw new Error('The value/defaultValue of RangePicker must be a moment object array after `jc@1.0`, ' +\r\n          'see: https://u.ant.design/date-picker-value');\r\n          }\r\n          \r\n          const pickerValue = !value || isEmptyArray(value) ? props.defaultPickerValue : value;\r\n          this.state = {\r\n              value,\r\n              showDate: pickerValueAdapter(pickerValue || interopDefault(moment)()),\r\n              open: props.open,\r\n              hoverValue: [],\r\n          };\r\n      }\r\n\r\n      componentWillReceiveProps(nextProps) {\r\n        if ('value' in nextProps) {\r\n            const state = this.state;\r\n            const value = nextProps.value || [];\r\n            this.setState({\r\n                value,\r\n                showDate: getShowDateFromValue(value) || state.showDate,\r\n            });\r\n        }\r\n        if ('open' in nextProps) {\r\n            this.setState({\r\n                open: nextProps.open,\r\n            });\r\n        }\r\n      }\r\n\r\n      setValue(value, hidePanel) {\r\n          this.handleChange(value);\r\n          if ((hidePanel || !this.props.showTime) && !('open' in this.props)) {\r\n              this.setState({ open: false });\r\n          }\r\n      }\r\n\r\n     picker;\r\n    \r\n      clearSelection = (e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.setState({ value: [] });\r\n          this.handleChange([]);\r\n      }\r\n    \r\n      clearHoverValue = () => this.setState({ hoverValue: [] });\r\n    \r\n      handleChange = (value) => {\r\n          const { props } = this;\r\n          if (!('value' in props)) {\r\n              this.setState(({ showDate }) => ({\r\n                  value,\r\n                  showDate: getShowDateFromValue(value) || showDate,\r\n              }));\r\n          }\r\n          props.onChange(value, [\r\n              formatValue(value[0], props.format),\r\n              formatValue(value[1], props.format),\r\n          ]);\r\n      }\r\n    \r\n      handleOpenChange = (open) => {\r\n          if (!('open' in this.props)) {\r\n              this.setState({ open });\r\n          }\r\n    \r\n          if (open === false) {\r\n              this.clearHoverValue();\r\n          }\r\n    \r\n          const { onOpenChange } = this.props;\r\n          if (onOpenChange) {\r\n              onOpenChange(open);\r\n          }\r\n      }\r\n\r\n      handleShowDateChange = showDate => this.setState({ showDate });\r\n\r\n      handleHoverChange = hoverValue => this.setState({ hoverValue });\r\n    \r\n      handleRangeMouseLeave = () => {\r\n          if (this.state.open) {\r\n              this.clearHoverValue();\r\n          }\r\n      }\r\n    \r\n      handleCalendarInputSelect = (value) => {\r\n          if (!value[0]) {\r\n              return;\r\n          }\r\n          this.setState(({ showDate }) => ({\r\n              value,\r\n              showDate: getShowDateFromValue(value) || showDate,\r\n          }));\r\n      }\r\n    \r\n      handleRangeClick = (value) => {\r\n          if (typeof value === 'function') {\r\n              value = value();\r\n          }\r\n    \r\n          this.setValue(value, true);\r\n    \r\n          const { onOk } = this.props;\r\n          if (onOk) {\r\n              onOk(value);\r\n          }\r\n      }\r\n    \r\n      focus() {\r\n          this.picker.focus();\r\n      }\r\n    \r\n      blur() {\r\n          this.picker.blur();\r\n      }\r\n    \r\n      savePicker = (node) => {\r\n          this.picker = node;\r\n      }\r\n    \r\n      renderFooter = (...args) => {\r\n          const { prefixCls, ranges, renderExtraFooter } = this.props;\r\n          if (!ranges && !renderExtraFooter) {\r\n              return null;\r\n          }\r\n          const customFooter = renderExtraFooter ? (\r\n              <div className={`${prefixCls}-footer-extra`} key='extra'>\r\n                  {renderExtraFooter(...args)}\r\n              </div>\r\n          ) : null;\r\n          const operations = Object.keys(ranges || {}).map((range) => {\r\n              const value = ranges[range];\r\n              return (\r\n                  <a\r\n                      key={range}\r\n                      onClick={() => this.handleRangeClick(value)}\r\n                      onMouseEnter={() => this.setState({ hoverValue: value })}\r\n                      onMouseLeave={this.handleRangeMouseLeave}\r\n                  >\r\n                      {range}\r\n                  </a>\r\n              );\r\n          });\r\n          const rangeNode = (\r\n              <div className={`${prefixCls}-footer-extra ${prefixCls}-range-quick-selector`} key='range'>\r\n                  {operations}\r\n              </div>\r\n          );\r\n          return [rangeNode, customFooter];\r\n      }\r\n\r\n\r\n      render() {\r\n          const { state, props } = this;\r\n          const { value, showDate, hoverValue, open } = state;\r\n          const {\r\n              prefixCls, popupStyle, style,\r\n              disabledDate, disabledTime,\r\n              showTime, showToday,\r\n              ranges, onOk, locale, localeCode, format,\r\n              dateRender, onCalendarChange,\r\n          } = props;\r\n\r\n          fixLocale(value, localeCode);\r\n          fixLocale(showDate, localeCode);\r\n    \r\n          warning(!('onOK' in props), 'It should be `RangePicker[onOk]`, instead of `onOK`!');\r\n    \r\n          const calendarClassName = classNames({\r\n              [`${prefixCls}-time`]: showTime,\r\n              [`${prefixCls}-range-with-ranges`]: ranges,\r\n          });\r\n\r\n          // 需要选择时间时，点击 ok 时才触发 onChange\r\n          const pickerChangeHandler = {\r\n              onChange: this.handleChange,\r\n          };\r\n          let calendarProps = {\r\n              onOk: this.handleChange,\r\n          };\r\n          if (props.timePicker) {\r\n              pickerChangeHandler.onChange = changedValue => this.handleChange(changedValue);\r\n          } else {\r\n              calendarProps = {};\r\n          }\r\n          if ('mode' in props) {\r\n              calendarProps.mode = props.mode;\r\n          }\r\n  \r\n          const startPlaceholder = ('placeholder' in props) ? props.placeholder[0] : locale.lang.rangePlaceholder[0];\r\n          const endPlaceholder = ('placeholder' in props) ? props.placeholder[1] : locale.lang.rangePlaceholder[1];\r\n\r\n          const calendar = (\r\n              <RangeCalendar\r\n                  {...calendarProps}\r\n                  onChange={onCalendarChange}\r\n                  format={format}\r\n                  prefixCls={prefixCls}\r\n                  className={calendarClassName}\r\n                  renderFooter={this.renderFooter}\r\n                  timePicker={props.timePicker}\r\n                  disabledDate={disabledDate}\r\n                  disabledTime={disabledTime}\r\n                  dateInputPlaceholder={[startPlaceholder, endPlaceholder]}\r\n                  locale={locale.lang}\r\n                  onOk={onOk}\r\n                  dateRender={dateRender}\r\n                  value={showDate}\r\n                  onValueChange={this.handleShowDateChange}\r\n                  hoverValue={hoverValue}\r\n                  onHoverChange={this.handleHoverChange}\r\n                  onPanelChange={props.onPanelChange}\r\n                  showToday={showToday}\r\n                  onInputSelect={this.handleCalendarInputSelect}\r\n              />\r\n          );\r\n      \r\n          // default width for showTime\r\n          const pickerStyle = {};\r\n          if (props.showTime) {\r\n              pickerStyle.width = (style && style.width) || 350;\r\n          }\r\n\r\n          const clearIcon = (!props.disabled && props.allowClear && value && (value[0] || value[1])) ? (\r\n              <Icon\r\n                  type='cross-circle'\r\n                  className={`${prefixCls}-picker-clear`}\r\n                  onClick={this.clearSelection}\r\n              />\r\n          ) : null;\r\n\r\n          const input = ({ value: inputValue }) => {\r\n              const start = inputValue[0];\r\n              const end = inputValue[1];\r\n              return (\r\n                  <span className={props.pickerInputClass}>\r\n                      <input\r\n                          disabled={props.disabled}\r\n                          readOnly\r\n                          value={(start && start.format(props.format)) || ''}\r\n                          placeholder={startPlaceholder}\r\n                          className={`${prefixCls}-range-picker-input`}\r\n                          tabIndex={-1}\r\n                      />\r\n                      <span className={`${prefixCls}-range-picker-separator`}> ~ </span>\r\n                      <input\r\n                          disabled={props.disabled}\r\n                          readOnly\r\n                          value={(end && end.format(props.format)) || ''}\r\n                          placeholder={endPlaceholder}\r\n                          className={`${prefixCls}-range-picker-input`}\r\n                          tabIndex={-1}\r\n                      />\r\n                      {clearIcon}\r\n                      <span className={`${prefixCls}-picker-icon`} />\r\n                  </span>\r\n              );\r\n          };\r\n\r\n          return (\r\n              <span\r\n                  ref={this.savePicker}\r\n                  id={props.id}\r\n                  className={classNames(props.className, props.pickerClass)}\r\n                  style={{ ...style, ...pickerStyle }}\r\n                  tabIndex={props.disabled ? -1 : 0}\r\n                  onFocus={props.onFocus}\r\n                  onBlur={props.onBlur}\r\n              >\r\n                  <RcDatePicker\r\n                      {...props}\r\n                      {...pickerChangeHandler}\r\n                      calendar={calendar}\r\n                      value={value}\r\n                      open={open}\r\n                      onOpenChange={this.handleOpenChange}\r\n                      prefixCls={`${prefixCls}-picker-container`}\r\n                      style={popupStyle}\r\n                  >\r\n                      {input}\r\n                  </RcDatePicker>\r\n              </span>\r\n          );\r\n      }\r\n}\r\n"]}