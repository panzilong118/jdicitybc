{"version":3,"sources":["../../components/table/Table.js"],"names":["React","ReactDOM","noop","stopPropagation","e","nativeEvent","stopImmediatePropagation","defaultPagination","onChange","onShowSizeChange","emptyObject","Table","props","components","undefined","columns","children","createComponents","state","getDefaultSortOrder","filters","getFiltersFromColumns","pagination","getDefaultPagination","CheckboxPropsCache","store","selectedRowKeys","rowSelection","selectionDirty","getCheckboxProps","getFlatData","filter","item","rowIndex","getCheckboxPropsByItem","defaultChecked","map","record","getRecordKey","hasPagination","current","defaultCurrent","pageSize","defaultPageSize","nextProps","setState","newPagination","previousState","dataSource","getSortOrderColumns","length","sortState","getSortStateFromColumns","sortColumn","sortOrder","filteredValueColumns","getFilteredValueColumns","filtersFromColumns","newFilters","Object","keys","forEach","key","isFiltersChanged","selectWay","checked","changeRowKeys","data","selectedRows","row","i","indexOf","onSelect","onSelectAll","changeRows","onSelectInvert","filtersChanged","columnKey","column","filteredValue","col","colKey","getColumnKey","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","sorter","a","b","result","order","isSortColumn","newState","apply","prepareParamsArguments","locale","prefixCls","concat","getFlatCurrentPageData","index","disabled","selectionColumnClass","selections","selectionColumn","render","renderSelectionBox","type","className","fixed","width","columnWidth","checkboxAllDisabled","every","title","handleSelectRow","hideDefaultSelections","getPopupContainer","some","unshift","dataIndex","total","Math","floor","dropdownPrefixCls","originColumn","filterDropdown","sortButton","colFilters","handleFilter","isAscend","isDescend","toggleSortOrder","paginationPosition","size","position","getLocalData","handlePageChange","getMaxCurrent","handleShowSizeChange","field","myKey","c","Number","MAX_VALUE","_","getCurrentPageData","sorterFn","childrenColumnName","sort","recursiveSort","slice","getSorterFn","findColumn","values","onFilter","v","prevComponents","bodyRow","body","preBodyRow","style","loading","spinning","table","renderTable","paginationPatchClass","renderPagination","Component","Column","ColumnGroup","propTypes","array","string","useFixedHeader","bool","object","oneOfType","bordered","func","defaultProps","indentSize","rowKey","showHeader","onRow","custom","nextFilters","currentColumnKeys","push","filtersToSetState","handleSelect","target","defaultSelection","getState","getDefaultSelection","setSelectedRowKeys","handleRadioSelect","selectionKey","onSelectFunc","changeableRowKeys","splice","customSelectionStartIndex","otherArguments","handleChange","recordKey","findDOMNode","nextPagination","contextLocale","restProps","expandIconAsCell","expandedRowRender","classString","renderRowSelection","renderColumnsDropdown","newColumn","expandIconColumnIndex","emptyText"],"mappings":"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","file":"Table.js","sourcesContent":["import * as React from 'react';\n\nimport * as ReactDOM from 'react-dom';\n\nimport RcTable from 'rc-table';\n\nimport PropTypes from 'prop-types';\n\nimport classNames from 'classnames';\n\nimport Pagination from '../pagination';\n\nimport Icon from '../icon';\n\nimport Spin from '../spin';\n\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\n\nimport defaultLocale from '../locale-provider/default';\n\nimport warning from '../_util/warning';\n\nimport FilterDropdown from './filterDropdown';\n\nimport createStore, { Store } from './createStore';\n\nimport SelectionBox from './SelectionBox';\n\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\n\nimport Column from './Column';\n\nimport ColumnGroup from './ColumnGroup';\n\nimport createBodyRow from './createBodyRow';\n\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\n\nimport { TableProps } from './interface';\n\nfunction noop() {}\n\nfunction stopPropagation(e) {\n    e.stopPropagation();\n    if (e.nativeEvent.stopImmediatePropagation) {\n        e.nativeEvent.stopImmediatePropagation();\n    }\n}\n\nconst defaultPagination = {\n    onChange: noop,\n    onShowSizeChange: noop\n};\n\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriately。\n */\nconst emptyObject = {};\n\nexport default class Table extends React.Component {\n    static Column = Column;\n    static ColumnGroup = ColumnGroup;\n\n    static propTypes = {\n        ...TableProps,\n        dataSource: PropTypes.array,\n        columns: PropTypes.array,\n        prefixCls: PropTypes.string,\n        useFixedHeader: PropTypes.bool,\n        rowSelection: PropTypes.object,\n        className: PropTypes.string,\n        size: PropTypes.string,\n        loading: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.object\n        ]),\n        bordered: PropTypes.bool,\n        onChange: PropTypes.func,\n        locale: PropTypes.object,\n        dropdownPrefixCls: PropTypes.string,\n    };\n\n    static defaultProps = {\n        style: {},\n        dataSource: [],\n        prefixCls: 'jc-table',\n        useFixedHeader: false,\n        rowSelection: null,\n        className: '',\n        size: 'large',\n        loading: false,\n        bordered: false,\n        indentSize: 20,\n        locale: {},\n        rowKey: 'key',\n        showHeader: true\n    };\n\n    constructor(props) {\n        super(props);\n\n        warning(\n            !('columnsPageRange' in props || 'columnsPageSize' in props),\n            '`columnsPageRange` and `columnsPageSize` are removed, please use ' +\n            'fixed columns instead, see: https://u.ant.design/fixed-columns.',\n        );\n        this.components = undefined;\n\n        this.columns = props.columns || normalizeColumns(props.children);\n\n        this.createComponents(props.components);\n\n        this.state = {\n            ...this.getDefaultSortOrder(this.columns),\n            // 减少状态\n            filters: this.getFiltersFromColumns(),\n            pagination: this.getDefaultPagination(props)\n        };\n\n        this.CheckboxPropsCache = {};\n\n        this.store = createStore({\n            selectedRowKeys: (props.rowSelection || {}).selectedRowKeys || [],\n            selectionDirty: false\n        });\n    }\n\n    getCheckboxPropsByItem = (item, index) => {\n        const { rowSelection = {} } = this.props;\n        if (!rowSelection.getCheckboxProps) {\n            return {};\n        }\n        const key = this.getRecordKey(item, index);\n        // Cache checkboxProps\n        if (!this.CheckboxPropsCache[key]) {\n            this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n        }\n        return this.CheckboxPropsCache[key];\n    }\n\n    getDefaultSelection() {\n        const { rowSelection = {} } = this.props;\n        if (!rowSelection.getCheckboxProps) {\n            return [];\n        }\n        return this.getFlatData()\n            .filter((item, rowIndex) => this.getCheckboxPropsByItem(item, rowIndex).defaultChecked)\n            .map((record, rowIndex) => this.getRecordKey(record, rowIndex));\n    }\n\n    getDefaultPagination(props) {\n        const pagination = props.pagination || {};\n        return this.hasPagination(props) ?\n            {\n                ...defaultPagination,\n                ...pagination,\n                current: pagination.defaultCurrent || pagination.current || 1,\n                pageSize: pagination.defaultPageSize || pagination.pageSize || 10\n            } : {};\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.columns = nextProps.columns || normalizeColumns(nextProps.children);\n        if ('pagination' in nextProps || 'pagination' in this.props) {\n            this.setState(previousState => {\n                const newPagination = {\n                ...defaultPagination,\n                ...previousState.pagination,\n                ...nextProps.pagination,\n                };\n                newPagination.current = newPagination.current || 1;\n                newPagination.pageSize = newPagination.pageSize || 10;\n                return { pagination: nextProps.pagination !== false ? newPagination : emptyObject };\n            });\n        }\n        if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n            this.store.setState({\n                selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n            });\n            const { rowSelection } = this.props;\n            if (rowSelection && (nextProps.rowSelection.getCheckboxProps !== rowSelection.getCheckboxProps)) {\n                this.CheckboxPropsCache = {};\n            }\n        }\n        if ('dataSource' in nextProps && nextProps.dataSource !== this.props.dataSource) {\n            this.store.setState({\n                selectionDirty: false,\n            });\n            this.CheckboxPropsCache = {};\n        }\n\n        if (this.getSortOrderColumns(this.columns).length > 0) {\n            const sortState = this.getSortStateFromColumns(this.columns);\n            if (sortState.sortColumn !== this.state.sortColumn || sortState.sortOrder !== this.state.sortOrder) {\n                this.setState(sortState);\n            }\n        }\n\n        const filteredValueColumns = this.getFilteredValueColumns(this.columns);\n        if (filteredValueColumns.length > 0) {\n            const filtersFromColumns = this.getFiltersFromColumns(this.columns);\n            const newFilters = { ...this.state.filters };\n            Object.keys(filtersFromColumns).forEach(key => {\n                newFilters[key] = filtersFromColumns[key];\n            });\n            if (this.isFiltersChanged(newFilters)) {\n                this.setState({ filters: newFilters });\n            }\n        }\n\n        this.createComponents(nextProps.components, this.props.components);\n    }\n\n    onRow = (record, index) => {\n        const { onRow, prefixCls } = this.props;\n        const custom = onRow ? onRow(record, index) : {};\n        return {\n            ...custom,\n            prefixCls,\n            store: this.store,\n            rowKey: this.getRecordKey(record, index)\n        };\n    }\n\n    setSelectedRowKeys(selectedRowKeys, { selectWay, record, checked, changeRowKeys, nativeEvent }) {\n        const { rowSelection = {} } = this.props;\n        if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n            this.store.setState({ selectedRowKeys });\n        }\n        const data = this.getFlatData();\n        if (!rowSelection.onChange && !rowSelection[selectWay]) {\n            return;\n        }\n        const selectedRows = data.filter(\n            (row, i) => selectedRowKeys.indexOf(this.getRecordKey(row, i)) >= 0,\n        );\n        if (rowSelection.onChange) {\n            rowSelection.onChange(selectedRowKeys, selectedRows);\n        }\n        if (selectWay === 'onSelect' && rowSelection.onSelect) {\n            rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n        } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n            const changeRows = data.filter(\n                (row, i) => changeRowKeys.indexOf(this.getRecordKey(row, i)) >= 0,\n            );\n            rowSelection.onSelectAll(checked, selectedRows, changeRows);\n        } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n            rowSelection.onSelectInvert(selectedRowKeys);\n        }\n    }\n\n    hasPagination(props) {\n        return (props || this.props).pagination !== false;\n    }\n\n    isFiltersChanged(filters) {\n        let filtersChanged = false;\n        if (Object.keys(filters).length !== Object.keys(this.state.filters).length) {\n            filtersChanged = true;\n        } else {\n            Object.keys(filters).forEach(columnKey => {\n                if (filters[columnKey] !== this.state.filters[columnKey]) {\n                    filtersChanged = true;\n                }\n            });\n        }\n        return filtersChanged;\n    }\n\n    getSortOrderColumns(columns) {\n        return flatFilter(\n            columns || this.columns || [],\n            (column) => 'sortOrder' in column\n        );\n    }\n\n    getFilteredValueColumns(columns) {\n        return flatFilter(\n            columns || this.columns || [],\n            (column) => typeof column.filteredValue !== 'undefined'\n        );\n    }\n\n    getFiltersFromColumns(columns) {\n        let filters = {};\n        this.getFilteredValueColumns(columns).forEach((col) => {\n            const colKey = this.getColumnKey(col);\n            filters[colKey] = col.filteredValue;\n        });\n        return filters;\n    }\n\n    getDefaultSortOrder(columns) {\n        const definedSortState = this.getSortStateFromColumns(columns);\n\n        let defaultSortedColumn = flatFilter(columns || [], (column) => column.defaultSortOrder != null)[0];\n\n        if (defaultSortedColumn && !definedSortState.sortColumn) {\n            return {\n                sortColumn: defaultSortedColumn,\n                sortOrder: defaultSortedColumn.defaultSortOrder,\n            };\n        }\n\n        return definedSortState;\n    }\n\n    getSortStateFromColumns(columns) {\n        // return first column which sortOrder is not falsy\n        const sortedColumn = this.getSortOrderColumns(columns).filter((col) => col.sortOrder)[0];\n\n        if (sortedColumn) {\n            return {\n                sortColumn: sortedColumn,\n                sortOrder: sortedColumn.sortOrder,\n            };\n        }\n\n        return {\n            sortColumn: null,\n            sortOrder: null,\n        };\n    }\n\n    getSorterFn() {\n        const { sortOrder, sortColumn } = this.state;\n        if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n            return;\n        }\n\n        return (a, b) => {\n            const result = (sortColumn.sorter)(a, b);\n            if (result !== 0) {\n                return (sortOrder === 'descend') ? -result : result;\n            }\n            return 0;\n        };\n    }\n\n    toggleSortOrder(order, column) {\n        let { sortColumn, sortOrder } = this.state;\n        // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n        let isSortColumn = this.isSortColumn(column);\n        if (!isSortColumn) {  // 当前列未排序\n            sortOrder = order;\n            sortColumn = column;\n        } else {                      // 当前列已排序\n            if (sortOrder === order) {  // 切换为未排序状态\n                sortOrder = '';\n                sortColumn = null;\n            } else {                    // 切换为排序状态\n                sortOrder = order;\n            }\n        }\n        const newState = {\n            sortOrder,\n            sortColumn\n        };\n\n        // Controlled\n        if (this.getSortOrderColumns().length === 0) {\n            this.setState(newState);\n        }\n\n        const onChange = this.props.onChange;\n        if (onChange) {\n            onChange.apply(null, this.prepareParamsArguments({\n                ...this.state,\n                ...newState,\n            }));\n        }\n    }\n\n    handleFilter = (column, nextFilters) => {\n        const props = this.props;\n        let pagination = { ...this.state.pagination };\n        const filters = {\n            ...this.state.filters,\n            [this.getColumnKey(column)]: nextFilters\n        };\n        // Remove filters not in current columns\n        const currentColumnKeys = [];\n        treeMap(this.columns, c => {\n            if (!c.children) {\n                currentColumnKeys.push(this.getColumnKey(c));\n            }\n        });\n        Object.keys(filters).forEach((columnKey) => {\n            if (currentColumnKeys.indexOf(columnKey) < 0) {\n                delete filters[columnKey];\n            }\n        });\n\n        if (props.pagination) {\n            // Reset current prop\n            pagination.current = 1;\n            pagination.onChange(pagination.current);\n        }\n\n        const newState = {\n            pagination,\n            filters: {}\n        };\n        const filtersToSetState = { ...filters };\n        // Remove filters which is controlled\n        this.getFilteredValueColumns().forEach((col) => {\n            const columnKey = this.getColumnKey(col);\n            if (columnKey) {\n                delete filtersToSetState[columnKey];\n            }\n        });\n        if (Object.keys(filtersToSetState).length > 0) {\n            newState.filters = filtersToSetState;\n        }\n\n        // Controlled current prop will not respond user interaction\n        if (typeof props.pagination === 'object' && 'current' in props.pagination) {\n            newState.pagination = {\n                ...pagination,\n                current: this.state.pagination.current,\n            };\n        }\n\n        this.setState(newState, () => {\n            this.store.setState({\n                selectionDirty: false\n            });\n            const onChange = this.props.onChange;\n            if (onChange) {\n                onChange.apply(null, this.prepareParamsArguments({\n                    ...this.state,\n                    selectionDirty: false,\n                    filters,\n                    pagination\n                }));\n            }\n        });\n    }\n\n    handleSelect = (record, rowIndex, e) => {\n        const checked = e.target.checked;\n        const nativeEvent = e.nativeEvent;\n        const defaultSelection = this.store.getState().selectionDirty ? [] : this.getDefaultSelection();\n        let selectedRowKeys = this.store.getState().selectedRowKeys.concat(defaultSelection);\n        let key = this.getRecordKey(record, rowIndex);\n        if (checked) {\n            selectedRowKeys.push(this.getRecordKey(record, rowIndex));\n        } else {\n            selectedRowKeys = selectedRowKeys.filter((i) => key !== i);\n        }\n        this.store.setState({\n            selectionDirty: true,\n        });\n        this.setSelectedRowKeys(selectedRowKeys, {\n            selectWay: 'onSelect',\n            record,\n            checked,\n            changeRowKeys: [],\n            nativeEvent\n        });\n    }\n\n    handleRadioSelect = (record, rowIndex, e) => {\n        const checked = e.target.checked;\n        const nativeEvent = e.nativeEvent;\n        const defaultSelection = this.store.getState().selectionDirty ? [] : this.getDefaultSelection();\n        let selectedRowKeys = this.store.getState().selectedRowKeys.concat(defaultSelection);\n        let key = this.getRecordKey(record, rowIndex);\n        selectedRowKeys = [key];\n        this.store.setState({\n            selectionDirty: true\n        });\n        this.setSelectedRowKeys(selectedRowKeys, {\n            selectWay: 'onSelect',\n            record,\n            checked,\n            changeRowKeys: [],\n            nativeEvent\n        });\n    }\n\n    handleSelectRow = (selectionKey, index, onSelectFunc) => {\n        const data = this.getFlatCurrentPageData();\n        const defaultSelection = this.store.getState().selectionDirty ? [] : this.getDefaultSelection();\n        const selectedRowKeys = this.store.getState().selectedRowKeys.concat(defaultSelection);\n        const changeableRowKeys = data\n            .filter((item, i) => !this.getCheckboxPropsByItem(item, i).disabled)\n            .map((item, i) => this.getRecordKey(item, i));\n\n        let changeRowKeys = [];\n        let selectWay = '';\n        let checked;\n        // handle default selection\n        switch (selectionKey) {\n            case 'all':\n                changeableRowKeys.forEach(key => {\n                    if (selectedRowKeys.indexOf(key) < 0) {\n                        selectedRowKeys.push(key);\n                        changeRowKeys.push(key);\n                    }\n                });\n                selectWay = 'onSelectAll';\n                checked = true;\n                break;\n            case 'removeAll':\n                changeableRowKeys.forEach(key => {\n                    if (selectedRowKeys.indexOf(key) >= 0) {\n                        selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n                        changeRowKeys.push(key);\n                    }\n                });\n                selectWay = 'onSelectAll';\n                checked = false;\n                break;\n            case 'invert':\n                changeableRowKeys.forEach(key => {\n                    if (selectedRowKeys.indexOf(key) < 0) {\n                        selectedRowKeys.push(key);\n                    } else {\n                        selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n                    }\n                    changeRowKeys.push(key);\n                    selectWay = 'onSelectInvert';\n                });\n                break;\n            default:\n                break;\n        }\n\n        this.store.setState({\n            selectionDirty: true,\n        });\n        // when select custom selection, callback selections[n].onSelect\n        const { rowSelection } = this.props;\n        let customSelectionStartIndex = 2;\n        if (rowSelection && rowSelection.hideDefaultSelections) {\n            customSelectionStartIndex = 0;\n        }\n        if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n            return onSelectFunc(changeableRowKeys);\n        }\n        this.setSelectedRowKeys(selectedRowKeys, {\n            selectWay: selectWay,\n            checked,\n            changeRowKeys\n        });\n    }\n\n    handlePageChange = (current, ...otherArguments) => {\n        const props = this.props;\n        let pagination = { ...this.state.pagination };\n        if (current) {\n            pagination.current = current;\n        } else {\n            pagination.current = pagination.current || 1;\n        }\n        pagination.onChange(pagination.current, ...otherArguments);\n\n        const newState = {\n            pagination\n        };\n        // Controlled current prop will not respond user interaction\n        if (props.pagination && typeof props.pagination === 'object' && 'current' in props.pagination) {\n            newState.pagination = {\n                ...pagination,\n                current: this.state.pagination.current,\n            };\n        }\n        this.setState(newState);\n\n        this.store.setState({\n            selectionDirty: false\n        });\n\n        const onChange = this.props.onChange;\n        if (onChange) {\n            onChange.apply(null, this.prepareParamsArguments({\n                ...this.state,\n                selectionDirty: false,\n                pagination,\n            }));\n        }\n    }\n\n    renderSelectionBox = (type) => {\n        return (_, record, index) => {\n            let rowIndex = this.getRecordKey(record, index); // 从 1 开始\n            const props = this.getCheckboxPropsByItem(record, index);\n            const handleChange = (e) => {\n                type === 'radio' ? this.handleRadioSelect(record, rowIndex, e) : this.handleSelect(record, rowIndex, e);\n            };\n\n            return (\n                <span onClick={stopPropagation}>\n                    <SelectionBox\n                        type={type}\n                        store={this.store}\n                        rowIndex={rowIndex}\n                        onChange={handleChange}\n                        defaultSelection={this.getDefaultSelection()}\n                        {...props}\n                    />\n                </span>\n            );\n        };\n    }\n\n    getRecordKey = (record, index) => {\n        const rowKey = this.props.rowKey;\n        const recordKey = (typeof rowKey === 'function') ? rowKey(record, index) : record[rowKey];\n        warning(recordKey !== undefined,\n            'Each record in dataSource of table should have a unique `key` prop, or set `rowKey` to an unique primary key,' +\n            'see https://u.ant.design/table-row-key',\n        );\n        return recordKey === undefined ? index : recordKey;\n    }\n\n    getPopupContainer = () => {\n        return ReactDOM.findDOMNode(this);\n    }\n\n    renderRowSelection(locale) {\n        const { prefixCls, rowSelection } = this.props;\n        const columns = this.columns.concat();\n        if (rowSelection) {\n            const data = this.getFlatCurrentPageData().filter((item, index) => {\n                if (rowSelection.getCheckboxProps) {\n                    return !this.getCheckboxPropsByItem(item, index).disabled;\n                }\n                return true;\n            });\n            let selectionColumnClass = classNames(`${prefixCls}-selection-column`, {\n                [`${prefixCls}-selection-column-custom`]: rowSelection.selections,\n            });\n            const selectionColumn = {\n                key: 'selection-column',\n                render: this.renderSelectionBox(rowSelection.type),\n                className: selectionColumnClass,\n                fixed: rowSelection.fixed,\n                width: rowSelection.columnWidth,\n            };\n            if (rowSelection.type !== 'radio') {\n                const checkboxAllDisabled = data.every((item, index) => this.getCheckboxPropsByItem(item, index).disabled);\n                selectionColumn.title = (\n                    <SelectionCheckboxAll\n                        store={this.store}\n                        locale={locale}\n                        data={data}\n                        getCheckboxPropsByItem={this.getCheckboxPropsByItem}\n                        getRecordKey={this.getRecordKey}\n                        disabled={checkboxAllDisabled}\n                        prefixCls={prefixCls}\n                        onSelect={this.handleSelectRow}\n                        selections={rowSelection.selections}\n                        hideDefaultSelections={rowSelection.hideDefaultSelections}\n                        getPopupContainer={this.getPopupContainer}\n                    />\n                );\n            }\n            if ('fixed' in rowSelection) {\n                selectionColumn.fixed = rowSelection.fixed;\n            } else if (columns.some(column => column.fixed === 'left' || column.fixed === true)) {\n                selectionColumn.fixed = 'left';\n            }\n            if (columns[0] && columns[0].key === 'selection-column') {\n                columns[0] = selectionColumn;\n            } else {\n                columns.unshift(selectionColumn);\n            }\n        }\n        return columns;\n    }\n\n    getColumnKey(column, index) {\n        return column.key || column.dataIndex || index;\n    }\n\n    getMaxCurrent(total) {\n        const { current, pageSize } = this.state.pagination;\n        if ((current - 1) * pageSize >= total) {\n            return Math.floor((total - 1) / pageSize) + 1;\n        }\n        return current;\n    }\n\n    isSortColumn(column) {\n        const { sortColumn } = this.state;\n        if (!column || !sortColumn) {\n            return false;\n        }\n        return this.getColumnKey(sortColumn) === this.getColumnKey(column);\n    }\n\n    renderColumnsDropdown(columns, locale) {\n        const { prefixCls, dropdownPrefixCls } = this.props;\n        const { sortOrder } = this.state;\n        return treeMap(columns, (originColumn, i) => {\n            let column = { ...originColumn };\n            let key = this.getColumnKey(column, i);\n            let filterDropdown;\n            let sortButton;\n            if ((column.filters && column.filters.length > 0) || column.filterDropdown) {\n                let colFilters = this.state.filters[key] || [];\n                filterDropdown = (\n                    <FilterDropdown\n                        locale={locale}\n                        column={column}\n                        selectedKeys={colFilters}\n                        confirmFilter={this.handleFilter}\n                        prefixCls={`${prefixCls}-filter`}\n                        dropdownPrefixCls={dropdownPrefixCls || 'jc-dropdown'}\n                        getPopupContainer={this.getPopupContainer}\n                    />\n                );\n            }\n            if (column.sorter) {\n                let isSortColumn = this.isSortColumn(column);\n                if (isSortColumn) {\n                    column.className = classNames(column.className, {\n                        [`${prefixCls}-column-sort`]: sortOrder,\n                    });\n                }\n                const isAscend = isSortColumn && sortOrder === 'ascend';\n                const isDescend = isSortColumn && sortOrder === 'descend';\n                sortButton = (\n                    <div className={`${prefixCls}-column-sorter`}>\n                        <span\n                        className={`${prefixCls}-column-sorter-up ${isAscend ? 'on' : 'off'}`}\n                        title=\"↑\"\n                        onClick={() => this.toggleSortOrder('ascend', column)}\n                        >\n                        <Icon type=\"caret-up\" />\n                        </span>\n                        <span\n                        className={`${prefixCls}-column-sorter-down ${isDescend ? 'on' : 'off'}`}\n                        title=\"↓\"\n                        onClick={() => this.toggleSortOrder('descend', column)}\n                        >\n                        <Icon type=\"caret-down\" />\n                        </span>\n                    </div>\n                );\n            }\n            column.title = (\n                <span key={key}>\n                    {column.title}\n                    {sortButton}\n                    {filterDropdown}\n                </span>\n            );\n\n            if (sortButton || filterDropdown) {\n                column.className = classNames(`${prefixCls}-column-has-filters`, column.className);\n            }\n\n            return column;\n        });\n    }\n\n    handleShowSizeChange = (current, pageSize) => {\n        const pagination = this.state.pagination;\n        pagination.onShowSizeChange(current, pageSize);\n        const nextPagination = {\n            ...pagination,\n            pageSize,\n            current\n        };\n        this.setState({ pagination: nextPagination });\n\n        const onChange = this.props.onChange;\n        if (onChange) {\n            onChange.apply(null, this.prepareParamsArguments({\n                ...this.state,\n                pagination: nextPagination\n            }));\n        }\n    }\n\n    renderPagination(paginationPosition) {\n        // 强制不需要分页\n        if (!this.hasPagination()) {\n            return null;\n        }\n        let size = 'default';\n        const { pagination } = this.state;\n        if (pagination.size) {\n            size = pagination.size;\n        } else if (this.props.size === 'middle' || this.props.size === 'small') {\n            size = 'small';\n        }\n        let position = pagination.position || 'bottom';\n        let total = pagination.total || this.getLocalData().length;\n        return (total > 0 && (position === paginationPosition || position === 'both')) ? (\n            <Pagination\n                key={`pagination-${paginationPosition}`}\n                {...pagination}\n                className={classNames(pagination.className, `${this.props.prefixCls}-pagination`)}\n                onChange={this.handlePageChange}\n                total={total}\n                size={size}\n                current={this.getMaxCurrent(total)}\n                onShowSizeChange={this.handleShowSizeChange}\n            />\n        ) : null;\n    }\n\n    // Get pagination, filters, sorter\n    prepareParamsArguments(state) {\n        const pagination = { ...state.pagination };\n        // remove useless handle function in Table.onChange\n        delete pagination.onChange;\n        delete pagination.onShowSizeChange;\n        const filters = state.filters;\n        const sorter = {};\n        if (state.sortColumn && state.sortOrder) {\n            sorter.column = state.sortColumn;\n            sorter.order = state.sortOrder;\n            sorter.field = state.sortColumn.dataIndex;\n            sorter.columnKey = this.getColumnKey(state.sortColumn);\n        }\n        return [pagination, filters, sorter];\n    }\n\n    findColumn(myKey) {\n        let column;\n        treeMap(this.columns, c => {\n            if (this.getColumnKey(c) === myKey) {\n                column = c;\n            }\n        });\n        return column;\n    }\n\n    getCurrentPageData() {\n        let data = this.getLocalData();\n        let current;\n        let pageSize;\n        let state = this.state;\n        // 如果没有分页的话，默认全部展示\n        if (!this.hasPagination()) {\n            pageSize = Number.MAX_VALUE;\n            current = 1;\n        } else {\n            pageSize = state.pagination.pageSize;\n            current = this.getMaxCurrent(state.pagination.total || data.length);\n        }\n\n        // 分页\n        // ---\n        // 当数据量少于等于每页数量时，直接设置数据\n        // 否则进行读取分页数据\n        if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n            data = data.filter((_, i) => {\n                return i >= (current - 1) * pageSize && i < current * pageSize;\n            });\n        }\n        return data;\n    }\n\n    getFlatData() {\n        return flatArray(this.getLocalData());\n    }\n\n    getFlatCurrentPageData() {\n        return flatArray(this.getCurrentPageData());\n    }\n\n    recursiveSort(data, sorterFn) {\n        const { childrenColumnName = 'children' } = this.props;\n        return data.sort(sorterFn).map((item) => (item[childrenColumnName] ? {\n            ...item,\n            [childrenColumnName]: this.recursiveSort(item[childrenColumnName], sorterFn),\n        } : item));\n    }\n\n    getLocalData() {\n        const state = this.state;\n        const { dataSource } = this.props;\n        let data = dataSource || [];\n        // 优化本地排序\n        data = data.slice(0);\n        const sorterFn = this.getSorterFn();\n        if (sorterFn) {\n            data = this.recursiveSort(data, sorterFn);\n        }\n        // 筛选\n        if (state.filters) {\n            Object.keys(state.filters).forEach((columnKey) => {\n                let col = this.findColumn(columnKey);\n                if (!col) {\n                    return;\n                }\n                let values = state.filters[columnKey] || [];\n                if (values.length === 0) {\n                    return;\n                }\n                const onFilter = col.onFilter;\n                data = onFilter ? data.filter(record => {\n                    return values.some(v => onFilter(v, record));\n                }) : data;\n            });\n        }\n        return data;\n    }\n\n    createComponents(components = {}, prevComponents) {\n        const bodyRow = components && components.body && components.body.row;\n        const preBodyRow = prevComponents && prevComponents.body && prevComponents.body.row;\n        if (!this.components || bodyRow !== preBodyRow) {\n            this.components = { ...components };\n            this.components.body = {\n                ...components.body,\n                row: createBodyRow(bodyRow),\n            };\n        }\n    }\n\n    renderTable = (contextLocale, loading) => {\n        const locale = { ...contextLocale, ...this.props.locale };\n        const { style, className, prefixCls, showHeader, ...restProps } = this.props;\n        const data = this.getCurrentPageData();\n        const expandIconAsCell = this.props.expandedRowRender && this.props.expandIconAsCell !== false;\n\n        const classString = classNames({\n            [`${prefixCls}-${this.props.size}`]: true,\n            [`${prefixCls}-bordered`]: this.props.bordered,\n            [`${prefixCls}-empty`]: !data.length,\n            [`${prefixCls}-without-column-header`]: !showHeader\n        });\n\n        let columns = this.renderRowSelection(locale);\n        columns = this.renderColumnsDropdown(columns, locale);\n        columns = columns.map((column, i) => {\n            const newColumn = { ...column };\n            newColumn.key = this.getColumnKey(newColumn, i);\n            return newColumn;\n        });\n        let expandIconColumnIndex = (columns[0] && columns[0].key === 'selection-column') ? 1 : 0;\n        if ('expandIconColumnIndex' in restProps) {\n            expandIconColumnIndex = restProps.expandIconColumnIndex;\n        }\n\n        return (\n            <RcTable\n                key=\"table\"\n                {...restProps}\n                onRow={this.onRow}\n                components={this.components}\n                prefixCls={prefixCls}\n                data={data}\n                columns={columns}\n                showHeader={showHeader}\n                className={classString}\n                expandIconColumnIndex={expandIconColumnIndex}\n                expandIconAsCell={expandIconAsCell}\n                emptyText={!loading.spinning && locale.emptyText}\n            />\n        );\n    }\n\n    render() {\n        const { style, className, prefixCls } = this.props;\n        const data = this.getCurrentPageData();\n\n        let loading = this.props.loading;\n        if (typeof loading === 'boolean') {\n            loading = {\n                spinning: loading,\n            };\n        }\n\n        const table = (\n            <LocaleReceiver\n                componentName=\"Table\"\n                defaultLocale={defaultLocale.Table}\n            >\n                {(locale) => this.renderTable(locale, loading)}\n            </LocaleReceiver>\n        );\n\n        // if there is no pagination or no data,\n        // the height of spin should decrease by half of pagination\n        const paginationPatchClass = (this.hasPagination() && data && data.length !== 0)\n        ? `${prefixCls}-with-pagination` : `${prefixCls}-without-pagination`;\n\n        return (\n            <div className={classNames(`${prefixCls}-wrapper`, className)} style={style} >\n                <Spin\n                    {...loading}\n                    className={loading.spinning ? `${paginationPatchClass} ${prefixCls}-spin-holder` : ''}\n                >\n                    {this.renderPagination('top')}\n                    {table}\n                    {this.renderPagination('bottom')}\n                </Spin>\n            </div>\n        );\n    }\n}\n"]}