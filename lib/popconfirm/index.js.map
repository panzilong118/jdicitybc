{"version":3,"sources":["../../components/popconfirm/index.js"],"names":["React","Popconfirm","props","onConfirm","e","setVisible","call","onCancel","onVisibleChange","visible","saveTooltip","node","tooltip","renderOverlay","popconfirmLocale","prefixCls","title","cancelText","okText","okType","state","undefined","nextProps","setState","getPopupDomNode","placement","restProps","overlay","Component","defaultProps","transitionName","trigger"],"mappings":"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","file":"index.js","sourcesContent":["/**\r\n * @author panzilong\r\n * @version 1.0.0\r\n */\r\nimport * as React from 'react';\r\nimport Tooltip from '../tooltip';\r\nimport Icon from '../icon';\r\nimport Button from '../button';\r\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\r\nimport defaultLocale from '../locale-provider/default';\r\n\r\nexport default class Popconfirm extends React.Component {\r\n    static defaultProps = {\r\n        prefixCls: 'jc-popover',\r\n        transitionName: 'zoom-big',\r\n        placement: 'top',\r\n        trigger: 'click',\r\n        okType: 'primary',\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visible: props.visible,\r\n        };\r\n        this.tooltip = undefined;\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if ('visible' in nextProps) {\r\n            this.setState({ visible: nextProps.visible });\r\n        }\r\n    }\r\n\r\n    getPopupDomNode() {\r\n        return this.tooltip.getPopupDomNode();\r\n    }\r\n\r\n    onConfirm = (e) => {\r\n        this.setVisible(false);\r\n\r\n        const { onConfirm } = this.props;\r\n        if (onConfirm) {\r\n            onConfirm.call(this, e);\r\n        }\r\n    }\r\n\r\n    onCancel = (e) => {\r\n        this.setVisible(false);\r\n\r\n        const { onCancel } = this.props;\r\n        if (onCancel) {\r\n            onCancel.call(this, e);\r\n        }\r\n    }\r\n\r\n    onVisibleChange = (visible) => {\r\n        this.setVisible(visible);\r\n    }\r\n\r\n    setVisible(visible) {\r\n        const props = this.props;\r\n        if (!('visible' in props)) {\r\n            this.setState({ visible });\r\n        }\r\n\r\n        const { onVisibleChange } = props;\r\n        if (onVisibleChange) {\r\n            onVisibleChange(visible);\r\n        }\r\n    }\r\n\r\n    saveTooltip = (node) => {\r\n        this.tooltip = node;\r\n    }\r\n\r\n    renderOverlay = (popconfirmLocale) => {\r\n        const { prefixCls, title, cancelText, okText, okType } = this.props;\r\n        return (\r\n            <div>\r\n                <div className={`${prefixCls}-inner-content`}>\r\n                    <div className={`${prefixCls}-message`}>\r\n                        <Icon type='exclamation-circle' />\r\n                        <div className={`${prefixCls}-message-title`}>{title}</div>\r\n                    </div>\r\n                    <div className={`${prefixCls}-buttons`}>\r\n                        <Button onClick={this.onCancel} size='small'>\r\n                            { cancelText || popconfirmLocale.cancelText }\r\n                        </Button>\r\n                        <Button onClick={this.onConfirm} type={okType} size='small'>\r\n                            { okText || popconfirmLocale.okText }\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { prefixCls, placement, ...restProps } = this.props;\r\n\r\n        const overlay = (\r\n            <LocaleReceiver\r\n                componentName='Popconfirm'\r\n                defaultLocale={defaultLocale.Popconfirm}\r\n            >\r\n                {this.renderOverlay}\r\n            </LocaleReceiver>\r\n        );\r\n\r\n        return (\r\n            <Tooltip\r\n                {...restProps}\r\n                prefixCls={prefixCls}\r\n                placement={placement}\r\n                onVisibleChange={this.onVisibleChange}\r\n                visible={this.state.visible}\r\n                overlay={overlay}\r\n                ref={this.saveTooltip}\r\n            />\r\n        );\r\n    }\r\n}\r\n"]}