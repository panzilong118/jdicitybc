{"version":3,"sources":["../../components/_util/getRequestAnimationFrame.js"],"names":["getRequestAnimationFrame","cancelRequestAnimationFrame","availablePrefixs","requestAnimationFramePolyfill","lastTime","callback","currTime","Date","getTime","timeToCall","Math","max","id","window","setTimeout","requestAnimationFrame","bind","prefix","filter","key","cancelAnimationFrame","call","clearTimeout"],"mappings":";;;;;kBAawBA,wB;QAgBRC,2B,GAAAA,2B;AA7BhB,IAAMC,mBAAmB,CAAC,KAAD,EAAQ,IAAR,EAAc,QAAd,CAAzB;;AAEA,SAASC,6BAAT,GAAyC;AACrC,QAAIC,WAAW,CAAf;AACA,WAAO,UAAUC,QAAV,EAAoB;AACvB,YAAMC,WAAW,IAAIC,IAAJ,GAAWC,OAAX,EAAjB;AACA,YAAMC,aAAaC,KAAKC,GAAL,CAAS,CAAT,EAAY,MAAML,WAAWF,QAAjB,CAAZ,CAAnB;AACA,YAAMQ,KAAKC,OAAOC,UAAP,CAAkB,YAAM;AAAET,qBAASC,WAAWG,UAApB;AAAkC,SAA5D,EAA8DA,UAA9D,CAAX;AACAL,mBAAWE,WAAWG,UAAtB;AACA,eAAOG,EAAP;AACH,KAND;AAOH;;AAEc,SAASZ,wBAAT,GAAoC;AAC/C,QAAI,OAAOa,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,eAAO,YAAM,CAAE,CAAf;AACH;AACD,QAAIA,OAAOE,qBAAX,EAAkC;AAC9B;AACA,eAAOF,OAAOE,qBAAP,CAA6BC,IAA7B,CAAkCH,MAAlC,CAAP;AACH;;AAED,QAAMI,SAASf,iBAAiBgB,MAAjB,CAAwB;AAAA,eAAUC,GAAH,8BAAiCN,MAAxC;AAAA,KAAxB,EAAwE,CAAxE,CAAf;;AAEA,WAAOI,SACDJ,OAAUI,MAAV,2BADC,GAEDd,+BAFN;AAGH;;AAEM,SAASF,2BAAT,CAAqCW,EAArC,EAAyC;AAC5C,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AAC/B,eAAO,IAAP;AACH;AACD,QAAIA,OAAOO,oBAAX,EAAiC;AAC7B,eAAOP,OAAOO,oBAAP,CAA4BR,EAA5B,CAAP;AACH;AACD,QAAMK,SAASf,iBAAiBgB,MAAjB,CAAwB;AAAA,eAAUC,GAAH,6BAAgCN,MAAhC,IAA6CM,GAAH,oCAAuCN,MAAxF;AAAA,KAAxB,EAAwH,CAAxH,CAAf;;AAEA,WAAOI,SACH,CACIJ,OAAUI,MAAV,8BAA2CJ,OAAUI,MAAV,iCAD/C,EAEEI,IAFF,CAEO,IAFP,EAEaT,EAFb,CADG,GAGgBU,aAAaV,EAAb,CAHvB;AAIH","file":"getRequestAnimationFrame.js","sourcesContent":["const availablePrefixs = ['moz', 'ms', 'webkit'];\n\nfunction requestAnimationFramePolyfill() {\n    let lastTime = 0;\n    return function (callback) {\n        const currTime = new Date().getTime();\n        const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        const id = window.setTimeout(() => { callback(currTime + timeToCall); }, timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n    };\n}\n\nexport default function getRequestAnimationFrame() {\n    if (typeof window === 'undefined') {\n        return () => {};\n    }\n    if (window.requestAnimationFrame) {\n        // https://github.com/vuejs/vue/issues/4465\n        return window.requestAnimationFrame.bind(window);\n    }\n\n    const prefix = availablePrefixs.filter(key => `${key}RequestAnimationFrame` in window)[0];\n\n    return prefix\n        ? window[`${prefix}RequestAnimationFrame`]\n        : requestAnimationFramePolyfill();\n}\n\nexport function cancelRequestAnimationFrame(id) {\n    if (typeof window === 'undefined') {\n        return null;\n    }\n    if (window.cancelAnimationFrame) {\n        return window.cancelAnimationFrame(id);\n    }\n    const prefix = availablePrefixs.filter(key => `${key}CancelAnimationFrame` in window || `${key}CancelRequestAnimationFrame` in window)[0];\n\n    return prefix ?\n        (\n            window[`${prefix}CancelAnimationFrame`] || window[`${prefix}CancelRequestAnimationFrame`]\n        ).call(this, id) : clearTimeout(id);\n}\n"]}