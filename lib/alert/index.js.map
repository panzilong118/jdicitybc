{"version":3,"sources":["../../components/alert/index.js"],"names":["React","ReactDOM","noop","Alert","props","handleClose","e","preventDefault","dom","findDOMNode","style","height","offsetHeight","setState","closing","onClose","animationEnd","closed","state","closable","type","showIcon","iconType","description","prefixCls","message","closeText","banner","className","undefined","alertCls","closeIcon","Component"],"mappings":"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","file":"index.js","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Animate from 'rc-animate';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport Blue from './blue';\n\nfunction noop() { }\n\nexport default class Alert extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            closing: true,\n            closed: false,\n        };\n    }\n  handleClose = (e) => {\n      e.preventDefault();\n      const dom = ReactDOM.findDOMNode(this);\n      dom.style.height = `${dom.offsetHeight}px`;\n      // Magic code\n      // 重复一次后才能正确设置 height\n      dom.style.height = `${dom.offsetHeight}px`;\n\n      this.setState({\n          closing: false,\n      });\n      (this.props.onClose || noop)(e);\n  }\n  animationEnd = () => {\n      this.setState({\n          closed: true,\n          closing: true,\n      });\n  }\n  render() {\n      let {\n          closable, type, showIcon, iconType,\n      } = this.props;\n      const {\n          description, prefixCls = 'jc-alert', message, closeText, banner, className = '', style,\n      } = this.props;\n\n      // banner模式默认有 Icon\n      showIcon = banner && showIcon === undefined ? true : showIcon;\n      // banner模式默认为警告\n      type = banner && type === undefined ? 'warning' : type || 'info';\n\n      if (!iconType) {\n          switch (type) {\n          case 'success':\n              iconType = 'check-circle';\n              break;\n          case 'info':\n              iconType = 'info-circle';\n              break;\n          case 'error':\n              iconType = 'cross-circle';\n              break;\n          case 'warning':\n              iconType = 'exclamation-circle';\n              break;\n          default:\n              iconType = 'default';\n          }\n\n          // use outline icon in alert with description\n          if (description) {\n              iconType += '-o';\n          }\n      }\n\n      const alertCls = classNames(prefixCls, {\n          [`${prefixCls}-${type}`]: true,\n          [`${prefixCls}-close`]: !this.state.closing,\n          [`${prefixCls}-with-description`]: !!description,\n          [`${prefixCls}-no-icon`]: !showIcon,\n          [`${prefixCls}-banner`]: !!banner,\n      }, className);\n\n      // closeable when closeText is assigned\n      if (closeText) {\n          closable = true;\n      }\n\n      const closeIcon = closable ? (\n          <a onClick={this.handleClose} className={`${prefixCls}-close-icon`}>\n              {closeText || <Icon type='cross' />}\n          </a>\n      ) : null;\n\n      return this.state.closed ? null : (\n          <Animate\n              component=''\n              showProp='data-show'\n              transitionName={`${prefixCls}-slide-up`}\n              onEnd={this.animationEnd}\n          >\n              <div data-show={this.state.closing} className={alertCls} style={style}>\n                  {showIcon ? <Icon className={`${prefixCls}-icon`} type={iconType} /> : null}\n                  <span className={`${prefixCls}-message`}>{message}</span>\n                  <span className={`${prefixCls}-description`}>{description}</span>\n                  <span className=\"red\">red</span>\n                  <span className=\"green\">green</span>\n                  <Blue />\n                  {closeIcon}\n              </div>\n          </Animate>\n      );\n  }\n}\n"]}