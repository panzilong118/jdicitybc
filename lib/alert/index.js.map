{"version":3,"sources":["../../components/alert/index.js"],"names":["React","ReactDOM","noop","Alert","props","handleClose","e","preventDefault","dom","findDOMNode","style","height","offsetHeight","setState","closing","onClose","animationEnd","closed","state","closable","type","showIcon","iconType","description","prefixCls","message","closeText","banner","className","undefined","alertCls","closeIcon","Component"],"mappings":"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","file":"index.js","sourcesContent":["/**\r\n * Created by gaoqingli on 2018/4/18.\r\n */\r\nimport * as React from 'react';\r\n\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nimport Animate from 'rc-animate';\r\n\r\nimport classNames from 'classnames';\r\n\r\nimport Icon from '../icon';\r\n\r\nfunction noop() { }\r\n\r\nexport default class Alert extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            closing: true,\r\n            closed: false,\r\n        };\r\n    }\r\n  handleClose = (e) => {\r\n      e.preventDefault();\r\n      const dom = ReactDOM.findDOMNode(this);\r\n      dom.style.height = `${dom.offsetHeight}px`;\r\n      // Magic code\r\n      // 重复一次后才能正确设置 height\r\n      dom.style.height = `${dom.offsetHeight}px`;\r\n\r\n      this.setState({\r\n          closing: false,\r\n      });\r\n      (this.props.onClose || noop)(e);\r\n  }\r\n  animationEnd = () => {\r\n      this.setState({\r\n          closed: true,\r\n          closing: true,\r\n      });\r\n  }\r\n  render() {\r\n      let {\r\n          closable, type, showIcon, iconType,\r\n      } = this.props;\r\n      const {\r\n          description, prefixCls = 'jc-alert', message, closeText, banner, className = '', style,\r\n      } = this.props;\r\n\r\n      // banner模式默认有 Icon\r\n      showIcon = banner && showIcon === undefined ? true : showIcon;\r\n      // banner模式默认为警告\r\n      type = banner && type === undefined ? 'warning' : type || 'info';\r\n\r\n      if (!iconType) {\r\n          switch (type) {\r\n          case 'success':\r\n              iconType = 'check-circle';\r\n              break;\r\n          case 'info':\r\n              iconType = 'info-circle';\r\n              break;\r\n          case 'error':\r\n              iconType = 'cross-circle';\r\n              break;\r\n          case 'warning':\r\n              iconType = 'exclamation-circle';\r\n              break;\r\n          default:\r\n              iconType = 'default';\r\n          }\r\n\r\n          // use outline icon in alert with description\r\n          if (description) {\r\n              iconType += '-o';\r\n          }\r\n      }\r\n\r\n      const alertCls = classNames(prefixCls, {\r\n          [`${prefixCls}-${type}`]: true,\r\n          [`${prefixCls}-close`]: !this.state.closing,\r\n          [`${prefixCls}-with-description`]: !!description,\r\n          [`${prefixCls}-no-icon`]: !showIcon,\r\n          [`${prefixCls}-banner`]: !!banner,\r\n      }, className);\r\n\r\n      // closeable when closeText is assigned\r\n      if (closeText) {\r\n          closable = true;\r\n      }\r\n\r\n      const closeIcon = closable ? (\r\n          <a onClick={this.handleClose} className={`${prefixCls}-close-icon`}>\r\n              {closeText || <Icon type='cross' />}\r\n          </a>\r\n      ) : null;\r\n\r\n      return this.state.closed ? null : (\r\n          <Animate\r\n              component=''\r\n              showProp='data-show'\r\n              transitionName={`${prefixCls}-slide-up`}\r\n              onEnd={this.animationEnd}\r\n          >\r\n              <div data-show={this.state.closing} className={alertCls} style={style}>\r\n                  {showIcon ? <Icon className={`${prefixCls}-icon`} type={iconType} /> : null}\r\n                  <span className={`${prefixCls}-message`}>{message}</span>\r\n                  <span className={`${prefixCls}-description`}>{description}</span>\r\n                  {closeIcon}\r\n              </div>\r\n          </Animate>\r\n      );\r\n  }\r\n}\r\n"]}