{"version":3,"sources":["../../components/modal/Modal.js"],"names":["React","mousePosition","mousePositionEventBinded","Modal","handleCancel","e","onCancel","props","handleOk","onOk","renderFooter","locale","okText","okType","cancelText","confirmLoading","document","documentElement","x","pageX","y","pageY","setTimeout","footer","visible","defaultFooter","undefined","Component","defaultProps","prefixCls","width","transitionName","maskTransitionName","propTypes","oneOfType","number","oneOf","bool","string","func","node","align","object","title","closable","maskClosable","destroyOnClose","wrapClassName","className","zIndex","mask","keyboard","iconClassName","iconType","okCancel","type"],"mappings":"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","file":"Modal.js","sourcesContent":["import * as React from 'react';\nimport Dialog from 'rc-dialog';\nimport PropTypes from 'prop-types';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { getConfirmLocale } from './locale';\n\nlet mousePosition;\nlet mousePositionEventBinded;\nexport default class Modal extends React.Component {\n    componentDidMount() {\n        if (mousePositionEventBinded) {\n            return;\n        }\n        // 只有点击事件支持从鼠标位置动画展开\n        addEventListener(document.documentElement, 'click', (e) => {\n            mousePosition = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n            // 100ms 内发生过点击事件，则从点击位置动画展示\n            // 否则直接 zoom 展示\n            // 这样可以兼容非点击方式展开\n            setTimeout(() => mousePosition, 100);\n        });\n        mousePositionEventBinded = true;\n    }\n\n    handleCancel = (e) => {\n        const { onCancel } = this.props;\n        if (onCancel) {\n            onCancel(e);\n        }\n    }\n\n    handleOk = (e) => {\n        const { onOk } = this.props;\n        if (onOk) {\n            onOk(e);\n        }\n    }\n    renderFooter = (locale) => {\n        const { okText, okType, cancelText, confirmLoading } = this.props;\n        return (\n            <div>\n                <Button\n                    onClick={this.handleCancel}\n                >\n                    {cancelText || locale.cancelText}\n                </Button>\n                <Button\n                    type={okType}\n                    loading={confirmLoading}\n                    onClick={this.handleOk}\n                >\n                    {okText || locale.okText}\n                </Button>\n            </div>\n        );\n    }\n\n    render() {\n        const { footer, visible } = this.props;\n\n        const defaultFooter = (\n            <LocaleReceiver\n                componentName='Modal'\n                defaultLocale={getConfirmLocale()}\n            >\n                {this.renderFooter}\n            </LocaleReceiver>\n        );\n\n        return (\n            <Dialog\n                {...this.props}\n                footer={footer === undefined ? defaultFooter : footer}\n                visible={visible}\n                mousePosition={mousePosition}\n                onClose={this.handleCancel}\n            />\n        );\n    }\n}\n\nModal.defaultProps = {\n    prefixCls: 'jc-modal',\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary',\n\n};\n\nModal.propTypes = {\n    mousePosition: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([null])]),\n    mousePositionEventBinded: PropTypes.bool,\n    prefixCls: PropTypes.string,\n    onOk: PropTypes.func,\n    onCancel: PropTypes.func,\n    okText: PropTypes.node,\n    cancelText: PropTypes.node,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    confirmLoading: PropTypes.bool,\n    visible: PropTypes.bool,\n    align: PropTypes.object,\n    footer: PropTypes.node,\n    title: PropTypes.node,\n    closable: PropTypes.bool,\n    maskClosable: PropTypes.bool,\n    destroyOnClose: PropTypes.bool,\n    wrapClassName: PropTypes.string,\n    maskTransitionName: PropTypes.string,\n    transitionName: PropTypes.string,\n    className: PropTypes.string,\n    zIndex: PropTypes.number,\n    mask: PropTypes.bool,\n    keyboard: PropTypes.bool,\n    iconClassName: PropTypes.string,\n    iconType: PropTypes.string,\n    okCancel: PropTypes.bool,\n    type: PropTypes.string,\n    okType: PropTypes.string,\n};\n"]}