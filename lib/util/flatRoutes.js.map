{"version":3,"sources":["../../components/util/flatRoutes.js"],"names":["flatRoutes","flatWrap","routesArr","result","flat","routes","forEach","item","push","Croutes","_","cloneDeep"],"mappings":";;;;;QAsCgBA,U,GAAAA,U;;AAlBhB;;;;;;AAEA,SAASC,QAAT,CAAkBC,SAAlB,EAA6B;AAC3B,MAAMC,SAAS,EAAf;AACA,WAASC,IAAT,CAAcC,MAAd,EAAsB;AACpBA,WAAOC,OAAP,CAAe,UAACC,IAAD,EAAU;AACvB,UAAIA,KAAKF,MAAT,EAAiB;AACfF,eAAOK,IAAP,CAAYD,IAAZ;AACAH,aAAKG,KAAKF,MAAV;AACD,OAHD,MAGO;AACLF,eAAOK,IAAP,CAAYD,IAAZ;AACD;AACF,KAPD;AAQD;AACDH,OAAKF,SAAL;AACA,SAAOC,MAAP;AACD,C,CApCD;AACA;;;;;;;;;;;;;;;;;;;AAqCO,SAASH,UAAT,CAAoBK,MAApB,EAA4B;AACjC,MAAMI,UAAUC,iBAAEC,SAAF,CAAYN,MAAZ,CAAhB;AACAI,UAAQH,OAAR,CAAgB,UAACC,IAAD,EAAU;AACxB,QAAIA,KAAKF,MAAT,EAAiB;AACf;AACAE,WAAKF,MAAL,GAAcJ,SAASM,KAAKF,MAAd,CAAd;AACD;AACF,GALD;AAMA,SAAOI,OAAP;AACD","file":"flatRoutes.js","sourcesContent":["// 为了react-route渲染将所有的routes都放在最外层的routes属性下面\n/* 例： [{\n  component:f,\n  path:undefined,\n  label: \"数据集成\",\n  routes:[\n    {component: ƒ, path: \"/itgr/overview\", label: \"数据集成概览\"},\n    {component: ƒ, path: \"/itgr/origin/itgr-offline\", label: \"数据源\", routes:Array(4)}\n  ]\n}] => [{\n  component:f,\n  path:undefined,\n  label: \"数据集成\",\n  routes:[\n    {component: ƒ, path: \"/itgr/overview\", label: \"数据集成概览\"},\n    {component: ƒ, path: \"/itgr/origin/itgr-offline\", label: \"数据源\"},\n    {component: ƒ, path: \"/itgr/origin/itgr-offline/add\", label: \"添加离线同步数据源\"},\n    ...\n  ]\n}] */\nimport _ from 'lodash';\n\nfunction flatWrap(routesArr) {\n  const result = [];\n  function flat(routes) {\n    routes.forEach((item) => {\n      if (item.routes) {\n        result.push(item);\n        flat(item.routes);\n      } else {\n        result.push(item);\n      }\n    });\n  }\n  flat(routesArr);\n  return result;\n}\n\nexport function flatRoutes(routes) {\n  const Croutes = _.cloneDeep(routes);\n  Croutes.forEach((item) => {\n    if (item.routes) {\n      // eslint-disable-next-line\n      item.routes = flatWrap(item.routes);\n    }\n  });\n  return Croutes;\n}\n"]}